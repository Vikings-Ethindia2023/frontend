import{r as hu,a as Fs,c as K,b as ln,i as Ut,g as H0,d as W0,e as fu,f as V0,h as Sc,j as ri,k as z0,l as du,m as U0,n as q0}from"./index--5PAUoZo.js";import{_ as F,S as se,a as Rt,O as Me,b as G0,c as ht,d as pu,A as Hs,e as Ws,i as or,s as J0,f as Vs,g as Z0,m as ar,h as Dt,j as Nh,k as Fa,l as Oh,n as Tr,o as Q0,p as Lh,q as Wn,r as Cs,t as wt,u as Is,v as Ke,w as Ye,x as Xe,y as K0,U as Y0,z as X0,B as ep,C as tp,D as Ph,E as rp,F as Ha,G as np,H as $h,I as ks,J as ip}from"./timer-EmXQmfcy.js";function sp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function gu(){return function(e){return e.lift(new op(e))}}var op=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new ap(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),ap=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(se),Dh=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Rt,r.add(this.source.subscribe(new cp(this.getSubject(),this))),r.closed&&(this._connection=null,r=Rt.EMPTY)),r},e.prototype.refCount=function(){return gu()(this)},e}(Me),up=function(){var t=Dh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),cp=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(G0);function lp(t,e,r,n){return function(i){return i.lift(new hp(t,e,r,n))}}var hp=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new fp(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),fp=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(c){this.error(c)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ht,i.set(n,s);var a=new Wa(n,s,this);if(this.destination.next(a),this.durationSelector){var l=void 0;try{l=this.durationSelector(new Wa(n,s))}catch(c){this.error(c);return}this.add(l.subscribe(new dp(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(se),dp=function(t){F(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(se),Wa=function(t){F(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Rt,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new pp(s)),n.add(o.subscribe(r)),n},e}(Me),pp=function(t){F(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Rt),Bh=function(t){F(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pu;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ht),gp=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Hs),vp=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ws),jh=new vp(gp),Fh=jh,Vn=new Me(function(t){return t.complete()});function ni(t){return t?bp(t):Vn}function bp(t){return new Me(function(e){return t.schedule(function(){return e.complete()})})}function zs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return or(r)?(t.pop(),J0(t,r)):Vs(t)}function vu(t,e){return e?new Me(function(r){return e.schedule(mp,0,{error:t,subscriber:r})}):new Me(function(r){return r.error(t)})}function mp(t){var e=t.error,r=t.subscriber;r.error(e)}var Va;Va||(Va={});var gr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return zs(this.value);case"E":return vu(this.error);case"C":return ni()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function yp(t,e){return e===void 0&&(e=0),function(n){return n.lift(new _p(t,e))}}var _p=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Hh(e,this.scheduler,this.delay))},t}(),Hh=function(t){F(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new wp(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(gr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(gr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(gr.createComplete()),this.unsubscribe()},e}(se),wp=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),bu=function(t){F(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Sp(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new pu;if(this.isStopped||this.hasError?a=Rt.EMPTY:(this.observers.push(r),a=new Z0(this,r)),s&&r.add(r=new Hh(r,s)),n)for(var l=0;l<o&&!r.closed;l++)r.next(i[l]);else for(var l=0;l<o&&!r.closed;l++)r.next(i[l].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Fh).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ht),Sp=function(){function t(e,r){this.time=e,this.value=r}return t}(),ii=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Rt.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Rt.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ht),Ep=1,Mp=function(){return Promise.resolve()}(),za={};function Ec(t){return t in za?(delete za[t],!0):!1}var Mc={setImmediate:function(t){var e=Ep++;return za[e]=!0,Mp.then(function(){return Ec(e)&&t()}),e},clearImmediate:function(t){Ec(t)}},xp=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Mc.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Mc.clearImmediate(n),r.scheduled=void 0)},e}(Hs),Rp=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ws),Wh=new Rp(xp),ws=Wh,Cp=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Hs),Ip=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ws),Vh=new Ip(Cp),kp=Vh,Ap=function(t){F(e,t);function e(r,n){r===void 0&&(r=zh),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Ws),zh=function(t){F(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Hs);function Yt(){}function Tp(t){return!!t&&(t instanceof Me||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Np=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),zn=Np,Op=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Di=Op,Lp=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Uh=Lp;function qh(t,e,r){if(e)if(or(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qh(t,r).apply(void 0,n).pipe(ar(function(s){return Dt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new Me(function(l){if(r){var d={args:n,subscriber:l,params:a};return r.schedule(Pp,0,d)}else{if(!o){o=new ii;var c=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];o.next(p.length<=1?p[0]:p),o.complete()};try{t.apply(s,n.concat([c]))}catch(p){Nh(o)?o.error(p):console.warn(p)}}return o.subscribe(l)}})}}function Pp(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,l=i.subject;if(!l){l=i.subject=new ii;var c=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=d.length<=1?d[0]:d;e.add(a.schedule($p,0,{value:v,subject:l}))};try{s.apply(o,r.concat([c]))}catch(d){l.error(d)}}this.add(l.subscribe(n))}function $p(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gh(t,e,r){if(e)if(or(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gh(t,r).apply(void 0,n).pipe(ar(function(s){return Dt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new Me(function(o){var a=s.context,l=s.subject;if(r)return r.schedule(Dp,0,{params:s,subscriber:o,context:a});if(!l){l=s.subject=new ii;var c=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=d.shift();if(v){l.error(v);return}l.next(d.length<=1?d[0]:d),l.complete()};try{t.apply(a,n.concat([c]))}catch(d){Nh(l)?l.error(d):console.warn(d)}}return l.subscribe(o)})}}function Dp(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,l=r.subject;if(!l){l=r.subject=new ii;var c=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=d.shift();if(v)e.add(a.schedule(xc,0,{err:v,subject:l}));else{var E=d.length<=1?d[0]:d;e.add(a.schedule(Bp,0,{value:E,subject:l}))}};try{s.apply(i,o.concat([c]))}catch(d){this.add(a.schedule(xc,0,{err:d,subject:l}))}}this.add(l.subscribe(n))}function Bp(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function xc(t){var e=t.err,r=t.subject;r.error(e)}var hn=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(se),jp=function(t){F(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(se);function vr(t,e,r,n,i){if(i===void 0&&(i=new jp(t,r,n)),!i.closed)return e instanceof Me?e.subscribe(i):Fa(e)(i)}var Rc={};function Fp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return or(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Dt(t[0])&&(t=t[0]),Vs(t,n).lift(new mu(r))}var mu=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Hp(e,this.resultSelector))},t}(),Hp=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Rc),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(vr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Rc?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(hn);function Jh(){return Oh(1)}function Ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Jh()(zs.apply(void 0,t))}function yu(t){return new Me(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Tr(r):ni();return n.subscribe(e)})}function Wp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Dt(r))return ss(r,null);if(Q0(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ss(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Dt(t[0])?t[0]:t,ss(t,null).pipe(ar(function(s){return i.apply(void 0,s)}))}return ss(t,null)}function ss(t,e){return new Me(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(c){var d=Tr(t[c]),p=!1;r.add(d.subscribe({next:function(v){p||(p=!0,o++),i[c]=v},error:function(v){return r.error(v)},complete:function(){s++,(s===n||!p)&&(o===n&&r.next(e?e.reduce(function(v,E,R){return v[E]=i[R],v},{}):i),r.complete())}}))},l=0;l<n;l++)a(l)})}function Zh(t,e,r){return r?Zh(t,e).pipe(ar(function(n){return Dt(n)?r.apply(void 0,n):r(n)})):new Me(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Lh(e))return function(){return e(i,s)}})}function Vp(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Wn,i=a.scheduler}else n===void 0||or(n)?(o=t,s=Wn,i=n):(o=t,s=n);return new Me(function(l){var c=o;if(i)return i.schedule(zp,0,{subscriber:l,iterate:r,condition:e,resultSelector:s,state:c});do{if(e){var d=void 0;try{d=e(c)}catch(v){l.error(v);return}if(!d){l.complete();break}}var p=void 0;try{p=s(c)}catch(v){l.error(v);return}if(l.next(p),l.closed)break;try{c=r(c)}catch(v){l.error(v);return}}while(!0)})}function zp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Up(t,e,r){return e===void 0&&(e=Vn),r===void 0&&(r=Vn),yu(function(){return t()?e:r})}function qp(t,e){return t===void 0&&(t=0),e===void 0&&(e=wt),(!Cs(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=wt),new Me(function(r){return r.add(e.schedule(Gp,t,{subscriber:r,counter:0,period:t})),r})}function Gp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}var Qh=new Me(Yt);function Jp(){return Qh}function Ua(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Vn;var r=t[0],n=t.slice(1);return t.length===1&&Dt(r)?Ua.apply(void 0,r):new Me(function(i){var s=function(){return i.add(Ua.apply(void 0,n).subscribe(i))};return Tr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Zp(t,e){return e?new Me(function(r){var n=Object.keys(t),i=new Rt;return i.add(e.schedule(Qp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new Me(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Qp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Kh(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Rr(t,e){return function(n){return n.lift(new Kp(t,e))}}var Kp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.predicate,this.thisArg))},t}(),Yp=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(se);function Xp(t,e,r){return[Rr(e,r)(new Me(Fa(t))),Rr(Kh(e,r))(new Me(Fa(t)))]}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Dt(t[0]))t=t[0];else return t[0];return Vs(t,void 0).lift(new eg)}var eg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new tg(e))},t}(),tg=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=vr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(hn);function rg(t,e,r){return t===void 0&&(t=0),new Me(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(ng,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function ng(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function ig(t,e){return new Me(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Tr(i):Vn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Xh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Vs(t,void 0).lift(new ef(r))}var ef=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new sg(e,this.resultSelector))},t}(),sg=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Dt(r)?n.push(new ag(r)):typeof r[Is]=="function"?n.push(new og(r[Is]())):n.push(new ug(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,l=[],s=0;s<n;s++){var o=r[s],c=o.next();if(o.hasCompleted()&&(a=!0),c.done){i.complete();return}l.push(c.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(se),og=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),ag=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Is]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),ug=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Is]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Ke(this.observable,new Ye(this))},e}(Xe);const cg=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:zn,AsyncSubject:ii,BehaviorSubject:Bh,ConnectableObservable:Dh,EMPTY:Vn,EmptyError:Di,GroupedObservable:Wa,NEVER:Qh,Notification:gr,get NotificationKind(){return Va},ObjectUnsubscribedError:pu,Observable:Me,ReplaySubject:bu,Scheduler:K0,Subject:ht,Subscriber:se,Subscription:Rt,TimeoutError:Uh,UnsubscriptionError:Y0,VirtualAction:zh,VirtualTimeScheduler:Ap,animationFrame:kp,animationFrameScheduler:Vh,asap:ws,asapScheduler:Wh,async:wt,asyncScheduler:X0,bindCallback:qh,bindNodeCallback:Gh,combineLatest:Fp,concat:Ai,config:ep,defer:yu,empty:ni,forkJoin:Wp,from:Tr,fromEvent:tp,fromEventPattern:Zh,generate:Vp,identity:Wn,iif:Up,interval:qp,isObservable:Tp,merge:Ph,never:Jp,noop:Yt,observable:rp,of:zs,onErrorResumeNext:Ua,pairs:Zp,partition:Xp,pipe:Ha,queue:Fh,queueScheduler:jh,race:Yh,range:rg,scheduled:np,throwError:vu,timer:$h,using:ig,zip:Xh},Symbol.toStringTag,{value:"Module"}));var _u={},Ti={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.walletLogo=void 0;const lg=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Us.walletLogo=lg;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.LINK_API_URL=void 0;qs.LINK_API_URL="https://www.walletlink.org";var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ScopedLocalStorage=void 0;class hg{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Gs.ScopedLocalStorage=hg;var Un={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});const fg=hu();function Cc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function dg(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let pg=class extends fg.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Cc(s,this,r);else{const o=s.length,a=dg(s);for(let l=0;l<o;l+=1)Cc(a[l],this,r)}return!0}};fn.default=pg;var wu={exports:{}};wu.exports;(function(t){(function(e,r){function n(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var f=function(){};f.prototype=u.prototype,b.prototype=new f,b.prototype.constructor=b}function s(b,u,f){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(f=u,u=10),this._init(b||0,u||10,f||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Fs.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,f){return u.cmp(f)>0?u:f},s.min=function(u,f){return u.cmp(f)<0?u:f},s.prototype._init=function(u,f,g){if(typeof u=="number")return this._initNumber(u,f,g);if(typeof u=="object")return this._initArray(u,f,g);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(f===16?this._parseHex(u,m,g):(this._parseBase(u,f,m),g==="le"&&this._initArray(this.toArray(),f,g)))},s.prototype._initNumber=function(u,f,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),f,g)},s.prototype._initArray=function(u,f,g){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var _,x,C=0;if(g==="be")for(m=u.length-1,_=0;m>=0;m-=3)x=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[_]|=x<<C&67108863,this.words[_+1]=x>>>26-C&67108863,C+=24,C>=26&&(C-=26,_++);else if(g==="le")for(m=0,_=0;m<u.length;m+=3)x=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[_]|=x<<C&67108863,this.words[_+1]=x>>>26-C&67108863,C+=24,C>=26&&(C-=26,_++);return this._strip()};function a(b,u){var f=b.charCodeAt(u);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;n(!1,"Invalid character in "+b)}function l(b,u,f){var g=a(b,f);return f-1>=u&&(g|=a(b,f-1)<<4),g}s.prototype._parseHex=function(u,f,g){this.length=Math.ceil((u.length-f)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var _=0,x=0,C;if(g==="be")for(m=u.length-1;m>=f;m-=2)C=l(u,f,m)<<_,this.words[x]|=C&67108863,_>=18?(_-=18,x+=1,this.words[x]|=C>>>26):_+=8;else{var y=u.length-f;for(m=y%2===0?f+1:f;m<u.length;m+=2)C=l(u,f,m)<<_,this.words[x]|=C&67108863,_>=18?(_-=18,x+=1,this.words[x]|=C>>>26):_+=8}this._strip()};function c(b,u,f,g){for(var m=0,_=0,x=Math.min(b.length,f),C=u;C<x;C++){var y=b.charCodeAt(C)-48;m*=g,y>=49?_=y-49+10:y>=17?_=y-17+10:_=y,n(y>=0&&_<g,"Invalid character"),m+=_}return m}s.prototype._parseBase=function(u,f,g){this.words=[0],this.length=1;for(var m=0,_=1;_<=67108863;_*=f)m++;m--,_=_/f|0;for(var x=u.length-g,C=x%m,y=Math.min(x,x-C)+g,h=0,S=g;S<y;S+=m)h=c(u,S,S+m,f),this.imuln(_),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(C!==0){var z=1;for(h=c(u,S,u.length,f),S=0;S<C;S++)z*=f;this.imuln(z),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var f=0;f<this.length;f++)u.words[f]=this.words[f];u.length=this.length,u.negative=this.negative,u.red=this.red};function d(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(s.prototype._move=function(u){d(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,f){u=u||10,f=f|0||1;var g;if(u===16||u==="hex"){g="";for(var m=0,_=0,x=0;x<this.length;x++){var C=this.words[x],y=((C<<m|_)&16777215).toString(16);_=C>>>24-m&16777215,m+=2,m>=26&&(m-=26,x--),_!==0||x!==this.length-1?g=v[6-y.length]+y+g:g=y+g}for(_!==0&&(g=_.toString(16)+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var h=E[u],S=R[u];g="";var z=this.clone();for(z.negative=0;!z.isZero();){var G=z.modrn(S).toString(u);z=z.idivn(S),z.isZero()?g=G+g:g=v[h-G.length]+G+g}for(this.isZero()&&(g="0"+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,f){return this.toArrayLike(o,u,f)}),s.prototype.toArray=function(u,f){return this.toArrayLike(Array,u,f)};var L=function(u,f){return u.allocUnsafe?u.allocUnsafe(f):new u(f)};s.prototype.toArrayLike=function(u,f,g){this._strip();var m=this.byteLength(),_=g||Math.max(1,m);n(m<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var x=L(u,_),C=f==="le"?"LE":"BE";return this["_toArrayLike"+C](x,m),x},s.prototype._toArrayLikeLE=function(u,f){for(var g=0,m=0,_=0,x=0;_<this.length;_++){var C=this.words[_]<<x|m;u[g++]=C&255,g<u.length&&(u[g++]=C>>8&255),g<u.length&&(u[g++]=C>>16&255),x===6?(g<u.length&&(u[g++]=C>>24&255),m=0,x=0):(m=C>>>24,x+=2)}if(g<u.length)for(u[g++]=m;g<u.length;)u[g++]=0},s.prototype._toArrayLikeBE=function(u,f){for(var g=u.length-1,m=0,_=0,x=0;_<this.length;_++){var C=this.words[_]<<x|m;u[g--]=C&255,g>=0&&(u[g--]=C>>8&255),g>=0&&(u[g--]=C>>16&255),x===6?(g>=0&&(u[g--]=C>>24&255),m=0,x=0):(m=C>>>24,x+=2)}if(g>=0)for(u[g--]=m;g>=0;)u[g--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var f=u,g=0;return f>=4096&&(g+=13,f>>>=13),f>=64&&(g+=7,f>>>=7),f>=8&&(g+=4,f>>>=4),f>=2&&(g+=2,f>>>=2),g+f},s.prototype._zeroBits=function(u){if(u===0)return 26;var f=u,g=0;return f&8191||(g+=13,f>>>=13),f&127||(g+=7,f>>>=7),f&15||(g+=4,f>>>=4),f&3||(g+=2,f>>>=2),f&1||g++,g},s.prototype.bitLength=function(){var u=this.words[this.length-1],f=this._countBits(u);return(this.length-1)*26+f};function N(b){for(var u=new Array(b.bitLength()),f=0;f<u.length;f++){var g=f/26|0,m=f%26;u[f]=b.words[g]>>>m&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,f=0;f<this.length;f++){var g=this._zeroBits(this.words[f]);if(u+=g,g!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]|u.words[f];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var f;this.length>u.length?f=u:f=this;for(var g=0;g<f.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=f.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var f,g;this.length>u.length?(f=this,g=u):(f=u,g=this);for(var m=0;m<g.length;m++)this.words[m]=f.words[m]^g.words[m];if(this!==f)for(;m<f.length;m++)this.words[m]=f.words[m];return this.length=f.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var f=Math.ceil(u/26)|0,g=u%26;this._expand(f),g>0&&f--;for(var m=0;m<f;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,f){n(typeof u=="number"&&u>=0);var g=u/26|0,m=u%26;return this._expand(g+1),f?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this._strip()},s.prototype.iadd=function(u){var f;if(this.negative!==0&&u.negative===0)return this.negative=0,f=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,f=this.isub(u),u.negative=1,f._normSign();var g,m;this.length>u.length?(g=this,m=u):(g=u,m=this);for(var _=0,x=0;x<m.length;x++)f=(g.words[x]|0)+(m.words[x]|0)+_,this.words[x]=f&67108863,_=f>>>26;for(;_!==0&&x<g.length;x++)f=(g.words[x]|0)+_,this.words[x]=f&67108863,_=f>>>26;if(this.length=g.length,_!==0)this.words[this.length]=_,this.length++;else if(g!==this)for(;x<g.length;x++)this.words[x]=g.words[x];return this},s.prototype.add=function(u){var f;return u.negative!==0&&this.negative===0?(u.negative=0,f=this.sub(u),u.negative^=1,f):u.negative===0&&this.negative!==0?(this.negative=0,f=u.sub(this),this.negative=1,f):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var f=this.iadd(u);return u.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,_;g>0?(m=this,_=u):(m=u,_=this);for(var x=0,C=0;C<_.length;C++)f=(m.words[C]|0)-(_.words[C]|0)+x,x=f>>26,this.words[C]=f&67108863;for(;x!==0&&C<m.length;C++)f=(m.words[C]|0)+x,x=f>>26,this.words[C]=f&67108863;if(x===0&&C<m.length&&m!==this)for(;C<m.length;C++)this.words[C]=m.words[C];return this.length=Math.max(this.length,C),m!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function I(b,u,f){f.negative=u.negative^b.negative;var g=b.length+u.length|0;f.length=g,g=g-1|0;var m=b.words[0]|0,_=u.words[0]|0,x=m*_,C=x&67108863,y=x/67108864|0;f.words[0]=C;for(var h=1;h<g;h++){for(var S=y>>>26,z=y&67108863,G=Math.min(h,u.length-1),q=Math.max(0,h-b.length+1);q<=G;q++){var A=h-q|0;m=b.words[A]|0,_=u.words[q]|0,x=m*_+z,S+=x/67108864|0,z=x&67108863}f.words[h]=z|0,y=S|0}return y!==0?f.words[h]=y|0:f.length--,f._strip()}var T=function(u,f,g){var m=u.words,_=f.words,x=g.words,C=0,y,h,S,z=m[0]|0,G=z&8191,q=z>>>13,A=m[1]|0,k=A&8191,B=A>>>13,X=m[2]|0,Z=X&8191,w=X>>>13,M=m[3]|0,$=M&8191,V=M>>>13,ge=m[4]|0,J=ge&8191,te=ge>>>13,It=m[5]|0,ve=It&8191,we=It>>>13,Or=m[6]|0,Se=Or&8191,be=Or>>>13,cr=m[7]|0,me=cr&8191,pe=cr>>>13,Et=m[8]|0,fe=Et&8191,xe=Et>>>13,yn=m[9]|0,Re=yn&8191,Ce=yn>>>13,_n=_[0]|0,Ie=_n&8191,ke=_n>>>13,wn=_[1]|0,Ae=wn&8191,Te=wn>>>13,Sn=_[2]|0,Ne=Sn&8191,Oe=Sn>>>13,En=_[3]|0,Le=En&8191,Pe=En>>>13,Mn=_[4]|0,$e=Mn&8191,De=Mn>>>13,xn=_[5]|0,Be=xn&8191,je=xn>>>13,Rn=_[6]|0,Fe=Rn&8191,He=Rn>>>13,Cn=_[7]|0,We=Cn&8191,Ve=Cn>>>13,In=_[8]|0,ze=In&8191,Ue=In>>>13,kn=_[9]|0,qe=kn&8191,Ge=kn>>>13;g.negative=u.negative^f.negative,g.length=19,y=Math.imul(G,Ie),h=Math.imul(G,ke),h=h+Math.imul(q,Ie)|0,S=Math.imul(q,ke);var Lr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(k,Ie),h=Math.imul(k,ke),h=h+Math.imul(B,Ie)|0,S=Math.imul(B,ke),y=y+Math.imul(G,Ae)|0,h=h+Math.imul(G,Te)|0,h=h+Math.imul(q,Ae)|0,S=S+Math.imul(q,Te)|0;var Pr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,y=Math.imul(Z,Ie),h=Math.imul(Z,ke),h=h+Math.imul(w,Ie)|0,S=Math.imul(w,ke),y=y+Math.imul(k,Ae)|0,h=h+Math.imul(k,Te)|0,h=h+Math.imul(B,Ae)|0,S=S+Math.imul(B,Te)|0,y=y+Math.imul(G,Ne)|0,h=h+Math.imul(G,Oe)|0,h=h+Math.imul(q,Ne)|0,S=S+Math.imul(q,Oe)|0;var $r=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul($,Ie),h=Math.imul($,ke),h=h+Math.imul(V,Ie)|0,S=Math.imul(V,ke),y=y+Math.imul(Z,Ae)|0,h=h+Math.imul(Z,Te)|0,h=h+Math.imul(w,Ae)|0,S=S+Math.imul(w,Te)|0,y=y+Math.imul(k,Ne)|0,h=h+Math.imul(k,Oe)|0,h=h+Math.imul(B,Ne)|0,S=S+Math.imul(B,Oe)|0,y=y+Math.imul(G,Le)|0,h=h+Math.imul(G,Pe)|0,h=h+Math.imul(q,Le)|0,S=S+Math.imul(q,Pe)|0;var Dr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,y=Math.imul(J,Ie),h=Math.imul(J,ke),h=h+Math.imul(te,Ie)|0,S=Math.imul(te,ke),y=y+Math.imul($,Ae)|0,h=h+Math.imul($,Te)|0,h=h+Math.imul(V,Ae)|0,S=S+Math.imul(V,Te)|0,y=y+Math.imul(Z,Ne)|0,h=h+Math.imul(Z,Oe)|0,h=h+Math.imul(w,Ne)|0,S=S+Math.imul(w,Oe)|0,y=y+Math.imul(k,Le)|0,h=h+Math.imul(k,Pe)|0,h=h+Math.imul(B,Le)|0,S=S+Math.imul(B,Pe)|0,y=y+Math.imul(G,$e)|0,h=h+Math.imul(G,De)|0,h=h+Math.imul(q,$e)|0,S=S+Math.imul(q,De)|0;var Br=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Br>>>26)|0,Br&=67108863,y=Math.imul(ve,Ie),h=Math.imul(ve,ke),h=h+Math.imul(we,Ie)|0,S=Math.imul(we,ke),y=y+Math.imul(J,Ae)|0,h=h+Math.imul(J,Te)|0,h=h+Math.imul(te,Ae)|0,S=S+Math.imul(te,Te)|0,y=y+Math.imul($,Ne)|0,h=h+Math.imul($,Oe)|0,h=h+Math.imul(V,Ne)|0,S=S+Math.imul(V,Oe)|0,y=y+Math.imul(Z,Le)|0,h=h+Math.imul(Z,Pe)|0,h=h+Math.imul(w,Le)|0,S=S+Math.imul(w,Pe)|0,y=y+Math.imul(k,$e)|0,h=h+Math.imul(k,De)|0,h=h+Math.imul(B,$e)|0,S=S+Math.imul(B,De)|0,y=y+Math.imul(G,Be)|0,h=h+Math.imul(G,je)|0,h=h+Math.imul(q,Be)|0,S=S+Math.imul(q,je)|0;var jr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(Se,Ie),h=Math.imul(Se,ke),h=h+Math.imul(be,Ie)|0,S=Math.imul(be,ke),y=y+Math.imul(ve,Ae)|0,h=h+Math.imul(ve,Te)|0,h=h+Math.imul(we,Ae)|0,S=S+Math.imul(we,Te)|0,y=y+Math.imul(J,Ne)|0,h=h+Math.imul(J,Oe)|0,h=h+Math.imul(te,Ne)|0,S=S+Math.imul(te,Oe)|0,y=y+Math.imul($,Le)|0,h=h+Math.imul($,Pe)|0,h=h+Math.imul(V,Le)|0,S=S+Math.imul(V,Pe)|0,y=y+Math.imul(Z,$e)|0,h=h+Math.imul(Z,De)|0,h=h+Math.imul(w,$e)|0,S=S+Math.imul(w,De)|0,y=y+Math.imul(k,Be)|0,h=h+Math.imul(k,je)|0,h=h+Math.imul(B,Be)|0,S=S+Math.imul(B,je)|0,y=y+Math.imul(G,Fe)|0,h=h+Math.imul(G,He)|0,h=h+Math.imul(q,Fe)|0,S=S+Math.imul(q,He)|0;var Fr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,y=Math.imul(me,Ie),h=Math.imul(me,ke),h=h+Math.imul(pe,Ie)|0,S=Math.imul(pe,ke),y=y+Math.imul(Se,Ae)|0,h=h+Math.imul(Se,Te)|0,h=h+Math.imul(be,Ae)|0,S=S+Math.imul(be,Te)|0,y=y+Math.imul(ve,Ne)|0,h=h+Math.imul(ve,Oe)|0,h=h+Math.imul(we,Ne)|0,S=S+Math.imul(we,Oe)|0,y=y+Math.imul(J,Le)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul(te,Le)|0,S=S+Math.imul(te,Pe)|0,y=y+Math.imul($,$e)|0,h=h+Math.imul($,De)|0,h=h+Math.imul(V,$e)|0,S=S+Math.imul(V,De)|0,y=y+Math.imul(Z,Be)|0,h=h+Math.imul(Z,je)|0,h=h+Math.imul(w,Be)|0,S=S+Math.imul(w,je)|0,y=y+Math.imul(k,Fe)|0,h=h+Math.imul(k,He)|0,h=h+Math.imul(B,Fe)|0,S=S+Math.imul(B,He)|0,y=y+Math.imul(G,We)|0,h=h+Math.imul(G,Ve)|0,h=h+Math.imul(q,We)|0,S=S+Math.imul(q,Ve)|0;var Hr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(fe,Ie),h=Math.imul(fe,ke),h=h+Math.imul(xe,Ie)|0,S=Math.imul(xe,ke),y=y+Math.imul(me,Ae)|0,h=h+Math.imul(me,Te)|0,h=h+Math.imul(pe,Ae)|0,S=S+Math.imul(pe,Te)|0,y=y+Math.imul(Se,Ne)|0,h=h+Math.imul(Se,Oe)|0,h=h+Math.imul(be,Ne)|0,S=S+Math.imul(be,Oe)|0,y=y+Math.imul(ve,Le)|0,h=h+Math.imul(ve,Pe)|0,h=h+Math.imul(we,Le)|0,S=S+Math.imul(we,Pe)|0,y=y+Math.imul(J,$e)|0,h=h+Math.imul(J,De)|0,h=h+Math.imul(te,$e)|0,S=S+Math.imul(te,De)|0,y=y+Math.imul($,Be)|0,h=h+Math.imul($,je)|0,h=h+Math.imul(V,Be)|0,S=S+Math.imul(V,je)|0,y=y+Math.imul(Z,Fe)|0,h=h+Math.imul(Z,He)|0,h=h+Math.imul(w,Fe)|0,S=S+Math.imul(w,He)|0,y=y+Math.imul(k,We)|0,h=h+Math.imul(k,Ve)|0,h=h+Math.imul(B,We)|0,S=S+Math.imul(B,Ve)|0,y=y+Math.imul(G,ze)|0,h=h+Math.imul(G,Ue)|0,h=h+Math.imul(q,ze)|0,S=S+Math.imul(q,Ue)|0;var Wr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,y=Math.imul(Re,Ie),h=Math.imul(Re,ke),h=h+Math.imul(Ce,Ie)|0,S=Math.imul(Ce,ke),y=y+Math.imul(fe,Ae)|0,h=h+Math.imul(fe,Te)|0,h=h+Math.imul(xe,Ae)|0,S=S+Math.imul(xe,Te)|0,y=y+Math.imul(me,Ne)|0,h=h+Math.imul(me,Oe)|0,h=h+Math.imul(pe,Ne)|0,S=S+Math.imul(pe,Oe)|0,y=y+Math.imul(Se,Le)|0,h=h+Math.imul(Se,Pe)|0,h=h+Math.imul(be,Le)|0,S=S+Math.imul(be,Pe)|0,y=y+Math.imul(ve,$e)|0,h=h+Math.imul(ve,De)|0,h=h+Math.imul(we,$e)|0,S=S+Math.imul(we,De)|0,y=y+Math.imul(J,Be)|0,h=h+Math.imul(J,je)|0,h=h+Math.imul(te,Be)|0,S=S+Math.imul(te,je)|0,y=y+Math.imul($,Fe)|0,h=h+Math.imul($,He)|0,h=h+Math.imul(V,Fe)|0,S=S+Math.imul(V,He)|0,y=y+Math.imul(Z,We)|0,h=h+Math.imul(Z,Ve)|0,h=h+Math.imul(w,We)|0,S=S+Math.imul(w,Ve)|0,y=y+Math.imul(k,ze)|0,h=h+Math.imul(k,Ue)|0,h=h+Math.imul(B,ze)|0,S=S+Math.imul(B,Ue)|0,y=y+Math.imul(G,qe)|0,h=h+Math.imul(G,Ge)|0,h=h+Math.imul(q,qe)|0,S=S+Math.imul(q,Ge)|0;var Vr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,y=Math.imul(Re,Ae),h=Math.imul(Re,Te),h=h+Math.imul(Ce,Ae)|0,S=Math.imul(Ce,Te),y=y+Math.imul(fe,Ne)|0,h=h+Math.imul(fe,Oe)|0,h=h+Math.imul(xe,Ne)|0,S=S+Math.imul(xe,Oe)|0,y=y+Math.imul(me,Le)|0,h=h+Math.imul(me,Pe)|0,h=h+Math.imul(pe,Le)|0,S=S+Math.imul(pe,Pe)|0,y=y+Math.imul(Se,$e)|0,h=h+Math.imul(Se,De)|0,h=h+Math.imul(be,$e)|0,S=S+Math.imul(be,De)|0,y=y+Math.imul(ve,Be)|0,h=h+Math.imul(ve,je)|0,h=h+Math.imul(we,Be)|0,S=S+Math.imul(we,je)|0,y=y+Math.imul(J,Fe)|0,h=h+Math.imul(J,He)|0,h=h+Math.imul(te,Fe)|0,S=S+Math.imul(te,He)|0,y=y+Math.imul($,We)|0,h=h+Math.imul($,Ve)|0,h=h+Math.imul(V,We)|0,S=S+Math.imul(V,Ve)|0,y=y+Math.imul(Z,ze)|0,h=h+Math.imul(Z,Ue)|0,h=h+Math.imul(w,ze)|0,S=S+Math.imul(w,Ue)|0,y=y+Math.imul(k,qe)|0,h=h+Math.imul(k,Ge)|0,h=h+Math.imul(B,qe)|0,S=S+Math.imul(B,Ge)|0;var zr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(zr>>>26)|0,zr&=67108863,y=Math.imul(Re,Ne),h=Math.imul(Re,Oe),h=h+Math.imul(Ce,Ne)|0,S=Math.imul(Ce,Oe),y=y+Math.imul(fe,Le)|0,h=h+Math.imul(fe,Pe)|0,h=h+Math.imul(xe,Le)|0,S=S+Math.imul(xe,Pe)|0,y=y+Math.imul(me,$e)|0,h=h+Math.imul(me,De)|0,h=h+Math.imul(pe,$e)|0,S=S+Math.imul(pe,De)|0,y=y+Math.imul(Se,Be)|0,h=h+Math.imul(Se,je)|0,h=h+Math.imul(be,Be)|0,S=S+Math.imul(be,je)|0,y=y+Math.imul(ve,Fe)|0,h=h+Math.imul(ve,He)|0,h=h+Math.imul(we,Fe)|0,S=S+Math.imul(we,He)|0,y=y+Math.imul(J,We)|0,h=h+Math.imul(J,Ve)|0,h=h+Math.imul(te,We)|0,S=S+Math.imul(te,Ve)|0,y=y+Math.imul($,ze)|0,h=h+Math.imul($,Ue)|0,h=h+Math.imul(V,ze)|0,S=S+Math.imul(V,Ue)|0,y=y+Math.imul(Z,qe)|0,h=h+Math.imul(Z,Ge)|0,h=h+Math.imul(w,qe)|0,S=S+Math.imul(w,Ge)|0;var Ur=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,y=Math.imul(Re,Le),h=Math.imul(Re,Pe),h=h+Math.imul(Ce,Le)|0,S=Math.imul(Ce,Pe),y=y+Math.imul(fe,$e)|0,h=h+Math.imul(fe,De)|0,h=h+Math.imul(xe,$e)|0,S=S+Math.imul(xe,De)|0,y=y+Math.imul(me,Be)|0,h=h+Math.imul(me,je)|0,h=h+Math.imul(pe,Be)|0,S=S+Math.imul(pe,je)|0,y=y+Math.imul(Se,Fe)|0,h=h+Math.imul(Se,He)|0,h=h+Math.imul(be,Fe)|0,S=S+Math.imul(be,He)|0,y=y+Math.imul(ve,We)|0,h=h+Math.imul(ve,Ve)|0,h=h+Math.imul(we,We)|0,S=S+Math.imul(we,Ve)|0,y=y+Math.imul(J,ze)|0,h=h+Math.imul(J,Ue)|0,h=h+Math.imul(te,ze)|0,S=S+Math.imul(te,Ue)|0,y=y+Math.imul($,qe)|0,h=h+Math.imul($,Ge)|0,h=h+Math.imul(V,qe)|0,S=S+Math.imul(V,Ge)|0;var qr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(qr>>>26)|0,qr&=67108863,y=Math.imul(Re,$e),h=Math.imul(Re,De),h=h+Math.imul(Ce,$e)|0,S=Math.imul(Ce,De),y=y+Math.imul(fe,Be)|0,h=h+Math.imul(fe,je)|0,h=h+Math.imul(xe,Be)|0,S=S+Math.imul(xe,je)|0,y=y+Math.imul(me,Fe)|0,h=h+Math.imul(me,He)|0,h=h+Math.imul(pe,Fe)|0,S=S+Math.imul(pe,He)|0,y=y+Math.imul(Se,We)|0,h=h+Math.imul(Se,Ve)|0,h=h+Math.imul(be,We)|0,S=S+Math.imul(be,Ve)|0,y=y+Math.imul(ve,ze)|0,h=h+Math.imul(ve,Ue)|0,h=h+Math.imul(we,ze)|0,S=S+Math.imul(we,Ue)|0,y=y+Math.imul(J,qe)|0,h=h+Math.imul(J,Ge)|0,h=h+Math.imul(te,qe)|0,S=S+Math.imul(te,Ge)|0;var Gr=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,y=Math.imul(Re,Be),h=Math.imul(Re,je),h=h+Math.imul(Ce,Be)|0,S=Math.imul(Ce,je),y=y+Math.imul(fe,Fe)|0,h=h+Math.imul(fe,He)|0,h=h+Math.imul(xe,Fe)|0,S=S+Math.imul(xe,He)|0,y=y+Math.imul(me,We)|0,h=h+Math.imul(me,Ve)|0,h=h+Math.imul(pe,We)|0,S=S+Math.imul(pe,Ve)|0,y=y+Math.imul(Se,ze)|0,h=h+Math.imul(Se,Ue)|0,h=h+Math.imul(be,ze)|0,S=S+Math.imul(be,Ue)|0,y=y+Math.imul(ve,qe)|0,h=h+Math.imul(ve,Ge)|0,h=h+Math.imul(we,qe)|0,S=S+Math.imul(we,Ge)|0;var Qo=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,y=Math.imul(Re,Fe),h=Math.imul(Re,He),h=h+Math.imul(Ce,Fe)|0,S=Math.imul(Ce,He),y=y+Math.imul(fe,We)|0,h=h+Math.imul(fe,Ve)|0,h=h+Math.imul(xe,We)|0,S=S+Math.imul(xe,Ve)|0,y=y+Math.imul(me,ze)|0,h=h+Math.imul(me,Ue)|0,h=h+Math.imul(pe,ze)|0,S=S+Math.imul(pe,Ue)|0,y=y+Math.imul(Se,qe)|0,h=h+Math.imul(Se,Ge)|0,h=h+Math.imul(be,qe)|0,S=S+Math.imul(be,Ge)|0;var Ko=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,y=Math.imul(Re,We),h=Math.imul(Re,Ve),h=h+Math.imul(Ce,We)|0,S=Math.imul(Ce,Ve),y=y+Math.imul(fe,ze)|0,h=h+Math.imul(fe,Ue)|0,h=h+Math.imul(xe,ze)|0,S=S+Math.imul(xe,Ue)|0,y=y+Math.imul(me,qe)|0,h=h+Math.imul(me,Ge)|0,h=h+Math.imul(pe,qe)|0,S=S+Math.imul(pe,Ge)|0;var Yo=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,y=Math.imul(Re,ze),h=Math.imul(Re,Ue),h=h+Math.imul(Ce,ze)|0,S=Math.imul(Ce,Ue),y=y+Math.imul(fe,qe)|0,h=h+Math.imul(fe,Ge)|0,h=h+Math.imul(xe,qe)|0,S=S+Math.imul(xe,Ge)|0;var Xo=(C+y|0)+((h&8191)<<13)|0;C=(S+(h>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,y=Math.imul(Re,qe),h=Math.imul(Re,Ge),h=h+Math.imul(Ce,qe)|0,S=Math.imul(Ce,Ge);var ea=(C+y|0)+((h&8191)<<13)|0;return C=(S+(h>>>13)|0)+(ea>>>26)|0,ea&=67108863,x[0]=Lr,x[1]=Pr,x[2]=$r,x[3]=Dr,x[4]=Br,x[5]=jr,x[6]=Fr,x[7]=Hr,x[8]=Wr,x[9]=Vr,x[10]=zr,x[11]=Ur,x[12]=qr,x[13]=Gr,x[14]=Qo,x[15]=Ko,x[16]=Yo,x[17]=Xo,x[18]=ea,C!==0&&(x[19]=C,g.length++),g};Math.imul||(T=I);function O(b,u,f){f.negative=u.negative^b.negative,f.length=b.length+u.length;for(var g=0,m=0,_=0;_<f.length-1;_++){var x=m;m=0;for(var C=g&67108863,y=Math.min(_,u.length-1),h=Math.max(0,_-b.length+1);h<=y;h++){var S=_-h,z=b.words[S]|0,G=u.words[h]|0,q=z*G,A=q&67108863;x=x+(q/67108864|0)|0,A=A+C|0,C=A&67108863,x=x+(A>>>26)|0,m+=x>>>26,x&=67108863}f.words[_]=C,g=x,x=m}return g!==0?f.words[_]=g:f.length--,f._strip()}function D(b,u,f){return O(b,u,f)}s.prototype.mulTo=function(u,f){var g,m=this.length+u.length;return this.length===10&&u.length===10?g=T(this,u,f):m<63?g=I(this,u,f):m<1024?g=O(this,u,f):g=D(this,u,f),g},s.prototype.mul=function(u){var f=new s(null);return f.words=new Array(this.length+u.length),this.mulTo(u,f)},s.prototype.mulf=function(u){var f=new s(null);return f.words=new Array(this.length+u.length),D(this,u,f)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var f=u<0;f&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var g=0,m=0;m<this.length;m++){var _=(this.words[m]|0)*u,x=(_&67108863)+(g&67108863);g>>=26,g+=_/67108864|0,g+=x>>>26,this.words[m]=x&67108863}return g!==0&&(this.words[m]=g,this.length++),f?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var f=N(u);if(f.length===0)return new s(1);for(var g=this,m=0;m<f.length&&f[m]===0;m++,g=g.sqr());if(++m<f.length)for(var _=g.sqr();m<f.length;m++,_=_.sqr())f[m]!==0&&(g=g.mul(_));return g},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26,m=67108863>>>26-f<<26-f,_;if(f!==0){var x=0;for(_=0;_<this.length;_++){var C=this.words[_]&m,y=(this.words[_]|0)-C<<f;this.words[_]=y|x,x=C>>>26-f}x&&(this.words[_]=x,this.length++)}if(g!==0){for(_=this.length-1;_>=0;_--)this.words[_+g]=this.words[_];for(_=0;_<g;_++)this.words[_]=0;this.length+=g}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,f,g){n(typeof u=="number"&&u>=0);var m;f?m=(f-f%26)/26:m=0;var _=u%26,x=Math.min((u-_)/26,this.length),C=67108863^67108863>>>_<<_,y=g;if(m-=x,m=Math.max(0,m),y){for(var h=0;h<x;h++)y.words[h]=this.words[h];y.length=x}if(x!==0)if(this.length>x)for(this.length-=x,h=0;h<this.length;h++)this.words[h]=this.words[h+x];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=m);h--){var z=this.words[h]|0;this.words[h]=S<<26-_|z>>>_,S=z&C}return y&&S!==0&&(y.words[y.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,f,g){return n(this.negative===0),this.iushrn(u,f,g)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26,m=1<<f;if(this.length<=g)return!1;var _=this.words[g];return!!(_&m)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var f=u%26,g=(u-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(f!==0&&g++,this.length=Math.min(g,this.length),f!==0){var m=67108863^67108863>>>f<<f;this.words[this.length-1]&=m}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,f,g){var m=u.length+g,_;this._expand(m);var x,C=0;for(_=0;_<u.length;_++){x=(this.words[_+g]|0)+C;var y=(u.words[_]|0)*f;x-=y&67108863,C=(x>>26)-(y/67108864|0),this.words[_+g]=x&67108863}for(;_<this.length-g;_++)x=(this.words[_+g]|0)+C,C=x>>26,this.words[_+g]=x&67108863;if(C===0)return this._strip();for(n(C===-1),C=0,_=0;_<this.length;_++)x=-(this.words[_]|0)+C,C=x>>26,this.words[_]=x&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,f){var g=this.length-u.length,m=this.clone(),_=u,x=_.words[_.length-1]|0,C=this._countBits(x);g=26-C,g!==0&&(_=_.ushln(g),m.iushln(g),x=_.words[_.length-1]|0);var y=m.length-_.length,h;if(f!=="mod"){h=new s(null),h.length=y+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var z=m.clone()._ishlnsubmul(_,1,y);z.negative===0&&(m=z,h&&(h.words[y]=1));for(var G=y-1;G>=0;G--){var q=(m.words[_.length+G]|0)*67108864+(m.words[_.length+G-1]|0);for(q=Math.min(q/x|0,67108863),m._ishlnsubmul(_,q,G);m.negative!==0;)q--,m.negative=0,m._ishlnsubmul(_,1,G),m.isZero()||(m.negative^=1);h&&(h.words[G]=q)}return h&&h._strip(),m._strip(),f!=="div"&&g!==0&&m.iushrn(g),{div:h||null,mod:m}},s.prototype.divmod=function(u,f,g){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,_,x;return this.negative!==0&&u.negative===0?(x=this.neg().divmod(u,f),f!=="mod"&&(m=x.div.neg()),f!=="div"&&(_=x.mod.neg(),g&&_.negative!==0&&_.iadd(u)),{div:m,mod:_}):this.negative===0&&u.negative!==0?(x=this.divmod(u.neg(),f),f!=="mod"&&(m=x.div.neg()),{div:m,mod:x.mod}):this.negative&u.negative?(x=this.neg().divmod(u.neg(),f),f!=="div"&&(_=x.mod.neg(),g&&_.negative!==0&&_.isub(u)),{div:x.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?f==="div"?{div:this.divn(u.words[0]),mod:null}:f==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,f)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var f=this.divmod(u);if(f.mod.isZero())return f.div;var g=f.div.negative!==0?f.mod.isub(u):f.mod,m=u.ushrn(1),_=u.andln(1),x=g.cmp(m);return x<0||_===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},s.prototype.modrn=function(u){var f=u<0;f&&(u=-u),n(u<=67108863);for(var g=(1<<26)%u,m=0,_=this.length-1;_>=0;_--)m=(g*m+(this.words[_]|0))%u;return f?-m:m},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var f=u<0;f&&(u=-u),n(u<=67108863);for(var g=0,m=this.length-1;m>=0;m--){var _=(this.words[m]|0)+g*67108864;this.words[m]=_/u|0,g=_%u}return this._strip(),f?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var f=this,g=u.clone();f.negative!==0?f=f.umod(u):f=f.clone();for(var m=new s(1),_=new s(0),x=new s(0),C=new s(1),y=0;f.isEven()&&g.isEven();)f.iushrn(1),g.iushrn(1),++y;for(var h=g.clone(),S=f.clone();!f.isZero();){for(var z=0,G=1;!(f.words[0]&G)&&z<26;++z,G<<=1);if(z>0)for(f.iushrn(z);z-- >0;)(m.isOdd()||_.isOdd())&&(m.iadd(h),_.isub(S)),m.iushrn(1),_.iushrn(1);for(var q=0,A=1;!(g.words[0]&A)&&q<26;++q,A<<=1);if(q>0)for(g.iushrn(q);q-- >0;)(x.isOdd()||C.isOdd())&&(x.iadd(h),C.isub(S)),x.iushrn(1),C.iushrn(1);f.cmp(g)>=0?(f.isub(g),m.isub(x),_.isub(C)):(g.isub(f),x.isub(m),C.isub(_))}return{a:x,b:C,gcd:g.iushln(y)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var f=this,g=u.clone();f.negative!==0?f=f.umod(u):f=f.clone();for(var m=new s(1),_=new s(0),x=g.clone();f.cmpn(1)>0&&g.cmpn(1)>0;){for(var C=0,y=1;!(f.words[0]&y)&&C<26;++C,y<<=1);if(C>0)for(f.iushrn(C);C-- >0;)m.isOdd()&&m.iadd(x),m.iushrn(1);for(var h=0,S=1;!(g.words[0]&S)&&h<26;++h,S<<=1);if(h>0)for(g.iushrn(h);h-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);f.cmp(g)>=0?(f.isub(g),m.isub(_)):(g.isub(f),_.isub(m))}var z;return f.cmpn(1)===0?z=m:z=_,z.cmpn(0)<0&&z.iadd(u),z},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var f=this.clone(),g=u.clone();f.negative=0,g.negative=0;for(var m=0;f.isEven()&&g.isEven();m++)f.iushrn(1),g.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;g.isEven();)g.iushrn(1);var _=f.cmp(g);if(_<0){var x=f;f=g,g=x}else if(_===0||g.cmpn(1)===0)break;f.isub(g)}while(!0);return g.iushln(m)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var f=u%26,g=(u-f)/26,m=1<<f;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var _=m,x=g;_!==0&&x<this.length;x++){var C=this.words[x]|0;C+=_,_=C>>>26,C&=67108863,this.words[x]=C}return _!==0&&(this.words[x]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var f=u<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var g;if(this.length>1)g=1;else{f&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;g=m===u?0:m<u?-1:1}return this.negative!==0?-g|0:g},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var f=this.ucmp(u);return this.negative!==0?-f|0:f},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var f=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,_=u.words[g]|0;if(m!==_){m<_?f=-1:m>_&&(f=1);break}}return f},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new ee(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var P={k256:null,p224:null,p192:null,p25519:null};function j(b,u){this.name=b,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var f=u,g;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),g=f.bitLength();while(g>this.n);var m=g<this.n?-1:f.ucmp(this.p);return m===0?(f.words[0]=0,f.length=1):m>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},j.prototype.split=function(u,f){u.iushrn(this.n,0,f)},j.prototype.imulK=function(u){return u.imul(this.k)};function U(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,j),U.prototype.split=function(u,f){for(var g=4194303,m=Math.min(u.length,9),_=0;_<m;_++)f.words[_]=u.words[_];if(f.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var x=u.words[9];for(f.words[f.length++]=x&g,_=10;_<u.length;_++){var C=u.words[_]|0;u.words[_-10]=(C&g)<<4|x>>>22,x=C}x>>>=22,u.words[_-10]=x,x===0&&u.length>10?u.length-=10:u.length-=9},U.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var f=0,g=0;g<u.length;g++){var m=u.words[g]|0;f+=m*977,u.words[g]=f&67108863,f=m*64+(f/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ne(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ne,j);function H(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(H,j);function W(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,j),W.prototype.imulK=function(u){for(var f=0,g=0;g<u.length;g++){var m=(u.words[g]|0)*19+f,_=m&67108863;m>>>=26,u.words[g]=_,f=m}return f!==0&&(u.words[u.length++]=f),u},s._prime=function(u){if(P[u])return P[u];var f;if(u==="k256")f=new U;else if(u==="p224")f=new ne;else if(u==="p192")f=new H;else if(u==="p25519")f=new W;else throw new Error("Unknown prime "+u);return P[u]=f,f};function ee(b){if(typeof b=="string"){var u=s._prime(b);this.m=u.p,this.prime=u}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}ee.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},ee.prototype._verify2=function(u,f){n((u.negative|f.negative)===0,"red works only with positives"),n(u.red&&u.red===f.red,"red works only with red numbers")},ee.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(d(u,u.umod(this.m)._forceRed(this)),u)},ee.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ee.prototype.add=function(u,f){this._verify2(u,f);var g=u.add(f);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},ee.prototype.iadd=function(u,f){this._verify2(u,f);var g=u.iadd(f);return g.cmp(this.m)>=0&&g.isub(this.m),g},ee.prototype.sub=function(u,f){this._verify2(u,f);var g=u.sub(f);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},ee.prototype.isub=function(u,f){this._verify2(u,f);var g=u.isub(f);return g.cmpn(0)<0&&g.iadd(this.m),g},ee.prototype.shl=function(u,f){return this._verify1(u),this.imod(u.ushln(f))},ee.prototype.imul=function(u,f){return this._verify2(u,f),this.imod(u.imul(f))},ee.prototype.mul=function(u,f){return this._verify2(u,f),this.imod(u.mul(f))},ee.prototype.isqr=function(u){return this.imul(u,u.clone())},ee.prototype.sqr=function(u){return this.mul(u,u)},ee.prototype.sqrt=function(u){if(u.isZero())return u.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var g=this.m.add(new s(1)).iushrn(2);return this.pow(u,g)}for(var m=this.m.subn(1),_=0;!m.isZero()&&m.andln(1)===0;)_++,m.iushrn(1);n(!m.isZero());var x=new s(1).toRed(this),C=x.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,y).cmp(C)!==0;)h.redIAdd(C);for(var S=this.pow(h,m),z=this.pow(u,m.addn(1).iushrn(1)),G=this.pow(u,m),q=_;G.cmp(x)!==0;){for(var A=G,k=0;A.cmp(x)!==0;k++)A=A.redSqr();n(k<q);var B=this.pow(S,new s(1).iushln(q-k-1));z=z.redMul(B),S=B.redSqr(),G=G.redMul(S),q=k}return z},ee.prototype.invm=function(u){var f=u._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ee.prototype.pow=function(u,f){if(f.isZero())return new s(1).toRed(this);if(f.cmpn(1)===0)return u.clone();var g=4,m=new Array(1<<g);m[0]=new s(1).toRed(this),m[1]=u;for(var _=2;_<m.length;_++)m[_]=this.mul(m[_-1],u);var x=m[0],C=0,y=0,h=f.bitLength()%26;for(h===0&&(h=26),_=f.length-1;_>=0;_--){for(var S=f.words[_],z=h-1;z>=0;z--){var G=S>>z&1;if(x!==m[0]&&(x=this.sqr(x)),G===0&&C===0){y=0;continue}C<<=1,C|=G,y++,!(y!==g&&(_!==0||z!==0))&&(x=this.mul(x,m[C]),y=0,C=0)}h=26}return x},ee.prototype.convertTo=function(u){var f=u.umod(this.m);return f===u?f.clone():f},ee.prototype.convertFrom=function(u){var f=u.clone();return f.red=null,f},s.mont=function(u){return new Y(u)};function Y(b){ee.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Y,ee),Y.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Y.prototype.convertFrom=function(u){var f=this.imod(u.mul(this.rinv));return f.red=null,f},Y.prototype.imul=function(u,f){if(u.isZero()||f.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(f),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(m).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},Y.prototype.mul=function(u,f){if(u.isZero()||f.isZero())return new s(0)._forceRed(this);var g=u.mul(f),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=g.isub(m).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},Y.prototype.invm=function(u){var f=this.imod(u._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,K)})(wu);var Js=wu.exports,si={};Object.defineProperty(si,"__esModule",{value:!0});si.EVENTS=void 0;si.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Bi={},tf={},Cr={},rf=Ni;Ni.default=Ni;Ni.stable=of;Ni.stableStringify=of;var As="[...]",nf="[Circular]",on=[],rn=[];function sf(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ni(t,e,r,n){typeof n>"u"&&(n=sf()),qa(t,"",0,[],void 0,0,n);var i;try{rn.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,af(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;on.length!==0;){var s=on.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Dn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),on.push([n,r,e,i])):rn.push([e,r,t]):(n[r]=t,on.push([n,r,e]))}function qa(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Dn(nf,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Dn(As,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Dn(As,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)qa(t[a],a,a,n,t,s,o);else{var l=Object.keys(t);for(a=0;a<l.length;a++){var c=l[a];qa(t[c],c,a,n,t,s,o)}}n.pop()}}function gg(t,e){return t<e?-1:t>e?1:0}function of(t,e,r,n){typeof n>"u"&&(n=sf());var i=Ga(t,"",0,[],void 0,0,n)||t,s;try{rn.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,af(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;on.length!==0;){var o=on.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Ga(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Dn(nf,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Dn(As,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Dn(As,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ga(t[a],a,a,n,t,s,o);else{var l={},c=Object.keys(t).sort(gg);for(a=0;a<c.length;a++){var d=c[a];Ga(t[d],d,a,n,t,s,o),l[d]=t[d]}if(typeof i<"u")on.push([i,e,t]),i[e]=l;else return l}n.pop()}}function af(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(rn.length>0)for(var n=0;n<rn.length;n++){var i=rn[n];if(i[1]===e&&i[0]===r){r=i[2],rn.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Cr,"__esModule",{value:!0});Cr.EthereumProviderError=Cr.EthereumRpcError=void 0;const vg=rf;let uf=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return vg.default(this.serialize(),yg,2)}};Cr.EthereumRpcError=uf;let bg=class extends uf{constructor(e,r,n){if(!mg(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Cr.EthereumProviderError=bg;function mg(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function yg(t,e){if(e!=="[Circular]")return e}var Su={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.errorValues=Ir.errorCodes=void 0;Ir.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ir.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ir,r=Cr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(v,E=i){if(Number.isInteger(v)){const R=v.toString();if(p(e.errorValues,R))return e.errorValues[R].message;if(c(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=o;function a(v){if(!Number.isInteger(v))return!1;const E=v.toString();return!!(e.errorValues[E]||c(v))}t.isValidCode=a;function l(v,{fallbackError:E=s,shouldIncludeStack:R=!1}={}){var L,N;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const I={};if(v&&typeof v=="object"&&!Array.isArray(v)&&p(v,"code")&&a(v.code)){const O=v;I.code=O.code,O.message&&typeof O.message=="string"?(I.message=O.message,p(O,"data")&&(I.data=O.data)):(I.message=o(I.code),I.data={originalError:d(v)})}else{I.code=E.code;const O=(L=v)===null||L===void 0?void 0:L.message;I.message=O&&typeof O=="string"?O:E.message,I.data={originalError:d(v)}}const T=(N=v)===null||N===void 0?void 0:N.stack;return R&&v&&T&&typeof T=="string"&&(I.stack=T),I}t.serializeError=l;function c(v){return v>=-32099&&v<=-32e3}function d(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function p(v,E){return Object.prototype.hasOwnProperty.call(v,E)}})(Su);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ethErrors=void 0;const Eu=Cr,cf=Su,ft=Ir;Zs.ethErrors={rpc:{parse:t=>kt(ft.errorCodes.rpc.parse,t),invalidRequest:t=>kt(ft.errorCodes.rpc.invalidRequest,t),invalidParams:t=>kt(ft.errorCodes.rpc.invalidParams,t),methodNotFound:t=>kt(ft.errorCodes.rpc.methodNotFound,t),internal:t=>kt(ft.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return kt(e,t)},invalidInput:t=>kt(ft.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>kt(ft.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>kt(ft.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>kt(ft.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>kt(ft.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>kt(ft.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>gi(ft.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>gi(ft.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>gi(ft.errorCodes.provider.unsupportedMethod,t),disconnected:t=>gi(ft.errorCodes.provider.disconnected,t),chainDisconnected:t=>gi(ft.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Eu.EthereumProviderError(e,r,n)}}};function kt(t,e){const[r,n]=lf(e);return new Eu.EthereumRpcError(t,r||cf.getMessageFromCode(t),n)}function gi(t,e){const[r,n]=lf(e);return new Eu.EthereumProviderError(t,r||cf.getMessageFromCode(t),n)}function lf(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Cr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Su;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Zs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ir;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(tf);var Ee={},Qs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Qs);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.EthereumAddressFromSignedMessageResponse=Ee.SubmitEthereumTransactionResponse=Ee.SignEthereumTransactionResponse=Ee.SignEthereumMessageResponse=Ee.isRequestEthereumAccountsResponse=Ee.SelectProviderResponse=Ee.WatchAssetReponse=Ee.RequestEthereumAccountsResponse=Ee.SwitchEthereumChainResponse=Ee.AddEthereumChainResponse=Ee.isErrorResponse=void 0;const ur=Qs;function _g(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Ee.isErrorResponse=_g;function wg(t){return{method:ur.Web3Method.addEthereumChain,result:t}}Ee.AddEthereumChainResponse=wg;function Sg(t){return{method:ur.Web3Method.switchEthereumChain,result:t}}Ee.SwitchEthereumChainResponse=Sg;function Eg(t){return{method:ur.Web3Method.requestEthereumAccounts,result:t}}Ee.RequestEthereumAccountsResponse=Eg;function Mg(t){return{method:ur.Web3Method.watchAsset,result:t}}Ee.WatchAssetReponse=Mg;function xg(t){return{method:ur.Web3Method.selectProvider,result:t}}Ee.SelectProviderResponse=xg;function Rg(t){return t&&t.method===ur.Web3Method.requestEthereumAccounts}Ee.isRequestEthereumAccountsResponse=Rg;function Cg(t){return{method:ur.Web3Method.signEthereumMessage,result:t}}Ee.SignEthereumMessageResponse=Cg;function Ig(t){return{method:ur.Web3Method.signEthereumTransaction,result:t}}Ee.SignEthereumTransactionResponse=Ig;function kg(t){return{method:ur.Web3Method.submitEthereumTransaction,result:t}}Ee.SubmitEthereumTransactionResponse=kg;function Ag(t){return{method:ur.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ee.EthereumAddressFromSignedMessageResponse=Ag;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.LIB_VERSION=void 0;oi.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=tf,r=Ee,n=oi;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(d){return d!==void 0?(0,e.getMessageFromCode)(d):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(d="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${d}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(d,p){const v=(0,e.serializeError)(o(d),{shouldIncludeStack:!0}),E=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");E.searchParams.set("version",n.LIB_VERSION),E.searchParams.set("code",v.code.toString());const R=a(v.data,p);return R&&E.searchParams.set("method",R),E.searchParams.set("message",v.message),Object.assign(Object.assign({},v),{docUrl:E.href})}t.serializeError=s;function o(d){return typeof d=="string"?{message:d,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(d)?Object.assign(Object.assign({},d),{message:d.errorMessage,code:d.errorCode,data:{method:d.method,result:d.result}}):d}function a(d,p){var v;const E=(v=d)===null||v===void 0?void 0:v.method;if(E)return E;if(p!==void 0)return typeof p=="string"?p:Array.isArray(p)?p.length>0?p[0].method:void 0:p.method}function l(d){var p;if(typeof d=="number")return d;if(c(d))return(p=d.code)!==null&&p!==void 0?p:d.errorCode}t.getErrorCode=l;function c(d){return typeof d=="object"&&d!==null&&(typeof d.code=="number"||typeof d.errorCode=="number")}})(Bi);var ai={},hf={exports:{}},ff=ln().Buffer;function Ks(t,e){this._block=ff.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Ks.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=ff.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,l=Math.min(i-o,n-a),c=0;c<l;c++)r[a+c]=t[o+c];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this};Ks.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Ks.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ui=Ks,Tg=Ut,df=ui,Ng=ln().Buffer,Og=[1518500249,1859775393,-1894007588,-899497514],Lg=new Array(80);function ji(){this.init(),this._w=Lg,df.call(this,64,56)}Tg(ji,df);ji.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Pg(t){return t<<5|t>>>27}function $g(t){return t<<30|t>>>2}function Dg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ji.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var l=0;l<80;++l){var c=~~(l/20),d=Pg(r)+Dg(c,n,i,s)+o+e[l]+Og[c]|0;o=s,s=i,i=$g(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ji.prototype._hash=function(){var t=Ng.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Bg=ji,jg=Ut,pf=ui,Fg=ln().Buffer,Hg=[1518500249,1859775393,-1894007588,-899497514],Wg=new Array(80);function Fi(){this.init(),this._w=Wg,pf.call(this,64,56)}jg(Fi,pf);Fi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Vg(t){return t<<1|t>>>31}function zg(t){return t<<5|t>>>27}function Ug(t){return t<<30|t>>>2}function qg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Fi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Vg(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),d=zg(r)+qg(c,n,i,s)+o+e[l]+Hg[c]|0;o=s,s=i,i=Ug(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Fi.prototype._hash=function(){var t=Fg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Gg=Fi,Jg=Ut,gf=ui,Zg=ln().Buffer,Qg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Kg=new Array(64);function Hi(){this.init(),this._w=Kg,gf.call(this,64,56)}Jg(Hi,gf);Hi.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Yg(t,e,r){return r^t&(e^r)}function Xg(t,e,r){return t&e|r&(t|e)}function ev(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function tv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function rv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function nv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Hi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<64;++d)e[d]=nv(e[d-2])+e[d-7]+rv(e[d-15])+e[d-16]|0;for(var p=0;p<64;++p){var v=c+tv(o)+Yg(o,a,l)+Qg[p]+e[p]|0,E=ev(r)+Xg(r,n,i)|0;c=l,l=a,a=o,o=s+v|0,s=i,i=n,n=r,r=v+E|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};Hi.prototype._hash=function(){var t=Zg.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var vf=Hi,iv=Ut,sv=vf,ov=ui,av=ln().Buffer,uv=new Array(64);function Ys(){this.init(),this._w=uv,ov.call(this,64,56)}iv(Ys,sv);Ys.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ys.prototype._hash=function(){var t=av.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var cv=Ys,lv=Ut,bf=ui,hv=ln().Buffer,Ic=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],fv=new Array(160);function Wi(){this.init(),this._w=fv,bf.call(this,128,112)}lv(Wi,bf);Wi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function kc(t,e,r){return r^t&(e^r)}function Ac(t,e,r){return t&e|r&(t|e)}function Tc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Nc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function dv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function pv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function gv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function vv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function it(t,e){return t>>>0<e>>>0?1:0}Wi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,d=this._al|0,p=this._bl|0,v=this._cl|0,E=this._dl|0,R=this._el|0,L=this._fl|0,N=this._gl|0,I=this._hl|0,T=0;T<32;T+=2)e[T]=t.readInt32BE(T*4),e[T+1]=t.readInt32BE(T*4+4);for(;T<160;T+=2){var O=e[T-30],D=e[T-15*2+1],P=dv(O,D),j=pv(D,O);O=e[T-2*2],D=e[T-2*2+1];var U=gv(O,D),ne=vv(D,O),H=e[T-7*2],W=e[T-7*2+1],ee=e[T-16*2],Y=e[T-16*2+1],b=j+W|0,u=P+H+it(b,j)|0;b=b+ne|0,u=u+U+it(b,ne)|0,b=b+Y|0,u=u+ee+it(b,Y)|0,e[T]=u,e[T+1]=b}for(var f=0;f<160;f+=2){u=e[f],b=e[f+1];var g=Ac(r,n,i),m=Ac(d,p,v),_=Tc(r,d),x=Tc(d,r),C=Nc(o,R),y=Nc(R,o),h=Ic[f],S=Ic[f+1],z=kc(o,a,l),G=kc(R,L,N),q=I+y|0,A=c+C+it(q,I)|0;q=q+G|0,A=A+z+it(q,G)|0,q=q+S|0,A=A+h+it(q,S)|0,q=q+b|0,A=A+u+it(q,b)|0;var k=x+m|0,B=_+g+it(k,x)|0;c=l,I=N,l=a,N=L,a=o,L=R,R=E+q|0,o=s+A+it(R,E)|0,s=i,E=v,i=n,v=p,n=r,p=d,d=q+k|0,r=A+B+it(d,q)|0}this._al=this._al+d|0,this._bl=this._bl+p|0,this._cl=this._cl+v|0,this._dl=this._dl+E|0,this._el=this._el+R|0,this._fl=this._fl+L|0,this._gl=this._gl+N|0,this._hl=this._hl+I|0,this._ah=this._ah+r+it(this._al,d)|0,this._bh=this._bh+n+it(this._bl,p)|0,this._ch=this._ch+i+it(this._cl,v)|0,this._dh=this._dh+s+it(this._dl,E)|0,this._eh=this._eh+o+it(this._el,R)|0,this._fh=this._fh+a+it(this._fl,L)|0,this._gh=this._gh+l+it(this._gl,N)|0,this._hh=this._hh+c+it(this._hl,I)|0};Wi.prototype._hash=function(){var t=hv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var mf=Wi,bv=Ut,mv=mf,yv=ui,_v=ln().Buffer,wv=new Array(160);function Xs(){this.init(),this._w=wv,yv.call(this,128,112)}bv(Xs,mv);Xs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Xs.prototype._hash=function(){var t=_v.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Sv=Xs,dn=hf.exports=function(e){e=e.toLowerCase();var r=dn[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};dn.sha=Bg;dn.sha1=Gg;dn.sha224=cv;dn.sha256=vf;dn.sha384=Sv;dn.sha512=mf;var Ev=hf.exports,Q={},Mv={},Mu=typeof Map=="function"&&Map.prototype,ta=Object.getOwnPropertyDescriptor&&Mu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ts=Mu&&ta&&typeof ta.get=="function"?ta.get:null,Oc=Mu&&Map.prototype.forEach,xu=typeof Set=="function"&&Set.prototype,ra=Object.getOwnPropertyDescriptor&&xu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ns=xu&&ra&&typeof ra.get=="function"?ra.get:null,Lc=xu&&Set.prototype.forEach,xv=typeof WeakMap=="function"&&WeakMap.prototype,Ei=xv?WeakMap.prototype.has:null,Rv=typeof WeakSet=="function"&&WeakSet.prototype,Mi=Rv?WeakSet.prototype.has:null,Cv=typeof WeakRef=="function"&&WeakRef.prototype,Pc=Cv?WeakRef.prototype.deref:null,Iv=Boolean.prototype.valueOf,kv=Object.prototype.toString,Av=Function.prototype.toString,Tv=String.prototype.match,Ru=String.prototype.slice,Mr=String.prototype.replace,Nv=String.prototype.toUpperCase,$c=String.prototype.toLowerCase,yf=RegExp.prototype.test,Dc=Array.prototype.concat,er=Array.prototype.join,Ov=Array.prototype.slice,Bc=Math.floor,Ja=typeof BigInt=="function"?BigInt.prototype.valueOf:null,na=Object.getOwnPropertySymbols,Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,qn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===qn||!0)?Symbol.toStringTag:null,_f=Object.prototype.propertyIsEnumerable,jc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Fc(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||yf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Bc(-t):Bc(t);if(n!==t){var i=String(n),s=Ru.call(e,i.length+1);return Mr.call(i,r,"$&_")+"."+Mr.call(Mr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mr.call(e,r,"$&_")}var Qa=Fs,Hc=Qa.custom,Wc=Sf(Hc)?Hc:null,Lv=function t(e,r,n,i){var s=r||{};if(Sr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Sr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Sr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Sr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Sr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Mf(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Fc(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Fc(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Ka(e)?"[Array]":"[Object]";var p=Yv(s,n);if(typeof i>"u")i=[];else if(Ef(i,e)>=0)return"[Circular]";function v(b,u,f){if(u&&(i=Ov.call(i),i.push(u)),f){var g={depth:s.depth};return Sr(s,"quoteStyle")&&(g.quoteStyle=s.quoteStyle),t(b,g,n+1,i)}return t(b,s,n+1,i)}if(typeof e=="function"&&!Vc(e)){var E=Vv(e),R=os(e,v);return"[Function"+(E?": "+E:" (anonymous)")+"]"+(R.length>0?" { "+er.call(R,", ")+" }":"")}if(Sf(e)){var L=qn?Mr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Za.call(e);return typeof e=="object"&&!qn?vi(L):L}if(Zv(e)){for(var N="<"+$c.call(String(e.nodeName)),I=e.attributes||[],T=0;T<I.length;T++)N+=" "+I[T].name+"="+wf(Pv(I[T].value),"double",s);return N+=">",e.childNodes&&e.childNodes.length&&(N+="..."),N+="</"+$c.call(String(e.nodeName))+">",N}if(Ka(e)){if(e.length===0)return"[]";var O=os(e,v);return p&&!Kv(O)?"["+Ya(O,p)+"]":"[ "+er.call(O,", ")+" ]"}if(Dv(e)){var D=os(e,v);return!("cause"in Error.prototype)&&"cause"in e&&!_f.call(e,"cause")?"{ ["+String(e)+"] "+er.call(Dc.call("[cause]: "+v(e.cause),D),", ")+" }":D.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+er.call(D,", ")+" }"}if(typeof e=="object"&&o){if(Wc&&typeof e[Wc]=="function"&&Qa)return Qa(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zv(e)){var P=[];return Oc&&Oc.call(e,function(b,u){P.push(v(u,e,!0)+" => "+v(b,e))}),zc("Map",Ts.call(e),P,p)}if(Gv(e)){var j=[];return Lc&&Lc.call(e,function(b){j.push(v(b,e))}),zc("Set",Ns.call(e),j,p)}if(Uv(e))return ia("WeakMap");if(Jv(e))return ia("WeakSet");if(qv(e))return ia("WeakRef");if(jv(e))return vi(v(Number(e)));if(Hv(e))return vi(v(Ja.call(e)));if(Fv(e))return vi(Iv.call(e));if(Bv(e))return vi(v(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Mv)return"{ [object globalThis] }";if(!$v(e)&&!Vc(e)){var U=os(e,v),ne=jc?jc(e)===Object.prototype:e instanceof Object||e.constructor===Object,H=e instanceof Object?"":"null prototype",W=!ne&&vt&&Object(e)===e&&vt in e?Ru.call(Nr(e),8,-1):H?"Object":"",ee=ne||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=ee+(W||H?"["+er.call(Dc.call([],W||[],H||[]),": ")+"] ":"");return U.length===0?Y+"{}":p?Y+"{"+Ya(U,p)+"}":Y+"{ "+er.call(U,", ")+" }"}return String(e)};function wf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Pv(t){return Mr.call(String(t),/"/g,"&quot;")}function Ka(t){return Nr(t)==="[object Array]"&&(!vt||!(typeof t=="object"&&vt in t))}function $v(t){return Nr(t)==="[object Date]"&&(!vt||!(typeof t=="object"&&vt in t))}function Vc(t){return Nr(t)==="[object RegExp]"&&(!vt||!(typeof t=="object"&&vt in t))}function Dv(t){return Nr(t)==="[object Error]"&&(!vt||!(typeof t=="object"&&vt in t))}function Bv(t){return Nr(t)==="[object String]"&&(!vt||!(typeof t=="object"&&vt in t))}function jv(t){return Nr(t)==="[object Number]"&&(!vt||!(typeof t=="object"&&vt in t))}function Fv(t){return Nr(t)==="[object Boolean]"&&(!vt||!(typeof t=="object"&&vt in t))}function Sf(t){if(qn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Za)return!1;try{return Za.call(t),!0}catch{}return!1}function Hv(t){if(!t||typeof t!="object"||!Ja)return!1;try{return Ja.call(t),!0}catch{}return!1}var Wv=Object.prototype.hasOwnProperty||function(t){return t in this};function Sr(t,e){return Wv.call(t,e)}function Nr(t){return kv.call(t)}function Vv(t){if(t.name)return t.name;var e=Tv.call(Av.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Ef(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function zv(t){if(!Ts||!t||typeof t!="object")return!1;try{Ts.call(t);try{Ns.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Uv(t){if(!Ei||!t||typeof t!="object")return!1;try{Ei.call(t,Ei);try{Mi.call(t,Mi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function qv(t){if(!Pc||!t||typeof t!="object")return!1;try{return Pc.call(t),!0}catch{}return!1}function Gv(t){if(!Ns||!t||typeof t!="object")return!1;try{Ns.call(t);try{Ts.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Jv(t){if(!Mi||!t||typeof t!="object")return!1;try{Mi.call(t,Mi);try{Ei.call(t,Ei)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Zv(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Mf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Mf(Ru.call(t,0,e.maxStringLength),e)+n}var i=Mr.call(Mr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qv);return wf(i,"single",e)}function Qv(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Nv.call(e.toString(16))}function vi(t){return"Object("+t+")"}function ia(t){return t+" { ? }"}function zc(t,e,r,n){var i=n?Ya(r,n):er.call(r,", ");return t+" ("+e+") {"+i+"}"}function Kv(t){for(var e=0;e<t.length;e++)if(Ef(t[e],`
`)>=0)return!1;return!0}function Yv(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=er.call(Array(t.indent+1)," ");else return null;return{base:r,prev:er.call(Array(e+1),r)}}function Ya(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+er.call(t,","+r)+`
`+e.prev}function os(t,e){var r=Ka(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Sr(t,i)?e(t[i],t):""}var s=typeof na=="function"?na(t):[],o;if(qn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Sr(t,l)&&(r&&String(Number(l))===l&&l<t.length||qn&&o["$"+l]instanceof Symbol||(yf.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof na=="function")for(var c=0;c<s.length;c++)_f.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var Cu=H0,ci=W0,Xv=Lv,eb=Cu("%TypeError%"),as=Cu("%WeakMap%",!0),us=Cu("%Map%",!0),tb=ci("WeakMap.prototype.get",!0),rb=ci("WeakMap.prototype.set",!0),nb=ci("WeakMap.prototype.has",!0),ib=ci("Map.prototype.get",!0),sb=ci("Map.prototype.set",!0),ob=ci("Map.prototype.has",!0),Iu=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},ab=function(t,e){var r=Iu(t,e);return r&&r.value},ub=function(t,e,r){var n=Iu(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},cb=function(t,e){return!!Iu(t,e)},lb=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new eb("Side channel does not contain "+Xv(s))},get:function(s){if(as&&s&&(typeof s=="object"||typeof s=="function")){if(e)return tb(e,s)}else if(us){if(r)return ib(r,s)}else if(n)return ab(n,s)},has:function(s){if(as&&s&&(typeof s=="object"||typeof s=="function")){if(e)return nb(e,s)}else if(us){if(r)return ob(r,s)}else if(n)return cb(n,s);return!1},set:function(s,o){as&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new as),rb(e,s,o)):us?(r||(r=new us),sb(r,s,o)):(n||(n={key:{},next:null}),ub(n,s,o))}};return i},hb=String.prototype.replace,fb=/%20/g,sa={RFC1738:"RFC1738",RFC3986:"RFC3986"},ku={default:sa.RFC3986,formatters:{RFC1738:function(t){return hb.call(t,fb,"+")},RFC3986:function(t){return String(t)}},RFC1738:sa.RFC1738,RFC3986:sa.RFC3986},db=ku,oa=Object.prototype.hasOwnProperty,Kr=Array.isArray,Jt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),pb=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Kr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},xf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},gb=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Kr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!oa.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Kr(e)&&!Kr(r)&&(i=xf(e,n)),Kr(e)&&Kr(r)?(r.forEach(function(s,o){if(oa.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return oa.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},vb=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},bb=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},mb=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===db.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Jt[c];continue}if(c<2048){a=a+(Jt[192|c>>6]+Jt[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Jt[224|c>>12]+Jt[128|c>>6&63]+Jt[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Jt[240|c>>18]+Jt[128|c>>12&63]+Jt[128|c>>6&63]+Jt[128|c&63]}return a},yb=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return pb(r),e},_b=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},wb=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Sb=function(e,r){return[].concat(e,r)},Eb=function(e,r){if(Kr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Rf={arrayToObject:xf,assign:vb,combine:Sb,compact:yb,decode:bb,encode:mb,isBuffer:wb,isRegExp:_b,maybeMap:Eb,merge:gb},Cf=lb,Ss=Rf,xi=ku,Mb=Object.prototype.hasOwnProperty,Uc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},fr=Array.isArray,xb=Array.prototype.push,If=function(t,e){xb.apply(t,fr(e)?e:[e])},Rb=Date.prototype.toISOString,qc=xi.default,gt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ss.encode,encodeValuesOnly:!1,format:qc,formatter:xi.formatters[qc],indices:!1,serializeDate:function(e){return Rb.call(e)},skipNulls:!1,strictNullHandling:!1},Cb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},aa={},Ib=function t(e,r,n,i,s,o,a,l,c,d,p,v,E,R,L,N){for(var I=e,T=N,O=0,D=!1;(T=T.get(aa))!==void 0&&!D;){var P=T.get(e);if(O+=1,typeof P<"u"){if(P===O)throw new RangeError("Cyclic object value");D=!0}typeof T.get(aa)>"u"&&(O=0)}if(typeof l=="function"?I=l(r,I):I instanceof Date?I=p(I):n==="comma"&&fr(I)&&(I=Ss.maybeMap(I,function(g){return g instanceof Date?p(g):g})),I===null){if(s)return a&&!R?a(r,gt.encoder,L,"key",v):r;I=""}if(Cb(I)||Ss.isBuffer(I)){if(a){var j=R?r:a(r,gt.encoder,L,"key",v);return[E(j)+"="+E(a(I,gt.encoder,L,"value",v))]}return[E(r)+"="+E(String(I))]}var U=[];if(typeof I>"u")return U;var ne;if(n==="comma"&&fr(I))R&&a&&(I=Ss.maybeMap(I,a)),ne=[{value:I.length>0?I.join(",")||null:void 0}];else if(fr(l))ne=l;else{var H=Object.keys(I);ne=c?H.sort(c):H}for(var W=i&&fr(I)&&I.length===1?r+"[]":r,ee=0;ee<ne.length;++ee){var Y=ne[ee],b=typeof Y=="object"&&typeof Y.value<"u"?Y.value:I[Y];if(!(o&&b===null)){var u=fr(I)?typeof n=="function"?n(W,Y):W:W+(d?"."+Y:"["+Y+"]");N.set(e,O);var f=Cf();f.set(aa,N),If(U,t(b,u,n,i,s,o,n==="comma"&&R&&fr(I)?null:a,l,c,d,p,v,E,R,L,f))}}return U},kb=function(e){if(!e)return gt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||gt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xi.default;if(typeof e.format<"u"){if(!Mb.call(xi.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=xi.formatters[n],s=gt.filter;return(typeof e.filter=="function"||fr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:gt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?gt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:gt.charsetSentinel,delimiter:typeof e.delimiter>"u"?gt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:gt.encode,encoder:typeof e.encoder=="function"?e.encoder:gt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:gt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:gt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:gt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:gt.strictNullHandling}},Ab=function(t,e){var r=t,n=kb(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):fr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Uc?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Uc[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=Cf(),p=0;p<i.length;++p){var v=i[p];n.skipNulls&&r[v]===null||If(o,Ib(r[v],v,l,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var E=o.join(n.delimiter),R=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),E.length>0?R+E:""},Gn=Rf,Xa=Object.prototype.hasOwnProperty,Tb=Array.isArray,st={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Gn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Nb=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},kf=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Ob="utf8=%26%2310003%3B",Lb="utf8=%E2%9C%93",Pb=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Lb?c="utf-8":o[l]===Ob&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],p=d.indexOf("]="),v=p===-1?d.indexOf("="):p+1,E,R;v===-1?(E=r.decoder(d,st.decoder,c,"key"),R=r.strictNullHandling?null:""):(E=r.decoder(d.slice(0,v),st.decoder,c,"key"),R=Gn.maybeMap(kf(d.slice(v+1),r),function(L){return r.decoder(L,st.decoder,c,"value")})),R&&r.interpretNumericEntities&&c==="iso-8859-1"&&(R=Nb(R)),d.indexOf("[]=")>-1&&(R=Tb(R)?[R]:R),Xa.call(n,E)?n[E]=Gn.combine(n[E],R):n[E]=R}return n},$b=function(t,e,r,n){for(var i=n?e:kf(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},Db=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,d=[];if(c){if(!n.plainObjects&&Xa.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var p=0;n.depth>0&&(l=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Xa.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),$b(d,r,n,i)}},Bb=function(e){if(!e)return st;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?st.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?st.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:st.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:st.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:st.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:st.comma,decoder:typeof e.decoder=="function"?e.decoder:st.decoder,delimiter:typeof e.delimiter=="string"||Gn.isRegExp(e.delimiter)?e.delimiter:st.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:st.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:st.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:st.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:st.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}},jb=function(t,e){var r=Bb(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Pb(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=Db(a,n[a],r,typeof t=="string");i=Gn.merge(i,l,r)}return r.allowSparse===!0?i:Gn.compact(i)},Fb=Ab,Hb=jb,Wb=ku,Vb={formats:Wb,parse:Hb,stringify:Fb},Vi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Vi);var zb=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.isInIFrame=Q.createQrUrl=Q.getFavicon=Q.range=Q.isBigNumber=Q.ensureParsedJSONObject=Q.ensureBN=Q.ensureRegExpString=Q.ensureIntNumber=Q.ensureBuffer=Q.ensureAddressString=Q.ensureEvenLengthHexString=Q.ensureHexString=Q.isHexString=Q.prepend0x=Q.strip0x=Q.has0xPrefix=Q.hexStringFromIntNumber=Q.intNumberFromHexString=Q.bigIntStringFromBN=Q.hexStringFromBuffer=Q.hexStringToUint8Array=Q.uint8ArrayToHex=Q.randomBytesHex=void 0;const Er=zb(Js),Ub=Vb,pn=Bi,Pt=Vi,Af=/^[0-9]*$/,Tf=/^[a-f0-9]*$/;function qb(t){return Nf(crypto.getRandomValues(new Uint8Array(t)))}Q.randomBytesHex=qb;function Nf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Q.uint8ArrayToHex=Nf;function Gb(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Q.hexStringToUint8Array=Gb;function Jb(t,e=!1){const r=t.toString("hex");return(0,Pt.HexString)(e?"0x"+r:r)}Q.hexStringFromBuffer=Jb;function Zb(t){return(0,Pt.BigIntString)(t.toString(10))}Q.bigIntStringFromBN=Zb;function Qb(t){return(0,Pt.IntNumber)(new Er.default(Ui(t,!1),16).toNumber())}Q.intNumberFromHexString=Qb;function Kb(t){return(0,Pt.HexString)("0x"+new Er.default(t).toString(16))}Q.hexStringFromIntNumber=Kb;function Au(t){return t.startsWith("0x")||t.startsWith("0X")}Q.has0xPrefix=Au;function eo(t){return Au(t)?t.slice(2):t}Q.strip0x=eo;function Of(t){return Au(t)?"0x"+t.slice(2):"0x"+t}Q.prepend0x=Of;function zi(t){if(typeof t!="string")return!1;const e=eo(t).toLowerCase();return Tf.test(e)}Q.isHexString=zi;function Lf(t,e=!1){if(typeof t=="string"){const r=eo(t).toLowerCase();if(Tf.test(r))return(0,Pt.HexString)(e?"0x"+r:r)}throw pn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Q.ensureHexString=Lf;function Ui(t,e=!1){let r=Lf(t,!1);return r.length%2===1&&(r=(0,Pt.HexString)("0"+r)),e?(0,Pt.HexString)("0x"+r):r}Q.ensureEvenLengthHexString=Ui;function Yb(t){if(typeof t=="string"){const e=eo(t).toLowerCase();if(zi(e)&&e.length===40)return(0,Pt.AddressString)(Of(e))}throw pn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Q.ensureAddressString=Yb;function Xb(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(zi(t)){const e=Ui(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw pn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Q.ensureBuffer=Xb;function Pf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Pt.IntNumber)(t);if(typeof t=="string"){if(Af.test(t))return(0,Pt.IntNumber)(Number(t));if(zi(t))return(0,Pt.IntNumber)(new Er.default(Ui(t,!1),16).toNumber())}throw pn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Q.ensureIntNumber=Pf;function em(t){if(t instanceof RegExp)return(0,Pt.RegExpString)(t.toString());throw pn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Q.ensureRegExpString=em;function tm(t){if(t!==null&&(Er.default.isBN(t)||$f(t)))return new Er.default(t.toString(10),10);if(typeof t=="number")return new Er.default(Pf(t));if(typeof t=="string"){if(Af.test(t))return new Er.default(t,10);if(zi(t))return new Er.default(Ui(t,!1),16)}throw pn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Q.ensureBN=tm;function rm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw pn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Q.ensureParsedJSONObject=rm;function $f(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Q.isBigNumber=$f;function nm(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Q.range=nm;function im(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Q.getFavicon=im;function sm(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Ub.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}Q.createQrUrl=sm;function om(){try{return window.frameElement!==null}catch{return!1}}Q.isInIFrame=om;Object.defineProperty(ai,"__esModule",{value:!0});ai.Session=void 0;const Gc=Ev,Jc=Q,Zc="session:id",Qc="session:secret",Kc="session:linked";class Tu{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Jc.randomBytesHex)(16),this._secret=n||(0,Jc.randomBytesHex)(32),this._key=new Gc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Zc),n=e.getItem(Kc),i=e.getItem(Qc);return r&&i?new Tu(e,r,i,n==="1"):null}static hash(e){return new Gc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Zc,this._id),this._storage.setItem(Qc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Kc,this._linked?"1":"0")}}ai.Session=Tu;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.WalletSDKRelayAbstract=zt.APP_VERSION_KEY=zt.LOCAL_STORAGE_ADDRESSES_KEY=zt.WALLET_USER_NAME_KEY=void 0;const Yc=Bi;zt.WALLET_USER_NAME_KEY="walletUsername";zt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";zt.APP_VERSION_KEY="AppVersion";class am{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Yc.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Yc.serializeError)(s,e.method);return i})}}zt.WalletSDKRelayAbstract=am;var Df={};const Xc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Df.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],d=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49];let v=d^(i<<1|s>>>31),E=p^(s<<1|i>>>31);const R=t[0]^v,L=t[1]^E,N=t[10]^v,I=t[11]^E,T=t[20]^v,O=t[21]^E,D=t[30]^v,P=t[31]^E,j=t[40]^v,U=t[41]^E;v=r^(o<<1|a>>>31),E=n^(a<<1|o>>>31);const ne=t[2]^v,H=t[3]^E,W=t[12]^v,ee=t[13]^E,Y=t[22]^v,b=t[23]^E,u=t[32]^v,f=t[33]^E,g=t[42]^v,m=t[43]^E;v=i^(l<<1|c>>>31),E=s^(c<<1|l>>>31);const _=t[4]^v,x=t[5]^E,C=t[14]^v,y=t[15]^E,h=t[24]^v,S=t[25]^E,z=t[34]^v,G=t[35]^E,q=t[44]^v,A=t[45]^E;v=o^(d<<1|p>>>31),E=a^(p<<1|d>>>31);const k=t[6]^v,B=t[7]^E,X=t[16]^v,Z=t[17]^E,w=t[26]^v,M=t[27]^E,$=t[36]^v,V=t[37]^E,ge=t[46]^v,J=t[47]^E;v=l^(r<<1|n>>>31),E=c^(n<<1|r>>>31);const te=t[8]^v,It=t[9]^E,ve=t[18]^v,we=t[19]^E,Or=t[28]^v,Se=t[29]^E,be=t[38]^v,cr=t[39]^E,me=t[48]^v,pe=t[49]^E,Et=R,fe=L,xe=I<<4|N>>>28,yn=N<<4|I>>>28,Re=T<<3|O>>>29,Ce=O<<3|T>>>29,_n=P<<9|D>>>23,Ie=D<<9|P>>>23,ke=j<<18|U>>>14,wn=U<<18|j>>>14,Ae=ne<<1|H>>>31,Te=H<<1|ne>>>31,Sn=ee<<12|W>>>20,Ne=W<<12|ee>>>20,Oe=Y<<10|b>>>22,En=b<<10|Y>>>22,Le=f<<13|u>>>19,Pe=u<<13|f>>>19,Mn=g<<2|m>>>30,$e=m<<2|g>>>30,De=x<<30|_>>>2,xn=_<<30|x>>>2,Be=C<<6|y>>>26,je=y<<6|C>>>26,Rn=S<<11|h>>>21,Fe=h<<11|S>>>21,He=z<<15|G>>>17,Cn=G<<15|z>>>17,We=A<<29|q>>>3,Ve=q<<29|A>>>3,In=k<<28|B>>>4,ze=B<<28|k>>>4,Ue=Z<<23|X>>>9,kn=X<<23|Z>>>9,qe=w<<25|M>>>7,Ge=M<<25|w>>>7,Lr=$<<21|V>>>11,Pr=V<<21|$>>>11,$r=J<<24|ge>>>8,Dr=ge<<24|J>>>8,Br=te<<27|It>>>5,jr=It<<27|te>>>5,Fr=ve<<20|we>>>12,Hr=we<<20|ve>>>12,Wr=Se<<7|Or>>>25,Vr=Or<<7|Se>>>25,zr=be<<8|cr>>>24,Ur=cr<<8|be>>>24,qr=me<<14|pe>>>18,Gr=pe<<14|me>>>18;t[0]=Et^~Sn&Rn,t[1]=fe^~Ne&Fe,t[10]=In^~Fr&Re,t[11]=ze^~Hr&Ce,t[20]=Ae^~Be&qe,t[21]=Te^~je&Ge,t[30]=Br^~xe&Oe,t[31]=jr^~yn&En,t[40]=De^~Ue&Wr,t[41]=xn^~kn&Vr,t[2]=Sn^~Rn&Lr,t[3]=Ne^~Fe&Pr,t[12]=Fr^~Re&Le,t[13]=Hr^~Ce&Pe,t[22]=Be^~qe&zr,t[23]=je^~Ge&Ur,t[32]=xe^~Oe&He,t[33]=yn^~En&Cn,t[42]=Ue^~Wr&_n,t[43]=kn^~Vr&Ie,t[4]=Rn^~Lr&qr,t[5]=Fe^~Pr&Gr,t[14]=Re^~Le&We,t[15]=Ce^~Pe&Ve,t[24]=qe^~zr&ke,t[25]=Ge^~Ur&wn,t[34]=Oe^~He&$r,t[35]=En^~Cn&Dr,t[44]=Wr^~_n&Mn,t[45]=Vr^~Ie&$e,t[6]=Lr^~qr&Et,t[7]=Pr^~Gr&fe,t[16]=Le^~We&In,t[17]=Pe^~Ve&ze,t[26]=zr^~ke&Ae,t[27]=Ur^~wn&Te,t[36]=He^~$r&Br,t[37]=Cn^~Dr&jr,t[46]=_n^~Mn&De,t[47]=Ie^~$e&xn,t[8]=qr^~Et&Sn,t[9]=Gr^~fe&Ne,t[18]=We^~In&Fr,t[19]=Ve^~ze&Hr,t[28]=ke^~Ae&Be,t[29]=wn^~Te&je,t[38]=$r^~Br&xe,t[39]=Dr^~jr&yn,t[48]=Mn^~De&Ue,t[49]=$e^~xn&kn,t[0]^=Xc[e*2],t[1]^=Xc[e*2+1]}};const Os=Df;function li(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}li.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};li.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Os.p1600(this.state),this.count=0)};li.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Os.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Os.p1600(this.state),this.count=0,this.squeezing=!0};li.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Os.p1600(this.state),this.count=0);return e};li.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var um=li,eu={exports:{}},Bf=hu().EventEmitter,ua,el;function cm(){if(el)return ua;el=1;function t(R,L){var N=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);L&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(R,T).enumerable})),N.push.apply(N,I)}return N}function e(R){for(var L=1;L<arguments.length;L++){var N=arguments[L]!=null?arguments[L]:{};L%2?t(Object(N),!0).forEach(function(I){r(R,I,N[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(N)):t(Object(N)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(N,I))})}return R}function r(R,L,N){return L=o(L),L in R?Object.defineProperty(R,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[L]=N,R}function n(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function i(R,L){for(var N=0;N<L.length;N++){var I=L[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,o(I.key),I)}}function s(R,L,N){return L&&i(R.prototype,L),N&&i(R,N),Object.defineProperty(R,"prototype",{writable:!1}),R}function o(R){var L=a(R,"string");return typeof L=="symbol"?L:String(L)}function a(R,L){if(typeof R!="object"||R===null)return R;var N=R[Symbol.toPrimitive];if(N!==void 0){var I=N.call(R,L||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(R)}var l=fu(),c=l.Buffer,d=Fs,p=d.inspect,v=p&&p.custom||"inspect";function E(R,L,N){c.prototype.copy.call(R,L,N)}return ua=function(){function R(){n(this,R),this.head=null,this.tail=null,this.length=0}return s(R,[{key:"push",value:function(N){var I={data:N,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(N){var I={data:N,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var I=this.head,T=""+I.data;I=I.next;)T+=N+I.data;return T}},{key:"concat",value:function(N){if(this.length===0)return c.alloc(0);for(var I=c.allocUnsafe(N>>>0),T=this.head,O=0;T;)E(T.data,I,O),O+=T.data.length,T=T.next;return I}},{key:"consume",value:function(N,I){var T;return N<this.head.data.length?(T=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?T=this.shift():T=I?this._getString(N):this._getBuffer(N),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var I=this.head,T=1,O=I.data;for(N-=O.length;I=I.next;){var D=I.data,P=N>D.length?D.length:N;if(P===D.length?O+=D:O+=D.slice(0,N),N-=P,N===0){P===D.length?(++T,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=D.slice(P));break}++T}return this.length-=T,O}},{key:"_getBuffer",value:function(N){var I=c.allocUnsafe(N),T=this.head,O=1;for(T.data.copy(I),N-=T.data.length;T=T.next;){var D=T.data,P=N>D.length?D.length:N;if(D.copy(I,I.length-N,0,P),N-=P,N===0){P===D.length?(++O,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=D.slice(P));break}++O}return this.length-=O,I}},{key:v,value:function(N,I){return p(this,e(e({},I),{},{depth:0,customInspect:!1}))}}]),R}(),ua}function lm(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(tu,this,t)):process.nextTick(tu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Es,r):(r._writableState.errorEmitted=!0,process.nextTick(tl,r,s)):process.nextTick(tl,r,s):e?(process.nextTick(Es,r),e(s)):process.nextTick(Es,r)}),this)}function tl(t,e){tu(t,e),Es(t)}function Es(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function hm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function tu(t,e){t.emit("error",e)}function fm(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var jf={destroy:lm,undestroy:hm,errorOrDestroy:fm},gn={};function dm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ff={};function Bt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){dm(o,s);function o(a,l,c){return s.call(this,n(a,l,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Ff[t]=i}function rl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function pm(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function gm(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function vm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Bt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Bt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&pm(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(gm(t," argument"))i="The ".concat(t," ").concat(n," ").concat(rl(e,"type"));else{var s=vm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(rl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Bt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Bt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Bt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Bt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Bt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Bt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Bt("ERR_STREAM_WRITE_AFTER_END","write after end");Bt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Bt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Bt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");gn.codes=Ff;var bm=gn.codes.ERR_INVALID_OPT_VALUE;function mm(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ym(t,e,r,n){var i=mm(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new bm(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Hf={getHighWaterMark:ym},ca,nl;function Wf(){if(nl)return ca;nl=1;var t={};ca=H;function e(A){var k=this;this.next=null,this.entry=null,this.finish=function(){q(k,A)}}var r;H.WritableState=U;var n={deprecate:V0()},i=Bf,s=fu().Buffer,o=(typeof t<"u"?t:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(A){return s.from(A)}function l(A){return s.isBuffer(A)||A instanceof o}var c=jf,d=Hf,p=d.getHighWaterMark,v=gn.codes,E=v.ERR_INVALID_ARG_TYPE,R=v.ERR_METHOD_NOT_IMPLEMENTED,L=v.ERR_MULTIPLE_CALLBACK,N=v.ERR_STREAM_CANNOT_PIPE,I=v.ERR_STREAM_DESTROYED,T=v.ERR_STREAM_NULL_VALUES,O=v.ERR_STREAM_WRITE_AFTER_END,D=v.ERR_UNKNOWN_ENCODING,P=c.errorOrDestroy;Ut(H,i);function j(){}function U(A,k,B){r=r||Jn(),A=A||{},typeof B!="boolean"&&(B=k instanceof r),this.objectMode=!!A.objectMode,B&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=p(this,A,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=A.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){m(k,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}U.prototype.getBuffer=function(){for(var k=this.bufferedRequest,B=[];k;)B.push(k),k=k.next;return B},function(){try{Object.defineProperty(U.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(k){return ne.call(this,k)?!0:this!==H?!1:k&&k._writableState instanceof U}})):ne=function(k){return k instanceof this};function H(A){r=r||Jn();var k=this instanceof r;if(!k&&!ne.call(H,this))return new H(A);this._writableState=new U(A,this,k),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),i.call(this)}H.prototype.pipe=function(){P(this,new N)};function W(A,k){var B=new O;P(A,B),process.nextTick(k,B)}function ee(A,k,B,X){var Z;return B===null?Z=new T:typeof B!="string"&&!k.objectMode&&(Z=new E("chunk",["string","Buffer"],B)),Z?(P(A,Z),process.nextTick(X,Z),!1):!0}H.prototype.write=function(A,k,B){var X=this._writableState,Z=!1,w=!X.objectMode&&l(A);return w&&!s.isBuffer(A)&&(A=a(A)),typeof k=="function"&&(B=k,k=null),w?k="buffer":k||(k=X.defaultEncoding),typeof B!="function"&&(B=j),X.ending?W(this,B):(w||ee(this,X,A,B))&&(X.pendingcb++,Z=b(this,X,w,A,k,B)),Z},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&C(this,A))},H.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new D(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(A,k,B){return!A.objectMode&&A.decodeStrings!==!1&&typeof k=="string"&&(k=s.from(k,B)),k}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function b(A,k,B,X,Z,w){if(!B){var M=Y(k,X,Z);X!==M&&(B=!0,Z="buffer",X=M)}var $=k.objectMode?1:X.length;k.length+=$;var V=k.length<k.highWaterMark;if(V||(k.needDrain=!0),k.writing||k.corked){var ge=k.lastBufferedRequest;k.lastBufferedRequest={chunk:X,encoding:Z,isBuf:B,callback:w,next:null},ge?ge.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else u(A,k,!1,$,X,Z,w);return V}function u(A,k,B,X,Z,w,M){k.writelen=X,k.writecb=M,k.writing=!0,k.sync=!0,k.destroyed?k.onwrite(new I("write")):B?A._writev(Z,k.onwrite):A._write(Z,w,k.onwrite),k.sync=!1}function f(A,k,B,X,Z){--k.pendingcb,B?(process.nextTick(Z,X),process.nextTick(z,A,k),A._writableState.errorEmitted=!0,P(A,X)):(Z(X),A._writableState.errorEmitted=!0,P(A,X),z(A,k))}function g(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function m(A,k){var B=A._writableState,X=B.sync,Z=B.writecb;if(typeof Z!="function")throw new L;if(g(B),k)f(A,B,X,k,Z);else{var w=y(B)||A.destroyed;!w&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&C(A,B),X?process.nextTick(_,A,B,w,Z):_(A,B,w,Z)}}function _(A,k,B,X){B||x(A,k),k.pendingcb--,X(),z(A,k)}function x(A,k){k.length===0&&k.needDrain&&(k.needDrain=!1,A.emit("drain"))}function C(A,k){k.bufferProcessing=!0;var B=k.bufferedRequest;if(A._writev&&B&&B.next){var X=k.bufferedRequestCount,Z=new Array(X),w=k.corkedRequestsFree;w.entry=B;for(var M=0,$=!0;B;)Z[M]=B,B.isBuf||($=!1),B=B.next,M+=1;Z.allBuffers=$,u(A,k,!0,k.length,Z,"",w.finish),k.pendingcb++,k.lastBufferedRequest=null,w.next?(k.corkedRequestsFree=w.next,w.next=null):k.corkedRequestsFree=new e(k),k.bufferedRequestCount=0}else{for(;B;){var V=B.chunk,ge=B.encoding,J=B.callback,te=k.objectMode?1:V.length;if(u(A,k,!1,te,V,ge,J),B=B.next,k.bufferedRequestCount--,k.writing)break}B===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=B,k.bufferProcessing=!1}H.prototype._write=function(A,k,B){B(new R("_write()"))},H.prototype._writev=null,H.prototype.end=function(A,k,B){var X=this._writableState;return typeof A=="function"?(B=A,A=null,k=null):typeof k=="function"&&(B=k,k=null),A!=null&&this.write(A,k),X.corked&&(X.corked=1,this.uncork()),X.ending||G(this,X,B),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function h(A,k){A._final(function(B){k.pendingcb--,B&&P(A,B),k.prefinished=!0,A.emit("prefinish"),z(A,k)})}function S(A,k){!k.prefinished&&!k.finalCalled&&(typeof A._final=="function"&&!k.destroyed?(k.pendingcb++,k.finalCalled=!0,process.nextTick(h,A,k)):(k.prefinished=!0,A.emit("prefinish")))}function z(A,k){var B=y(k);if(B&&(S(A,k),k.pendingcb===0&&(k.finished=!0,A.emit("finish"),k.autoDestroy))){var X=A._readableState;(!X||X.autoDestroy&&X.endEmitted)&&A.destroy()}return B}function G(A,k,B){k.ending=!0,z(A,k),B&&(k.finished?process.nextTick(B):A.once("finish",B)),k.ended=!0,A.writable=!1}function q(A,k,B){var X=A.entry;for(A.entry=null;X;){var Z=X.callback;k.pendingcb--,Z(B),X=X.next}k.corkedRequestsFree.next=A}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(A,k){k(A)},ca}var la,il;function Jn(){if(il)return la;il=1;var t=Object.keys||function(c){var d=[];for(var p in c)d.push(p);return d};la=o;var e=zf(),r=Wf();Ut(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(c){if(!(this instanceof o))return new o(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),la}var sl=gn.codes.ERR_STREAM_PREMATURE_CLOSE;function _m(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function wm(){}function Sm(t){return t.setHeader&&typeof t.abort=="function"}function Vf(t,e,r){if(typeof e=="function")return Vf(t,null,e);e||(e={}),r=_m(r||wm);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},l=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(t)},d=function(R){r.call(t,R)},p=function(){var R;if(n&&!l)return(!t._readableState||!t._readableState.ended)&&(R=new sl),r.call(t,R);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(R=new sl),r.call(t,R)},v=function(){t.req.on("finish",a)};return Sm(t)?(t.on("complete",a),t.on("abort",p),t.req?v():t.on("request",v)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",d),t.removeListener("close",p)}}var Nu=Vf,ha,ol;function Em(){if(ol)return ha;ol=1;var t;function e(O,D,P){return D=r(D),D in O?Object.defineProperty(O,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[D]=P,O}function r(O){var D=n(O,"string");return typeof D=="symbol"?D:String(D)}function n(O,D){if(typeof O!="object"||O===null)return O;var P=O[Symbol.toPrimitive];if(P!==void 0){var j=P.call(O,D||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(O)}var i=Nu,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function v(O,D){return{value:O,done:D}}function E(O){var D=O[s];if(D!==null){var P=O[p].read();P!==null&&(O[c]=null,O[s]=null,O[o]=null,D(v(P,!1)))}}function R(O){process.nextTick(E,O)}function L(O,D){return function(P,j){O.then(function(){if(D[l]){P(v(void 0,!0));return}D[d](P,j)},j)}}var N=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var D=this,P=this[a];if(P!==null)return Promise.reject(P);if(this[l])return Promise.resolve(v(void 0,!0));if(this[p].destroyed)return new Promise(function(H,W){process.nextTick(function(){D[a]?W(D[a]):H(v(void 0,!0))})});var j=this[c],U;if(j)U=new Promise(L(j,this));else{var ne=this[p].read();if(ne!==null)return Promise.resolve(v(ne,!1));U=new Promise(this[d])}return this[c]=U,U}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var D=this;return new Promise(function(P,j){D[p].destroy(null,function(U){if(U){j(U);return}P(v(void 0,!0))})})}),t),N),T=function(D){var P,j=Object.create(I,(P={},e(P,p,{value:D,writable:!0}),e(P,s,{value:null,writable:!0}),e(P,o,{value:null,writable:!0}),e(P,a,{value:null,writable:!0}),e(P,l,{value:D._readableState.endEmitted,writable:!0}),e(P,d,{value:function(ne,H){var W=j[p].read();W?(j[c]=null,j[s]=null,j[o]=null,ne(v(W,!1))):(j[s]=ne,j[o]=H)},writable:!0}),P));return j[c]=null,i(D,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ne=j[o];ne!==null&&(j[c]=null,j[s]=null,j[o]=null,ne(U)),j[a]=U;return}var H=j[s];H!==null&&(j[c]=null,j[s]=null,j[o]=null,H(v(void 0,!0))),j[l]=!0}),D.on("readable",R.bind(null,j)),j};return ha=T,ha}var fa,al;function Mm(){return al||(al=1,fa=function(){throw new Error("Readable.from is not available in the browser")}),fa}var da,ul;function zf(){if(ul)return da;ul=1;var t={};da=W;var e;W.ReadableState=H,hu().EventEmitter;var r=function(M,$){return M.listeners($).length},n=Bf,i=fu().Buffer,s=(typeof t<"u"?t:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(w){return i.from(w)}function a(w){return i.isBuffer(w)||w instanceof s}var l=Fs,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var d=cm(),p=jf,v=Hf,E=v.getHighWaterMark,R=gn.codes,L=R.ERR_INVALID_ARG_TYPE,N=R.ERR_STREAM_PUSH_AFTER_EOF,I=R.ERR_METHOD_NOT_IMPLEMENTED,T=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,D,P;Ut(W,n);var j=p.errorOrDestroy,U=["error","close","destroy","pause","resume"];function ne(w,M,$){if(typeof w.prependListener=="function")return w.prependListener(M,$);!w._events||!w._events[M]?w.on(M,$):Array.isArray(w._events[M])?w._events[M].unshift($):w._events[M]=[$,w._events[M]]}function H(w,M,$){e=e||Jn(),w=w||{},typeof $!="boolean"&&($=M instanceof e),this.objectMode=!!w.objectMode,$&&(this.objectMode=this.objectMode||!!w.readableObjectMode),this.highWaterMark=E(this,w,"readableHighWaterMark",$),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.destroyed=!1,this.defaultEncoding=w.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,w.encoding&&(O||(O=Sc().StringDecoder),this.decoder=new O(w.encoding),this.encoding=w.encoding)}function W(w){if(e=e||Jn(),!(this instanceof W))return new W(w);var M=this instanceof e;this._readableState=new H(w,this,M),this.readable=!0,w&&(typeof w.read=="function"&&(this._read=w.read),typeof w.destroy=="function"&&(this._destroy=w.destroy)),n.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),W.prototype.destroy=p.destroy,W.prototype._undestroy=p.undestroy,W.prototype._destroy=function(w,M){M(w)},W.prototype.push=function(w,M){var $=this._readableState,V;return $.objectMode?V=!0:typeof w=="string"&&(M=M||$.defaultEncoding,M!==$.encoding&&(w=i.from(w,M),M=""),V=!0),ee(this,w,M,!1,V)},W.prototype.unshift=function(w){return ee(this,w,null,!0,!1)};function ee(w,M,$,V,ge){c("readableAddChunk",M);var J=w._readableState;if(M===null)J.reading=!1,m(w,J);else{var te;if(ge||(te=b(J,M)),te)j(w,te);else if(J.objectMode||M&&M.length>0)if(typeof M!="string"&&!J.objectMode&&Object.getPrototypeOf(M)!==i.prototype&&(M=o(M)),V)J.endEmitted?j(w,new T):Y(w,J,M,!0);else if(J.ended)j(w,new N);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!$?(M=J.decoder.write(M),J.objectMode||M.length!==0?Y(w,J,M,!1):C(w,J)):Y(w,J,M,!1)}else V||(J.reading=!1,C(w,J))}return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function Y(w,M,$,V){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,w.emit("data",$)):(M.length+=M.objectMode?1:$.length,V?M.buffer.unshift($):M.buffer.push($),M.needReadable&&_(w)),C(w,M)}function b(w,M){var $;return!a(M)&&typeof M!="string"&&M!==void 0&&!w.objectMode&&($=new L("chunk",["string","Buffer","Uint8Array"],M)),$}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(w){O||(O=Sc().StringDecoder);var M=new O(w);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var $=this._readableState.buffer.head,V="";$!==null;)V+=M.write($.data),$=$.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var u=1073741824;function f(w){return w>=u?w=u:(w--,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,w|=w>>>16,w++),w}function g(w,M){return w<=0||M.length===0&&M.ended?0:M.objectMode?1:w!==w?M.flowing&&M.length?M.buffer.head.data.length:M.length:(w>M.highWaterMark&&(M.highWaterMark=f(w)),w<=M.length?w:M.ended?M.length:(M.needReadable=!0,0))}W.prototype.read=function(w){c("read",w),w=parseInt(w,10);var M=this._readableState,$=w;if(w!==0&&(M.emittedReadable=!1),w===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return c("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?B(this):_(this),null;if(w=g(w,M),w===0&&M.ended)return M.length===0&&B(this),null;var V=M.needReadable;c("need readable",V),(M.length===0||M.length-w<M.highWaterMark)&&(V=!0,c("length less than watermark",V)),M.ended||M.reading?(V=!1,c("reading or ended",V)):V&&(c("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(w=g($,M)));var ge;return w>0?ge=k(w,M):ge=null,ge===null?(M.needReadable=M.length<=M.highWaterMark,w=0):(M.length-=w,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),$!==w&&M.ended&&B(this)),ge!==null&&this.emit("data",ge),ge};function m(w,M){if(c("onEofChunk"),!M.ended){if(M.decoder){var $=M.decoder.end();$&&$.length&&(M.buffer.push($),M.length+=M.objectMode?1:$.length)}M.ended=!0,M.sync?_(w):(M.needReadable=!1,M.emittedReadable||(M.emittedReadable=!0,x(w)))}}function _(w){var M=w._readableState;c("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(c("emitReadable",M.flowing),M.emittedReadable=!0,process.nextTick(x,w))}function x(w){var M=w._readableState;c("emitReadable_",M.destroyed,M.length,M.ended),!M.destroyed&&(M.length||M.ended)&&(w.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,A(w)}function C(w,M){M.readingMore||(M.readingMore=!0,process.nextTick(y,w,M))}function y(w,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var $=M.length;if(c("maybeReadMore read 0"),w.read(0),$===M.length)break}M.readingMore=!1}W.prototype._read=function(w){j(this,new I("_read()"))},W.prototype.pipe=function(w,M){var $=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=w;break;case 1:V.pipes=[V.pipes,w];break;default:V.pipes.push(w);break}V.pipesCount+=1,c("pipe count=%d opts=%j",V.pipesCount,M);var ge=(!M||M.end!==!1)&&w!==process.stdout&&w!==process.stderr,J=ge?It:pe;V.endEmitted?process.nextTick(J):$.once("end",J),w.on("unpipe",te);function te(Et,fe){c("onunpipe"),Et===$&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,Or())}function It(){c("onend"),w.end()}var ve=h($);w.on("drain",ve);var we=!1;function Or(){c("cleanup"),w.removeListener("close",cr),w.removeListener("finish",me),w.removeListener("drain",ve),w.removeListener("error",be),w.removeListener("unpipe",te),$.removeListener("end",It),$.removeListener("end",pe),$.removeListener("data",Se),we=!0,V.awaitDrain&&(!w._writableState||w._writableState.needDrain)&&ve()}$.on("data",Se);function Se(Et){c("ondata");var fe=w.write(Et);c("dest.write",fe),fe===!1&&((V.pipesCount===1&&V.pipes===w||V.pipesCount>1&&Z(V.pipes,w)!==-1)&&!we&&(c("false write response, pause",V.awaitDrain),V.awaitDrain++),$.pause())}function be(Et){c("onerror",Et),pe(),w.removeListener("error",be),r(w,"error")===0&&j(w,Et)}ne(w,"error",be);function cr(){w.removeListener("finish",me),pe()}w.once("close",cr);function me(){c("onfinish"),w.removeListener("close",cr),pe()}w.once("finish",me);function pe(){c("unpipe"),$.unpipe(w)}return w.emit("pipe",$),V.flowing||(c("pipe resume"),$.resume()),w};function h(w){return function(){var $=w._readableState;c("pipeOnDrain",$.awaitDrain),$.awaitDrain&&$.awaitDrain--,$.awaitDrain===0&&r(w,"data")&&($.flowing=!0,A(w))}}W.prototype.unpipe=function(w){var M=this._readableState,$={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return w&&w!==M.pipes?this:(w||(w=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,w&&w.emit("unpipe",this,$),this);if(!w){var V=M.pipes,ge=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var J=0;J<ge;J++)V[J].emit("unpipe",this,{hasUnpiped:!1});return this}var te=Z(M.pipes,w);return te===-1?this:(M.pipes.splice(te,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),w.emit("unpipe",this,$),this)},W.prototype.on=function(w,M){var $=n.prototype.on.call(this,w,M),V=this._readableState;return w==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):w==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,c("on readable",V.length,V.reading),V.length?_(this):V.reading||process.nextTick(z,this)),$},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(w,M){var $=n.prototype.removeListener.call(this,w,M);return w==="readable"&&process.nextTick(S,this),$},W.prototype.removeAllListeners=function(w){var M=n.prototype.removeAllListeners.apply(this,arguments);return(w==="readable"||w===void 0)&&process.nextTick(S,this),M};function S(w){var M=w._readableState;M.readableListening=w.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:w.listenerCount("data")>0&&w.resume()}function z(w){c("readable nexttick read 0"),w.read(0)}W.prototype.resume=function(){var w=this._readableState;return w.flowing||(c("resume"),w.flowing=!w.readableListening,G(this,w)),w.paused=!1,this};function G(w,M){M.resumeScheduled||(M.resumeScheduled=!0,process.nextTick(q,w,M))}function q(w,M){c("resume",M.reading),M.reading||w.read(0),M.resumeScheduled=!1,w.emit("resume"),A(w),M.flowing&&!M.reading&&w.read(0)}W.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(w){var M=w._readableState;for(c("flow",M.flowing);M.flowing&&w.read()!==null;);}W.prototype.wrap=function(w){var M=this,$=this._readableState,V=!1;w.on("end",function(){if(c("wrapped end"),$.decoder&&!$.ended){var te=$.decoder.end();te&&te.length&&M.push(te)}M.push(null)}),w.on("data",function(te){if(c("wrapped data"),$.decoder&&(te=$.decoder.write(te)),!($.objectMode&&te==null)&&!(!$.objectMode&&(!te||!te.length))){var It=M.push(te);It||(V=!0,w.pause())}});for(var ge in w)this[ge]===void 0&&typeof w[ge]=="function"&&(this[ge]=function(It){return function(){return w[It].apply(w,arguments)}}(ge));for(var J=0;J<U.length;J++)w.on(U[J],this.emit.bind(this,U[J]));return this._read=function(te){c("wrapped _read",te),V&&(V=!1,w.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=Em()),D(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),W._fromList=k,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function k(w,M){if(M.length===0)return null;var $;return M.objectMode?$=M.buffer.shift():!w||w>=M.length?(M.decoder?$=M.buffer.join(""):M.buffer.length===1?$=M.buffer.first():$=M.buffer.concat(M.length),M.buffer.clear()):$=M.buffer.consume(w,M.decoder),$}function B(w){var M=w._readableState;c("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,process.nextTick(X,M,w))}function X(w,M){if(c("endReadableNT",w.endEmitted,w.length),!w.endEmitted&&w.length===0&&(w.endEmitted=!0,M.readable=!1,M.emit("end"),w.autoDestroy)){var $=M._writableState;(!$||$.autoDestroy&&$.finished)&&M.destroy()}}typeof Symbol=="function"&&(W.from=function(w,M){return P===void 0&&(P=Mm()),P(W,w,M)});function Z(w,M){for(var $=0,V=w.length;$<V;$++)if(w[$]===M)return $;return-1}return da}var Uf=br,to=gn.codes,xm=to.ERR_METHOD_NOT_IMPLEMENTED,Rm=to.ERR_MULTIPLE_CALLBACK,Cm=to.ERR_TRANSFORM_ALREADY_TRANSFORMING,Im=to.ERR_TRANSFORM_WITH_LENGTH_0,ro=Jn();Ut(br,ro);function km(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Rm);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function br(t){if(!(this instanceof br))return new br(t);ro.call(this,t),this._transformState={afterTransform:km.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Am)}function Am(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){cl(t,e,r)}):cl(this,null,null)}br.prototype.push=function(t,e){return this._transformState.needTransform=!1,ro.prototype.push.call(this,t,e)};br.prototype._transform=function(t,e,r){r(new xm("_transform()"))};br.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};br.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};br.prototype._destroy=function(t,e){ro.prototype._destroy.call(this,t,function(r){e(r)})};function cl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Im;if(t._transformState.transforming)throw new Cm;return t.push(null)}var Tm=Oi,qf=Uf;Ut(Oi,qf);function Oi(t){if(!(this instanceof Oi))return new Oi(t);qf.call(this,t)}Oi.prototype._transform=function(t,e,r){r(null,t)};var pa;function Nm(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Gf=gn.codes,Om=Gf.ERR_MISSING_ARGS,Lm=Gf.ERR_STREAM_DESTROYED;function ll(t){if(t)throw t}function Pm(t){return t.setHeader&&typeof t.abort=="function"}function $m(t,e,r,n){n=Nm(n);var i=!1;t.on("close",function(){i=!0}),pa===void 0&&(pa=Nu),pa(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Pm(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Lm("pipe"))}}}function hl(t){t()}function Dm(t,e){return t.pipe(e)}function Bm(t){return!t.length||typeof t[t.length-1]!="function"?ll:t.pop()}function jm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Bm(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Om("streams");var i,s=e.map(function(o,a){var l=a<e.length-1,c=a>0;return $m(o,l,c,function(d){i||(i=d),d&&s.forEach(hl),!l&&(s.forEach(hl),n(i))})});return e.reduce(Dm)}var Fm=jm;(function(t,e){e=t.exports=zf(),e.Stream=e,e.Readable=e,e.Writable=Wf(),e.Duplex=Jn(),e.Transform=Uf,e.PassThrough=Tm,e.finished=Nu,e.pipeline=Fm})(eu,eu.exports);var Jf=eu.exports;const{Transform:Hm}=Jf;var Wm=t=>class Zf extends Hm{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Zf(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Vm}=Jf;var zm=t=>class Qf extends Vm{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Qf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Um=Wm,qm=zm;var Gm=function(t){const e=Um(t),r=qm(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Jm=Gm(um);const Zm=Jm,Qm=Js;function Kf(t){return Buffer.allocUnsafe(t).fill(0)}function Yf(t,e,r){const n=Kf(e);return t=no(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Km(t,e){return Yf(t,e,!0)}function no(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Xf(t)?t=Buffer.from(e1(ed(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Qm.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Ym(t){return t=no(t),"0x"+t.toString("hex")}function Xm(t,e){return t=no(t),e||(e=256),Zm("keccak"+e).update(t).digest()}function e1(t){return t.length%2?"0"+t:t}function Xf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ed(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var td={zeros:Kf,setLength:Yf,setLengthRight:Km,isHexString:Xf,stripHexPrefix:ed,toBuffer:no,bufferToHex:Ym,keccak:Xm};const an=td,nn=Js;function rd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Bn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function fl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function nd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Yr(t){var e=typeof t;if(e==="string")return an.isHexString(t)?new nn(an.stripHexPrefix(t),16):new nn(t,10);if(e==="number")return new nn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Xt(t,e){var r,n,i,s;if(t==="address")return Xt("uint160",Yr(e));if(t==="bool")return Xt("uint8",e?1:0);if(t==="string")return Xt("bytes",new Buffer(e,"utf8"));if(r1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=nd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Xt(t,e[s]));if(r==="dynamic"){var o=Xt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Xt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,an.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Bn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return an.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Bn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Yr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Bn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Yr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=fl(t),n=Yr(e),n<0)throw new Error("Supplied ufixed is negative");return Xt("uint256",n.mul(new nn(2).pow(new nn(r[1]))))}else if(t.startsWith("fixed"))return r=fl(t),Xt("int256",Yr(e).mul(new nn(2).pow(new nn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function t1(t){return t==="string"||t==="bytes"||nd(t)==="dynamic"}function r1(t){return t.lastIndexOf("]")===t.length-1}function n1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=rd(t[s]),a=e[s],l=Xt(o,a);t1(o)?(r.push(Xt("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function id(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=rd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(an.setLength(a,20));else if(o.startsWith("bytes")){if(r=Bn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(an.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Bn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Yr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Bn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Yr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function i1(t,e){return an.keccak(id(t,e))}var s1={rawEncode:n1,solidityPack:id,soliditySHA3:i1};const Ht=td,Ri=s1,sd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ga={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,l,c)=>{if(r[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ht.keccak(this.encodeData(l,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Ht.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Ht.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const d=l.slice(0,l.lastIndexOf("[")),p=c.map(v=>o(a,d,v));return["bytes32",Ht.keccak(Ri.rawEncode(p.map(([v])=>v),p.map(([,v])=>v)))]}return[l,c]};for(const a of r[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ht.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Ht.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ht.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ri.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ht.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ht.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in sd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ht.keccak(Buffer.concat(n))}};var o1={TYPED_MESSAGE_SCHEMA:sd,TypedDataUtils:ga,hashForSignTypedDataLegacy:function(t){return a1(t.data)},hashForSignTypedData_v3:function(t){return ga.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ga.hash(t.data)}};function a1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ht.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Ri.soliditySHA3(["bytes32","bytes32"],[Ri.soliditySHA3(new Array(t.length).fill("string"),i),Ri.soliditySHA3(n,r)])}var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.filterFromParam=Zn.FilterPolyfill=void 0;const Pn=Vi,bt=Q,u1=5*60*1e3,Xr={jsonrpc:"2.0",id:0};class c1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Pn.IntNumber)(1),this.provider=e}async newFilter(e){const r=od(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,bt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,bt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,bt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,bt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,bt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(cs())}async getFilterLogs(e){const r=(0,bt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Xr),{method:"eth_getLogs",params:[dl(n)]})):cs()}makeFilterId(){return(0,Pn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return cs();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return ls();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Xr),{method:"eth_getLogs",params:[dl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(c=>(0,bt.intNumberFromHexString)(c.blockNumber||"0x0")),l=Math.max(...a);if(l&&l>n){const c=(0,Pn.IntNumber)(l+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${c}`),this.cursors.set(e,c)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return cs();const n=await this.getCurrentBlockHeight();if(r>n)return ls();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,bt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Pn.IntNumber)(o))))).filter(o=>!!o),s=(0,Pn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Xr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(ls())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},u1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Xr),{method:"eth_blockNumber",params:[]}));return(0,bt.intNumberFromHexString)((0,bt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Xr),{method:"eth_getBlockByNumber",params:[(0,bt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,bt.ensureHexString)(r.result.hash):null}}Zn.FilterPolyfill=c1;function od(t){return{fromBlock:pl(t.fromBlock),toBlock:pl(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Zn.filterFromParam=od;function dl(t){const e={fromBlock:gl(t.fromBlock),toBlock:gl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function pl(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Pn.IntNumber)(0);if((0,bt.isHexString)(t))return(0,bt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function gl(t){return t==="latest"?t:(0,bt.hexStringFromIntNumber)(t)}function cs(){return Object.assign(Object.assign({},Xr),{error:{code:-32e3,message:"filter not found"}})}function ls(){return Object.assign(Object.assign({},Xr),{result:[]})}var ad={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(ad);var io={},ud={},so={},Ou=l1;function l1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const vl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const l=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)l[c-1]=arguments[c];o?(l.unshift(o),s(l)):i(l)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];i(a)}else i(o)}),t.apply(this,n)})};var h1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):vl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?vl(s,e):s}return n},qi={},f1=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});qi.BaseBlockTracker=void 0;const d1=f1(fn),p1=1e3,g1=(t,e)=>t+e,bl=["sync","latest"];class v1 extends d1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*p1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){bl.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return bl.map(e=>this.listenerCount(e)).reduce(g1)}_newPotentialLatest(e){const r=this._currentBlock;r&&ml(e)<=ml(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}qi.BaseBlockTracker=v1;function ml(t){return Number.parseInt(t,16)}var cd={},ld={},lt={};class hd extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function b1(t){return $t(t)&&typeof t[Symbol.iterator]=="function"}function $t(t){return typeof t=="object"&&t!=null}function yl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function nt(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function m1(t){const{done:e,value:r}=t.next();return e?void 0:r}function y1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${nt(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*ru(t,e,r,n){b1(t)||(t=[t]);for(const i of t){const s=y1(i,e,r,n);s&&(yield s)}}function*Lu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&$t(e.schema)&&$t(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l="valid";for(const c of e.validator(t,a))c.explanation=r.message,l="not_valid",yield[c,void 0];for(let[c,d,p]of e.entries(t,a)){const v=Lu(d,p,{path:c===void 0?n:[...n,c],branch:c===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const E of v)E[0]?(l=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):s&&(d=E[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):$t(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=r.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}class et{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const d=i(l,c);return ru(d,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const d=s(l,c);return ru(d,c,this,l)}:this.refiner=()=>[]}assert(e,r){return fd(e,this,r)}create(e,r){return dd(e,this,r)}is(e){return Pu(e,this)}mask(e,r){return pd(e,this,r)}validate(e,r={}){return hi(e,this,r)}}function fd(t,e,r){const n=hi(t,e,{message:r});if(n[0])throw n[0]}function dd(t,e,r){const n=hi(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function pd(t,e,r){const n=hi(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Pu(t,e){return!hi(t,e)[0]}function hi(t,e,r={}){const n=Lu(t,e,r),i=m1(n);return i[0]?[new hd(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function _1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Du(n):Gi(n)}function St(t,e){return new et({type:t,schema:null,validator:e})}function w1(t,e){return new et({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function S1(t){return new et({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function E1(t){let e;return new et({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function M1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Du(n);default:return Gi(n)}}function x1(t){const e=t instanceof et?{...t.schema}:{...t};for(const r in e)e[r]=gd(e[r]);return Gi(e)}function R1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return Gi(n)}function C1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),St(t,e)}function I1(){return St("any",()=>!0)}function k1(t){return new et({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${nt(e)}`}})}function A1(){return St("bigint",t=>typeof t=="bigint")}function T1(){return St("boolean",t=>typeof t=="boolean")}function N1(){return St("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${nt(t)}`)}function O1(t){const e={},r=t.map(n=>nt(n)).join();for(const n of t)e[n]=n;return new et({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${nt(n)}`}})}function L1(){return St("func",t=>typeof t=="function"||`Expected a function, but received: ${nt(t)}`)}function P1(t){return St("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${nt(e)}`)}function $1(){return St("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${nt(t)}`)}function D1(t){return new et({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function B1(t){const e=nt(t),r=typeof t;return new et({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${nt(n)}`}})}function j1(t,e){return new et({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${nt(r)}`}})}function $u(){return St("never",()=>!1)}function F1(t){return new et({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function H1(){return St("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${nt(t)}`)}function Gi(t){const e=t?Object.keys(t):[],r=$u();return new et({type:"object",schema:t||null,*entries(n){if(t&&$t(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return $t(n)||`Expected an object, but received: ${nt(n)}`},coercer(n){return $t(n)?{...n}:n}})}function gd(t){return new et({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function W1(t,e){return new et({type:"record",schema:null,*entries(r){if($t(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return $t(r)||`Expected an object, but received: ${nt(r)}`}})}function V1(){return St("regexp",t=>t instanceof RegExp)}function z1(t){return new et({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${nt(e)}`}})}function vd(){return St("string",t=>typeof t=="string"||`Expected a string, but received: ${nt(t)}`)}function U1(t){const e=$u();return new et({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${nt(r)}`}})}function Du(t){const e=Object.keys(t);return new et({type:"type",schema:t,*entries(r){if($t(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return $t(r)||`Expected an object, but received: ${nt(r)}`},coercer(r){return $t(r)?{...r}:r}})}function q1(t){const e=t.map(r=>r.type).join(" | ");return new et({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Lu(r,s,n),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${nt(r)}`,...i]}})}function bd(){return St("unknown",()=>!0)}function Bu(t,e,r){return new et({...t,coercer:(n,i)=>Pu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function G1(t,e,r={}){return Bu(t,bd(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&yl(n)&&yl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function J1(t){return Bu(t,vd(),e=>e.trim())}function Z1(t){return vn(t,"empty",e=>{const r=md(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function md(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Q1(t,e,r={}){const{exclusive:n}=r;return vn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function K1(t,e,r={}){const{exclusive:n}=r;return vn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Y1(t){return vn(t,"nonempty",e=>md(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function X1(t,e){return vn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function ey(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return vn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function vn(t,e,r){return new et({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=ru(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const ty=Object.freeze(Object.defineProperty({__proto__:null,Struct:et,StructError:hd,any:I1,array:k1,assert:fd,assign:_1,bigint:A1,boolean:T1,coerce:Bu,create:dd,date:N1,defaulted:G1,define:St,deprecated:w1,dynamic:S1,empty:Z1,enums:O1,func:L1,instance:P1,integer:$1,intersection:D1,is:Pu,lazy:E1,literal:B1,map:j1,mask:pd,max:Q1,min:K1,never:$u,nonempty:Y1,nullable:F1,number:H1,object:Gi,omit:M1,optional:gd,partial:x1,pattern:X1,pick:R1,record:W1,refine:vn,regexp:V1,set:z1,size:ey,string:vd,struct:C1,trimmed:J1,tuple:U1,type:Du,union:q1,unknown:bd,validate:hi},Symbol.toStringTag,{value:"Module"})),bn=ri(ty);Object.defineProperty(lt,"__esModule",{value:!0});lt.assertExhaustive=lt.assertStruct=lt.assert=lt.AssertionError=void 0;const ry=bn;function ny(t){return typeof t=="object"&&t!==null&&"message"in t}function iy(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function sy(t){const e=ny(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function yd(t,e){return iy(t)?new t({message:e}):t({message:e})}class ju extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}lt.AssertionError=ju;function oy(t,e="Assertion failed.",r=ju){if(!t)throw e instanceof Error?e:yd(r,e)}lt.assert=oy;function ay(t,e,r="Assertion failed",n=ju){try{(0,ry.assert)(t,e)}catch(i){throw yd(n,`${r}: ${sy(i)}.`)}}lt.assertStruct=ay;function uy(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}lt.assertExhaustive=uy;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.base64=void 0;const cy=bn,ly=lt,hy=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,ly.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,cy.pattern)(t,a)};Ji.base64=hy;var le={},Zi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=bn,r=lt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(c){return(0,e.is)(c,t.HexStruct)}t.isHexString=n;function i(c){return(0,e.is)(c,t.StrictHexStruct)}t.isStrictHexString=i;function s(c){(0,r.assert)(n(c),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(c){(0,r.assert)(i(c),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(c){return c.startsWith("0x")?c:c.startsWith("0X")?`0x${c.substring(2)}`:`0x${c}`}t.add0x=a;function l(c){return c.startsWith("0x")||c.startsWith("0X")?c.substring(2):c}t.remove0x=l})(Zi);Object.defineProperty(le,"__esModule",{value:!0});le.createDataView=le.concatBytes=le.valueToBytes=le.stringToBytes=le.numberToBytes=le.signedBigIntToBytes=le.bigIntToBytes=le.hexToBytes=le.bytesToString=le.bytesToNumber=le.bytesToSignedBigInt=le.bytesToBigInt=le.bytesToHex=le.assertIsBytes=le.isBytes=void 0;const xt=lt,nu=Zi,_l=48,wl=58,Sl=87;function fy(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const dy=fy();function Fu(t){return t instanceof Uint8Array}le.isBytes=Fu;function fi(t){(0,xt.assert)(Fu(t),"Value must be a Uint8Array.")}le.assertIsBytes=fi;function _d(t){if(fi(t),t.length===0)return"0x";const e=dy(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,nu.add0x)(r.join(""))}le.bytesToHex=_d;function wd(t){fi(t);const e=_d(t);return BigInt(e)}le.bytesToBigInt=wd;function py(t){fi(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}le.bytesToSignedBigInt=py;function gy(t){fi(t);const e=wd(t);return(0,xt.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}le.bytesToNumber=gy;function vy(t){return fi(t),new TextDecoder().decode(t)}le.bytesToString=vy;function oo(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,nu.assertIsHexString)(t);const r=(0,nu.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),l=o-(o<wl?_l:Sl),c=a-(a<wl?_l:Sl);i[s]=l*16+c}return i}le.hexToBytes=oo;function Sd(t){(0,xt.assert)(typeof t=="bigint","Value must be a bigint."),(0,xt.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return oo(e)}le.bigIntToBytes=Sd;function by(t,e){(0,xt.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function my(t,e){(0,xt.assert)(typeof t=="bigint","Value must be a bigint."),(0,xt.assert)(typeof e=="number","Byte length must be a number."),(0,xt.assert)(e>0,"Byte length must be greater than 0."),(0,xt.assert)(by(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}le.signedBigIntToBytes=my;function Ed(t){(0,xt.assert)(typeof t=="number","Value must be a number."),(0,xt.assert)(t>=0,"Value must be a non-negative number."),(0,xt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return oo(e)}le.numberToBytes=Ed;function Md(t){return(0,xt.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}le.stringToBytes=Md;function xd(t){if(typeof t=="bigint")return Sd(t);if(typeof t=="number")return Ed(t);if(typeof t=="string")return t.startsWith("0x")?oo(t):Md(t);if(Fu(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}le.valueToBytes=xd;function yy(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=xd(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}le.concatBytes=yy;function _y(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}le.createDataView=_y;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.ChecksumStruct=void 0;const El=bn,wy=Ji;ao.ChecksumStruct=(0,El.size)((0,wy.base64)((0,El.string)(),{paddingRequired:!0}),44,44);var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.createHex=rr.createBytes=rr.createBigInt=rr.createNumber=void 0;const Qe=bn,Sy=lt,Rd=le,uo=Zi,Cd=(0,Qe.union)([(0,Qe.number)(),(0,Qe.bigint)(),(0,Qe.string)(),uo.StrictHexStruct]),Ey=(0,Qe.coerce)((0,Qe.number)(),Cd,Number),My=(0,Qe.coerce)((0,Qe.bigint)(),Cd,BigInt);(0,Qe.union)([uo.StrictHexStruct,(0,Qe.instance)(Uint8Array)]);const xy=(0,Qe.coerce)((0,Qe.instance)(Uint8Array),(0,Qe.union)([uo.StrictHexStruct]),Rd.hexToBytes),Ry=(0,Qe.coerce)(uo.StrictHexStruct,(0,Qe.instance)(Uint8Array),Rd.bytesToHex);function Cy(t){try{const e=(0,Qe.create)(t,Ey);return(0,Sy.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Qe.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}rr.createNumber=Cy;function Iy(t){try{return(0,Qe.create)(t,My)}catch(e){throw e instanceof Qe.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}rr.createBigInt=Iy;function ky(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Qe.create)(t,xy)}catch(e){throw e instanceof Qe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}rr.createBytes=ky;function Ay(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Qe.create)(t,Ry)}catch(e){throw e instanceof Qe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}rr.createHex=Ay;var Qn={},Id=K&&K.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},mt=K&&K.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jt,Zt;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.FrozenSet=Qn.FrozenMap=void 0;class Hu{constructor(e){jt.set(this,void 0),Id(this,jt,new Map(e),"f"),Object.freeze(this)}get size(){return mt(this,jt,"f").size}[(jt=new WeakMap,Symbol.iterator)](){return mt(this,jt,"f")[Symbol.iterator]()}entries(){return mt(this,jt,"f").entries()}forEach(e,r){return mt(this,jt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return mt(this,jt,"f").get(e)}has(e){return mt(this,jt,"f").has(e)}keys(){return mt(this,jt,"f").keys()}values(){return mt(this,jt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Qn.FrozenMap=Hu;class Wu{constructor(e){Zt.set(this,void 0),Id(this,Zt,new Set(e),"f"),Object.freeze(this)}get size(){return mt(this,Zt,"f").size}[(Zt=new WeakMap,Symbol.iterator)](){return mt(this,Zt,"f")[Symbol.iterator]()}entries(){return mt(this,Zt,"f").entries()}forEach(e,r){return mt(this,Zt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return mt(this,Zt,"f").has(e)}keys(){return mt(this,Zt,"f").keys()}values(){return mt(this,Zt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Qn.FrozenSet=Wu;Object.freeze(Hu);Object.freeze(Hu.prototype);Object.freeze(Wu);Object.freeze(Wu.prototype);var kd={},Vu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(c){return Array.isArray(c)&&c.length>0}t.isNonEmptyArray=e;function r(c){return c==null}t.isNullOrUndefined=r;function n(c){return!!c&&typeof c=="object"&&!Array.isArray(c)}t.isObject=n;const i=(c,d)=>Object.hasOwnProperty.call(c,d);t.hasProperty=i,function(c){c[c.Null=4]="Null",c[c.Comma=1]="Comma",c[c.Wrapper=1]="Wrapper",c[c.True=4]="True",c[c.False=5]="False",c[c.Quote=1]="Quote",c[c.Colon=1]="Colon",c[c.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(c){if(typeof c!="object"||c===null)return!1;try{let d=c;for(;Object.getPrototypeOf(d)!==null;)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(c)===d}catch{return!1}}t.isPlainObject=s;function o(c){return c.charCodeAt(0)<=127}t.isASCII=o;function a(c){var d;return c.split("").reduce((v,E)=>o(E)?v+1:v+2,0)+((d=c.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&d!==void 0?d:[]).length}t.calculateStringSize=a;function l(c){return c.toString().length}t.calculateNumberSize=l})(Vu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=bn,r=lt,n=Vu;t.JsonStruct=(0,e.define)("Json",P=>{const[j]=D(P,!0);return j?!0:"Expected a valid JSON-serializable value"});function i(P){return(0,e.is)(P,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(P){return(0,e.is)(P,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(P,j){(0,r.assertStruct)(P,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",j)}t.assertIsJsonRpcNotification=o;function a(P){return(0,e.is)(P,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function l(P,j){(0,r.assertStruct)(P,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",j)}t.assertIsJsonRpcRequest=l,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function c(P){return(0,e.is)(P,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=c;function d(P,j){(0,r.assertStruct)(P,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",j)}t.assertIsPendingJsonRpcResponse=d;function p(P){return(0,e.is)(P,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=p;function v(P,j){(0,r.assertStruct)(P,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",j)}t.assertIsJsonRpcResponse=v;function E(P){return(0,e.is)(P,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=E;function R(P,j){(0,r.assertStruct)(P,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",j)}t.assertIsJsonRpcSuccess=R;function L(P){return(0,e.is)(P,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=L;function N(P,j){(0,r.assertStruct)(P,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",j)}t.assertIsJsonRpcFailure=N;function I(P){return(0,e.is)(P,t.JsonRpcErrorStruct)}t.isJsonRpcError=I;function T(P,j){(0,r.assertStruct)(P,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",j)}t.assertIsJsonRpcError=T;function O(P){const{permitEmptyString:j,permitFractions:U,permitNull:ne}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},P);return W=>!!(typeof W=="number"&&(U||Number.isInteger(W))||typeof W=="string"&&(j||W.length>0)||ne&&W===null)}t.getJsonRpcIdValidator=O;function D(P,j=!1){const U=new Set;function ne(H,W){if(H===void 0)return[!1,0];if(H===null)return[!0,W?0:n.JsonSize.Null];const ee=typeof H;try{if(ee==="function")return[!1,0];if(ee==="string"||H instanceof String)return[!0,W?0:(0,n.calculateStringSize)(H)+n.JsonSize.Quote*2];if(ee==="boolean"||H instanceof Boolean)return W?[!0,0]:[!0,H==!0?n.JsonSize.True:n.JsonSize.False];if(ee==="number"||H instanceof Number)return W?[!0,0]:[!0,(0,n.calculateNumberSize)(H)];if(H instanceof Date)return W?[!0,0]:[!0,isNaN(H.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(H)&&!Array.isArray(H))return[!1,0];if(U.has(H))return[!1,0];U.add(H);try{return[!0,Object.entries(H).reduce((Y,[b,u],f,g)=>{let[m,_]=ne(u,W);if(!m)throw new Error("JSON validation did not pass. Validation process stopped.");if(U.delete(H),W)return 0;const x=Array.isArray(H)?0:b.length+n.JsonSize.Comma+n.JsonSize.Colon*2,C=f<g.length-1?n.JsonSize.Comma:0;return Y+x+_+C},W?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return ne(P,j)}t.validateJsonAndGetSize=D})(kd);var Kn={},Ty=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.createModuleLogger=Kn.createProjectLogger=void 0;const Ny=Ty(z0),Oy=(0,Ny.default)("metamask");function Ly(t){return Oy.extend(t)}Kn.createProjectLogger=Ly;function Py(t,e){return t.extend(e)}Kn.createModuleLogger=Py;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.hexToBigInt=nr.hexToNumber=nr.bigIntToHex=nr.numberToHex=void 0;const jn=lt,Li=Zi,$y=t=>((0,jn.assert)(typeof t=="number","Value must be a number."),(0,jn.assert)(t>=0,"Value must be a non-negative number."),(0,jn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Li.add0x)(t.toString(16)));nr.numberToHex=$y;const Dy=t=>((0,jn.assert)(typeof t=="bigint","Value must be a bigint."),(0,jn.assert)(t>=0,"Value must be a non-negative bigint."),(0,Li.add0x)(t.toString(16)));nr.bigIntToHex=Dy;const By=t=>{(0,Li.assertIsHexString)(t);const e=parseInt(t,16);return(0,jn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};nr.hexToNumber=By;const jy=t=>((0,Li.assertIsHexString)(t),BigInt((0,Li.add0x)(t)));nr.hexToBigInt=jy;var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});var Td={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Td);var Nd={},iu={exports:{}};const Fy="2.0.0",Od=256,Hy=Number.MAX_SAFE_INTEGER||9007199254740991,Wy=16,Vy=Od-6,zy=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var co={MAX_LENGTH:Od,MAX_SAFE_COMPONENT_LENGTH:Wy,MAX_SAFE_BUILD_LENGTH:Vy,MAX_SAFE_INTEGER:Hy,RELEASE_TYPES:zy,SEMVER_SPEC_VERSION:Fy,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},va={};const Uy=typeof process=="object"&&va&&va.NODE_DEBUG&&/\bsemver\b/i.test(va.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var lo=Uy;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=co,s=lo;e=t.exports={};const o=e.re=[],a=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const p="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",i],[p,n]],E=L=>{for(const[N,I]of v)L=L.split(`${N}*`).join(`${N}{0,${I}}`).split(`${N}+`).join(`${N}{1,${I}}`);return L},R=(L,N,I)=>{const T=E(N),O=d++;s(L,O,N),c[L]=O,l[O]=N,o[O]=new RegExp(N,I?"g":void 0),a[O]=new RegExp(T,I?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),R("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${p}+`),R("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),R("FULL",`^${l[c.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),R("LOOSE",`^${l[c.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),R("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),R("COERCERTL",l[c.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",R("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",R("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(iu,iu.exports);var Qi=iu.exports;const qy=Object.freeze({loose:!0}),Gy=Object.freeze({}),Jy=t=>t?typeof t!="object"?qy:t:Gy;var zu=Jy;const Ml=/^[0-9]+$/,Ld=(t,e)=>{const r=Ml.test(t),n=Ml.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Zy=(t,e)=>Ld(e,t);var Pd={compareIdentifiers:Ld,rcompareIdentifiers:Zy};const hs=lo,{MAX_LENGTH:xl,MAX_SAFE_INTEGER:fs}=co,{safeRe:Rl,t:Cl}=Qi,Qy=zu,{compareIdentifiers:An}=Pd;let Ky=class Kt{constructor(e,r){if(r=Qy(r),e instanceof Kt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>xl)throw new TypeError(`version is longer than ${xl} characters`);hs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Rl[Cl.LOOSE]:Rl[Cl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>fs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>fs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>fs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<fs)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(hs("SemVer.compare",this.version,this.options,e),!(e instanceof Kt)){if(typeof e=="string"&&e===this.version)return 0;e=new Kt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Kt||(e=new Kt(e,this.options)),An(this.major,e.major)||An(this.minor,e.minor)||An(this.patch,e.patch)}comparePre(e){if(e instanceof Kt||(e=new Kt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(hs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return An(n,i)}while(++r)}compareBuild(e){e instanceof Kt||(e=new Kt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(hs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return An(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),An(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var yt=Ky;const Il=yt,Yy=(t,e,r=!1)=>{if(t instanceof Il)return t;try{return new Il(t,e)}catch(n){if(!r)return null;throw n}};var di=Yy;const Xy=di,e_=(t,e)=>{const r=Xy(t,e);return r?r.version:null};var t_=e_;const r_=di,n_=(t,e)=>{const r=r_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var i_=n_;const kl=yt,s_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new kl(t instanceof kl?t.version:t,r).inc(e,n,i).version}catch{return null}};var o_=s_;const Al=di,a_=(t,e)=>{const r=Al(t,null,!0),n=Al(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=l?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};var u_=a_;const c_=yt,l_=(t,e)=>new c_(t,e).major;var h_=l_;const f_=yt,d_=(t,e)=>new f_(t,e).minor;var p_=d_;const g_=yt,v_=(t,e)=>new g_(t,e).patch;var b_=v_;const m_=di,y_=(t,e)=>{const r=m_(t,e);return r&&r.prerelease.length?r.prerelease:null};var __=y_;const Tl=yt,w_=(t,e,r)=>new Tl(t,r).compare(new Tl(e,r));var qt=w_;const S_=qt,E_=(t,e,r)=>S_(e,t,r);var M_=E_;const x_=qt,R_=(t,e)=>x_(t,e,!0);var C_=R_;const Nl=yt,I_=(t,e,r)=>{const n=new Nl(t,r),i=new Nl(e,r);return n.compare(i)||n.compareBuild(i)};var Uu=I_;const k_=Uu,A_=(t,e)=>t.sort((r,n)=>k_(r,n,e));var T_=A_;const N_=Uu,O_=(t,e)=>t.sort((r,n)=>N_(n,r,e));var L_=O_;const P_=qt,$_=(t,e,r)=>P_(t,e,r)>0;var ho=$_;const D_=qt,B_=(t,e,r)=>D_(t,e,r)<0;var qu=B_;const j_=qt,F_=(t,e,r)=>j_(t,e,r)===0;var $d=F_;const H_=qt,W_=(t,e,r)=>H_(t,e,r)!==0;var Dd=W_;const V_=qt,z_=(t,e,r)=>V_(t,e,r)>=0;var Gu=z_;const U_=qt,q_=(t,e,r)=>U_(t,e,r)<=0;var Ju=q_;const G_=$d,J_=Dd,Z_=ho,Q_=Gu,K_=qu,Y_=Ju,X_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return G_(t,r,n);case"!=":return J_(t,r,n);case">":return Z_(t,r,n);case">=":return Q_(t,r,n);case"<":return K_(t,r,n);case"<=":return Y_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Bd=X_;const ew=yt,tw=di,{safeRe:ds,t:ps}=Qi,rw=(t,e)=>{if(t instanceof ew)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(ds[ps.COERCE]);else{let n;for(;(n=ds[ps.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ds[ps.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ds[ps.COERCERTL].lastIndex=-1}return r===null?null:tw(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var nw=rw,ba,Ol;function iw(){return Ol||(Ol=1,ba=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),ba}var sw=he;he.Node=un;he.create=he;function he(t){var e=this;if(e instanceof he||(e=new he),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}he.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};he.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};he.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};he.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)aw(this,arguments[t]);return this.length};he.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)uw(this,arguments[t]);return this.length};he.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};he.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};he.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};he.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};he.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};he.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};he.prototype.map=function(t,e){e=e||this;for(var r=new he,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};he.prototype.mapReverse=function(t,e){e=e||this;for(var r=new he,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};he.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};he.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};he.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};he.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};he.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new he;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};he.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new he;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};he.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=ow(this,i,r[n]);return s};he.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function ow(t,e,r){var n=e===t.head?new un(r,null,e,t):new un(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function aw(t,e){t.tail=new un(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function uw(t,e){t.head=new un(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function un(t,e,r,n){if(!(this instanceof un))return new un(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{iw()(he)}catch{}const cw=sw,en=Symbol("max"),dr=Symbol("length"),Tn=Symbol("lengthCalculator"),Ci=Symbol("allowStale"),sn=Symbol("maxAge"),lr=Symbol("dispose"),Ll=Symbol("noDisposeOnSet"),ot=Symbol("lruList"),Wt=Symbol("cache"),jd=Symbol("updateAgeOnGet"),ma=()=>1;class lw{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[en]=e.max||1/0;const r=e.length||ma;if(this[Tn]=typeof r!="function"?ma:r,this[Ci]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[sn]=e.maxAge||0,this[lr]=e.dispose,this[Ll]=e.noDisposeOnSet||!1,this[jd]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[en]=e||1/0,bi(this)}get max(){return this[en]}set allowStale(e){this[Ci]=!!e}get allowStale(){return this[Ci]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[sn]=e,bi(this)}get maxAge(){return this[sn]}set lengthCalculator(e){typeof e!="function"&&(e=ma),e!==this[Tn]&&(this[Tn]=e,this[dr]=0,this[ot].forEach(r=>{r.length=this[Tn](r.value,r.key),this[dr]+=r.length})),bi(this)}get lengthCalculator(){return this[Tn]}get length(){return this[dr]}get itemCount(){return this[ot].length}rforEach(e,r){r=r||this;for(let n=this[ot].tail;n!==null;){const i=n.prev;Pl(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ot].head;n!==null;){const i=n.next;Pl(this,e,n,r),n=i}}keys(){return this[ot].toArray().map(e=>e.key)}values(){return this[ot].toArray().map(e=>e.value)}reset(){this[lr]&&this[ot]&&this[ot].length&&this[ot].forEach(e=>this[lr](e.key,e.value)),this[Wt]=new Map,this[ot]=new cw,this[dr]=0}dump(){return this[ot].map(e=>Ls(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ot]}set(e,r,n){if(n=n||this[sn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Tn](r,e);if(this[Wt].has(e)){if(s>this[en])return Fn(this,this[Wt].get(e)),!1;const l=this[Wt].get(e).value;return this[lr]&&(this[Ll]||this[lr](e,l.value)),l.now=i,l.maxAge=n,l.value=r,this[dr]+=s-l.length,l.length=s,this.get(e),bi(this),!0}const o=new hw(e,r,s,i,n);return o.length>this[en]?(this[lr]&&this[lr](e,r),!1):(this[dr]+=o.length,this[ot].unshift(o),this[Wt].set(e,this[ot].head),bi(this),!0)}has(e){if(!this[Wt].has(e))return!1;const r=this[Wt].get(e).value;return!Ls(this,r)}get(e){return ya(this,e,!0)}peek(e){return ya(this,e,!1)}pop(){const e=this[ot].tail;return e?(Fn(this,e),e.value):null}del(e){Fn(this,this[Wt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Wt].forEach((e,r)=>ya(this,r,!1))}}const ya=(t,e,r)=>{const n=t[Wt].get(e);if(n){const i=n.value;if(Ls(t,i)){if(Fn(t,n),!t[Ci])return}else r&&(t[jd]&&(n.value.now=Date.now()),t[ot].unshiftNode(n));return i.value}},Ls=(t,e)=>{if(!e||!e.maxAge&&!t[sn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[sn]&&r>t[sn]},bi=t=>{if(t[dr]>t[en])for(let e=t[ot].tail;t[dr]>t[en]&&e!==null;){const r=e.prev;Fn(t,e),e=r}},Fn=(t,e)=>{if(e){const r=e.value;t[lr]&&t[lr](r.key,r.value),t[dr]-=r.length,t[Wt].delete(r.key),t[ot].removeNode(e)}};class hw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Pl=(t,e,r,n)=>{let i=r.value;Ls(t,i)&&(Fn(t,r),t[Ci]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var fw=lw,_a,$l;function Gt(){if($l)return _a;$l=1;class t{constructor(u,f){if(f=n(f),u instanceof t)return u.loose===!!f.loose&&u.includePrerelease===!!f.includePrerelease?u:new t(u.raw,f);if(u instanceof i)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(g=>this.parseRange(g.trim())).filter(g=>g.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const g=this.set[0];if(this.set=this.set.filter(m=>!R(m[0])),this.set.length===0)this.set=[g];else if(this.set.length>1){for(const m of this.set)if(m.length===1&&L(m[0])){this.set=[m];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const g=((this.options.includePrerelease&&v)|(this.options.loose&&E))+":"+u,m=r.get(g);if(m)return m;const _=this.options.loose,x=_?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];u=u.replace(x,ee(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(a[l.COMPARATORTRIM],c),s("comparator trim",u),u=u.replace(a[l.TILDETRIM],d),s("tilde trim",u),u=u.replace(a[l.CARETTRIM],p),s("caret trim",u);let C=u.split(" ").map(z=>I(z,this.options)).join(" ").split(/\s+/).map(z=>W(z,this.options));_&&(C=C.filter(z=>(s("loose invalid filter",z,this.options),!!z.match(a[l.COMPARATORLOOSE])))),s("range list",C);const y=new Map,h=C.map(z=>new i(z,this.options));for(const z of h){if(R(z))return[z];y.set(z.value,z)}y.size>1&&y.has("")&&y.delete("");const S=[...y.values()];return r.set(g,S),S}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Range is required");return this.set.some(g=>N(g,f)&&u.set.some(m=>N(m,f)&&g.every(_=>m.every(x=>_.intersects(x,f)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}for(let f=0;f<this.set.length;f++)if(Y(this.set[f],u,this.options))return!0;return!1}}_a=t;const e=fw,r=new e({max:1e3}),n=zu,i=fo(),s=lo,o=yt,{safeRe:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:p}=Qi,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:E}=co,R=b=>b.value==="<0.0.0-0",L=b=>b.value==="",N=(b,u)=>{let f=!0;const g=b.slice();let m=g.pop();for(;f&&g.length;)f=g.every(_=>m.intersects(_,u)),m=g.pop();return f},I=(b,u)=>(s("comp",b,u),b=P(b,u),s("caret",b),b=O(b,u),s("tildes",b),b=U(b,u),s("xrange",b),b=H(b,u),s("stars",b),b),T=b=>!b||b.toLowerCase()==="x"||b==="*",O=(b,u)=>b.trim().split(/\s+/).map(f=>D(f,u)).join(" "),D=(b,u)=>{const f=u.loose?a[l.TILDELOOSE]:a[l.TILDE];return b.replace(f,(g,m,_,x,C)=>{s("tilde",b,g,m,_,x,C);let y;return T(m)?y="":T(_)?y=`>=${m}.0.0 <${+m+1}.0.0-0`:T(x)?y=`>=${m}.${_}.0 <${m}.${+_+1}.0-0`:C?(s("replaceTilde pr",C),y=`>=${m}.${_}.${x}-${C} <${m}.${+_+1}.0-0`):y=`>=${m}.${_}.${x} <${m}.${+_+1}.0-0`,s("tilde return",y),y})},P=(b,u)=>b.trim().split(/\s+/).map(f=>j(f,u)).join(" "),j=(b,u)=>{s("caret",b,u);const f=u.loose?a[l.CARETLOOSE]:a[l.CARET],g=u.includePrerelease?"-0":"";return b.replace(f,(m,_,x,C,y)=>{s("caret",b,m,_,x,C,y);let h;return T(_)?h="":T(x)?h=`>=${_}.0.0${g} <${+_+1}.0.0-0`:T(C)?_==="0"?h=`>=${_}.${x}.0${g} <${_}.${+x+1}.0-0`:h=`>=${_}.${x}.0${g} <${+_+1}.0.0-0`:y?(s("replaceCaret pr",y),_==="0"?x==="0"?h=`>=${_}.${x}.${C}-${y} <${_}.${x}.${+C+1}-0`:h=`>=${_}.${x}.${C}-${y} <${_}.${+x+1}.0-0`:h=`>=${_}.${x}.${C}-${y} <${+_+1}.0.0-0`):(s("no pr"),_==="0"?x==="0"?h=`>=${_}.${x}.${C}${g} <${_}.${x}.${+C+1}-0`:h=`>=${_}.${x}.${C}${g} <${_}.${+x+1}.0-0`:h=`>=${_}.${x}.${C} <${+_+1}.0.0-0`),s("caret return",h),h})},U=(b,u)=>(s("replaceXRanges",b,u),b.split(/\s+/).map(f=>ne(f,u)).join(" ")),ne=(b,u)=>{b=b.trim();const f=u.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return b.replace(f,(g,m,_,x,C,y)=>{s("xRange",b,g,m,_,x,C,y);const h=T(_),S=h||T(x),z=S||T(C),G=z;return m==="="&&G&&(m=""),y=u.includePrerelease?"-0":"",h?m===">"||m==="<"?g="<0.0.0-0":g="*":m&&G?(S&&(x=0),C=0,m===">"?(m=">=",S?(_=+_+1,x=0,C=0):(x=+x+1,C=0)):m==="<="&&(m="<",S?_=+_+1:x=+x+1),m==="<"&&(y="-0"),g=`${m+_}.${x}.${C}${y}`):S?g=`>=${_}.0.0${y} <${+_+1}.0.0-0`:z&&(g=`>=${_}.${x}.0${y} <${_}.${+x+1}.0-0`),s("xRange return",g),g})},H=(b,u)=>(s("replaceStars",b,u),b.trim().replace(a[l.STAR],"")),W=(b,u)=>(s("replaceGTE0",b,u),b.trim().replace(a[u.includePrerelease?l.GTE0PRE:l.GTE0],"")),ee=b=>(u,f,g,m,_,x,C,y,h,S,z,G,q)=>(T(g)?f="":T(m)?f=`>=${g}.0.0${b?"-0":""}`:T(_)?f=`>=${g}.${m}.0${b?"-0":""}`:x?f=`>=${f}`:f=`>=${f}${b?"-0":""}`,T(h)?y="":T(S)?y=`<${+h+1}.0.0-0`:T(z)?y=`<${h}.${+S+1}.0-0`:G?y=`<=${h}.${S}.${z}-${G}`:b?y=`<${h}.${S}.${+z+1}-0`:y=`<=${y}`,`${f} ${y}`.trim()),Y=(b,u,f)=>{for(let g=0;g<b.length;g++)if(!b[g].test(u))return!1;if(u.prerelease.length&&!f.includePrerelease){for(let g=0;g<b.length;g++)if(s(b[g].semver),b[g].semver!==i.ANY&&b[g].semver.prerelease.length>0){const m=b[g].semver;if(m.major===u.major&&m.minor===u.minor&&m.patch===u.patch)return!0}return!1}return!0};return _a}var wa,Dl;function fo(){if(Dl)return wa;Dl=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,p){if(p=r(p),d instanceof e){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const p=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=d.match(p);if(!v)throw new TypeError(`Invalid comparator: ${d}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new a(v[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new a(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,p).test(d.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}wa=e;const r=zu,{safeRe:n,t:i}=Qi,s=Bd,o=lo,a=yt,l=Gt();return wa}const dw=Gt(),pw=(t,e,r)=>{try{e=new dw(e,r)}catch{return!1}return e.test(t)};var po=pw;const gw=Gt(),vw=(t,e)=>new gw(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var bw=vw;const mw=yt,yw=Gt(),_w=(t,e,r)=>{let n=null,i=null,s=null;try{s=new yw(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new mw(n,r))}),n};var ww=_w;const Sw=yt,Ew=Gt(),Mw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Ew(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Sw(n,r))}),n};var xw=Mw;const Sa=yt,Rw=Gt(),Bl=ho,Cw=(t,e)=>{t=new Rw(t,e);let r=new Sa("0.0.0");if(t.test(r)||(r=new Sa("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Sa(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Bl(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Bl(r,s))&&(r=s)}return r&&t.test(r)?r:null};var Iw=Cw;const kw=Gt(),Aw=(t,e)=>{try{return new kw(t,e).range||"*"}catch{return null}};var Tw=Aw;const Nw=yt,Fd=fo(),{ANY:Ow}=Fd,Lw=Gt(),Pw=po,jl=ho,Fl=qu,$w=Ju,Dw=Gu,Bw=(t,e,r,n)=>{t=new Nw(t,n),e=new Lw(e,n);let i,s,o,a,l;switch(r){case">":i=jl,s=$w,o=Fl,a=">",l=">=";break;case"<":i=Fl,s=Dw,o=jl,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pw(t,e,n))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let p=null,v=null;if(d.forEach(E=>{E.semver===Ow&&(E=new Fd(">=0.0.0")),p=p||E,v=v||E,i(E.semver,p.semver,n)?p=E:o(E.semver,v.semver,n)&&(v=E)}),p.operator===a||p.operator===l||(!v.operator||v.operator===a)&&s(t,v.semver))return!1;if(v.operator===l&&o(t,v.semver))return!1}return!0};var Zu=Bw;const jw=Zu,Fw=(t,e,r)=>jw(t,e,">",r);var Hw=Fw;const Ww=Zu,Vw=(t,e,r)=>Ww(t,e,"<",r);var zw=Vw;const Hl=Gt(),Uw=(t,e,r)=>(t=new Hl(t,r),e=new Hl(e,r),t.intersects(e,r));var qw=Uw;const Gw=po,Jw=qt;var Zw=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((d,p)=>Jw(d,p,r));for(const d of o)Gw(d,e,r)?(s=d,i||(i=d)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[d,p]of n)d===p?a.push(d):!p&&d===o[0]?a.push("*"):p?d===o[0]?a.push(`<=${p}`):a.push(`${d} - ${p}`):a.push(`>=${d}`);const l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const Wl=Gt(),Qu=fo(),{ANY:Ea}=Qu,mi=po,Ku=qt,Qw=(t,e,r={})=>{if(t===e)return!0;t=new Wl(t,r),e=new Wl(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=Yw(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Kw=[new Qu(">=0.0.0-0")],Vl=[new Qu(">=0.0.0")],Yw=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ea){if(e.length===1&&e[0].semver===Ea)return!0;r.includePrerelease?t=Kw:t=Vl}if(e.length===1&&e[0].semver===Ea){if(r.includePrerelease)return!0;e=Vl}const n=new Set;let i,s;for(const E of t)E.operator===">"||E.operator===">="?i=zl(i,E,r):E.operator==="<"||E.operator==="<="?s=Ul(s,E,r):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ku(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const E of n){if(i&&!mi(E,String(i),r)||s&&!mi(E,String(s),r))return null;for(const R of e)if(!mi(E,String(R),r))return!1;return!0}let a,l,c,d,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const E of e){if(d=d||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",i){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator===">"||E.operator===">="){if(a=zl(i,E,r),a===E&&a!==i)return!1}else if(i.operator===">="&&!mi(i.semver,String(E),r))return!1}if(s){if(p&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===p.major&&E.semver.minor===p.minor&&E.semver.patch===p.patch&&(p=!1),E.operator==="<"||E.operator==="<="){if(l=Ul(s,E,r),l===E&&l!==s)return!1}else if(s.operator==="<="&&!mi(s.semver,String(E),r))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&d&&!i&&o!==0||v||p)},zl=(t,e,r)=>{if(!t)return e;const n=Ku(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ul=(t,e,r)=>{if(!t)return e;const n=Ku(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Xw=Qw;const Ma=Qi,ql=co,e2=yt,Gl=Pd,t2=di,r2=t_,n2=i_,i2=o_,s2=u_,o2=h_,a2=p_,u2=b_,c2=__,l2=qt,h2=M_,f2=C_,d2=Uu,p2=T_,g2=L_,v2=ho,b2=qu,m2=$d,y2=Dd,_2=Gu,w2=Ju,S2=Bd,E2=nw,M2=fo(),x2=Gt(),R2=po,C2=bw,I2=ww,k2=xw,A2=Iw,T2=Tw,N2=Zu,O2=Hw,L2=zw,P2=qw,$2=Zw,D2=Xw;var B2={parse:t2,valid:r2,clean:n2,inc:i2,diff:s2,major:o2,minor:a2,patch:u2,prerelease:c2,compare:l2,rcompare:h2,compareLoose:f2,compareBuild:d2,sort:p2,rsort:g2,gt:v2,lt:b2,eq:m2,neq:y2,gte:_2,lte:w2,cmp:S2,coerce:E2,Comparator:M2,Range:x2,satisfies:R2,toComparators:C2,maxSatisfying:I2,minSatisfying:k2,minVersion:A2,validRange:T2,outside:N2,gtr:O2,ltr:L2,intersects:P2,simplifyRange:$2,subset:D2,SemVer:e2,re:Ma.re,src:Ma.src,tokens:Ma.t,SEMVER_SPEC_VERSION:ql.SEMVER_SPEC_VERSION,RELEASE_TYPES:ql.RELEASE_TYPES,compareIdentifiers:Gl.compareIdentifiers,rcompareIdentifiers:Gl.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=B2,r=bn,n=lt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",p=>(0,e.valid)(p)===null?`Expected SemVer version, got "${p}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",p=>(0,e.validRange)(p)===null?`Expected SemVer range, got "${p}"`:!0);function i(p){return(0,r.is)(p,t.VersionStruct)}t.isValidSemVerVersion=i;function s(p){return(0,r.is)(p,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(p){(0,n.assertStruct)(p,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(p){(0,n.assertStruct)(p,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function l(p,v){return(0,e.gt)(p,v)}t.gtVersion=l;function c(p,v){return(0,e.gtr)(p,v)}t.gtRange=c;function d(p,v){return(0,e.satisfies)(p,v,{includePrerelease:!0})}t.satisfiesVersionRange=d})(Nd);(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=K&&K.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lt,t),r(Ji,t),r(le,t),r(ao,t),r(rr,t),r(Qn,t),r(Zi,t),r(kd,t),r(Kn,t),r(Vu,t),r(nr,t),r(Ad,t),r(Td,t),r(Nd,t)})(ld);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=ld;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(cd);var Hd=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(so,"__esModule",{value:!0});so.PollingBlockTracker=void 0;const j2=Hd(Ou),F2=Hd(h1),H2=qi,Jl=cd,Zl=(0,Jl.createModuleLogger)(Jl.projectLogger,"polling-block-tracker"),W2=(0,j2.default)(),V2=1e3;class z2 extends H2.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*V2,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Ql(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Ql(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:W2(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Zl("Making request",e);const r=await(0,F2.default)(n=>this._provider.sendAsync(e,n))();if(Zl("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}so.PollingBlockTracker=z2;function Ql(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var go={},U2=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(go,"__esModule",{value:!0});go.SubscribeBlockTracker=void 0;const q2=U2(Ou),G2=qi,J2=(0,q2.default)();class Z2 extends G2.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:J2(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}go.SubscribeBlockTracker=Z2;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=K&&K.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(so,t),r(go,t),r(Wd,t)})(ud);var Yu={},vo={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getUniqueId=void 0;const Vd=4294967295;let xa=Math.floor(Math.random()*Vd);function Q2(){return xa=(xa+1)%Vd,xa}Ki.getUniqueId=Q2;Object.defineProperty(vo,"__esModule",{value:!0});vo.createIdRemapMiddleware=void 0;const K2=Ki;function Y2(){return(t,e,r,n)=>{const i=t.id,s=K2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}vo.createIdRemapMiddleware=Y2;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.createAsyncMiddleware=void 0;function X2(t){return async(e,r,n,i)=>{let s;const o=new Promise(d=>{s=d});let a=null,l=!1;const c=async()=>{l=!0,n(d=>{a=d,s()}),await o};try{await t(e,r,c),l?(await o,a(null)):i(null)}catch(d){a?a(d):i(d)}}}bo.createAsyncMiddleware=X2;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.createScaffoldMiddleware=void 0;function eS(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}mo.createScaffoldMiddleware=eS;var Yi={},zd={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.EthereumProviderError=kr.EthereumRpcError=void 0;const tS=rf;class Ud extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return tS.default(this.serialize(),iS,2)}}kr.EthereumRpcError=Ud;class rS extends Ud{constructor(e,r,n){if(!nS(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}kr.EthereumProviderError=rS;function nS(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function iS(t,e){if(e!=="[Circular]")return e}var Xu={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.errorValues=Ar.errorCodes=void 0;Ar.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ar.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ar,r=kr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(v,E=i){if(Number.isInteger(v)){const R=v.toString();if(p(e.errorValues,R))return e.errorValues[R].message;if(c(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return E}t.getMessageFromCode=o;function a(v){if(!Number.isInteger(v))return!1;const E=v.toString();return!!(e.errorValues[E]||c(v))}t.isValidCode=a;function l(v,{fallbackError:E=s,shouldIncludeStack:R=!1}={}){var L,N;if(!E||!Number.isInteger(E.code)||typeof E.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const I={};if(v&&typeof v=="object"&&!Array.isArray(v)&&p(v,"code")&&a(v.code)){const O=v;I.code=O.code,O.message&&typeof O.message=="string"?(I.message=O.message,p(O,"data")&&(I.data=O.data)):(I.message=o(I.code),I.data={originalError:d(v)})}else{I.code=E.code;const O=(L=v)===null||L===void 0?void 0:L.message;I.message=O&&typeof O=="string"?O:E.message,I.data={originalError:d(v)}}const T=(N=v)===null||N===void 0?void 0:N.stack;return R&&v&&T&&typeof T=="string"&&(I.stack=T),I}t.serializeError=l;function c(v){return v>=-32099&&v<=-32e3}function d(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function p(v,E){return Object.prototype.hasOwnProperty.call(v,E)}})(Xu);var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.ethErrors=void 0;const ec=kr,qd=Xu,dt=Ar;yo.ethErrors={rpc:{parse:t=>At(dt.errorCodes.rpc.parse,t),invalidRequest:t=>At(dt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>At(dt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>At(dt.errorCodes.rpc.methodNotFound,t),internal:t=>At(dt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return At(e,t)},invalidInput:t=>At(dt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>At(dt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>At(dt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>At(dt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>At(dt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>At(dt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>yi(dt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>yi(dt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>yi(dt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>yi(dt.errorCodes.provider.disconnected,t),chainDisconnected:t=>yi(dt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ec.EthereumProviderError(e,r,n)}}};function At(t,e){const[r,n]=Gd(e);return new ec.EthereumRpcError(t,r||qd.getMessageFromCode(t),n)}function yi(t,e){const[r,n]=Gd(e);return new ec.EthereumProviderError(t,r||qd.getMessageFromCode(t),n)}function Gd(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=kr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Xu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=yo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ar;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(zd);var sS=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.JsonRpcEngine=void 0;const oS=sS(fn),Tt=zd;class hr extends oS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await hr._runAllMiddleware(e,r,this._middleware);return o?(await hr._runReturnHandlers(a),i(s)):n(async l=>{try{await hr._runReturnHandlers(a)}catch(c){return l(c)}return l()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Tt.EthereumRpcError(Tt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Tt.EthereumRpcError(Tt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Tt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await hr._runAllMiddleware(e,r,this._middleware);if(hr._checkForCompletion(e,r,i),await hr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await hr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=l=>{const c=l||r.error;c&&(r.error=Tt.serializeError(c)),s([c,!0])},a=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new Tt.EthereumRpcError(Tt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Ra(e)}`,{request:e})),i.push(l)),s([null,!1]))};try{n(e,r,a,o)}catch(l){o(l)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Tt.EthereumRpcError(Tt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ra(e)}`,{request:e});if(!n)throw new Tt.EthereumRpcError(Tt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ra(e)}`,{request:e})}}Yi.JsonRpcEngine=hr;function Ra(t){return JSON.stringify(t,null,2)}var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.mergeMiddleware=void 0;const aS=Yi;function uS(t){const e=new aS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}_o.mergeMiddleware=uS;(function(t){var e=K&&K.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=K&&K.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vo,t),r(bo,t),r(mo,t),r(Ki,t),r(Yi,t),r(_o,t)})(Yu);var Jd={},tc={},wo={};Object.defineProperty(wo,"__esModule",{value:!0});var Kl=du,cS=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Kl.__awaiter(this,void 0,void 0,function(){var r,n,i;return Kl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();wo.default=cS;Object.defineProperty(tc,"__esModule",{value:!0});var Yl=du,lS=wo,hS=function(){function t(){this._semaphore=new lS.default(1)}return t.prototype.acquire=function(){return Yl.__awaiter(this,void 0,void 0,function(){var e,r;return Yl.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();tc.default=hS;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.withTimeout=void 0;var gs=du;function fS(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return gs.__awaiter(n,void 0,void 0,function(){var o,a,l;return gs.__generator(this,function(c){switch(c.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=c.sent(),o?(l=Array.isArray(a)?a[1]:a,l()):i(a),[2]}})})})},runExclusive:function(i){return gs.__awaiter(this,void 0,void 0,function(){var s,o;return gs.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}So.withTimeout=fS;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=tc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=wo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=So;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Jd);var dS=gS,pS=Object.prototype.hasOwnProperty;function gS(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)pS.call(r,n)&&(t[n]=r[n])}return t}const vS=dS,bS=Ou();var mS=oe;function oe(t){const e=this;e.currentProvider=t}oe.prototype.getBalance=Xi(2,"eth_getBalance");oe.prototype.getCode=Xi(2,"eth_getCode");oe.prototype.getTransactionCount=Xi(2,"eth_getTransactionCount");oe.prototype.getStorageAt=Xi(3,"eth_getStorageAt");oe.prototype.call=Xi(2,"eth_call");oe.prototype.protocolVersion=ue("eth_protocolVersion");oe.prototype.syncing=ue("eth_syncing");oe.prototype.coinbase=ue("eth_coinbase");oe.prototype.mining=ue("eth_mining");oe.prototype.hashrate=ue("eth_hashrate");oe.prototype.gasPrice=ue("eth_gasPrice");oe.prototype.accounts=ue("eth_accounts");oe.prototype.blockNumber=ue("eth_blockNumber");oe.prototype.getBlockTransactionCountByHash=ue("eth_getBlockTransactionCountByHash");oe.prototype.getBlockTransactionCountByNumber=ue("eth_getBlockTransactionCountByNumber");oe.prototype.getUncleCountByBlockHash=ue("eth_getUncleCountByBlockHash");oe.prototype.getUncleCountByBlockNumber=ue("eth_getUncleCountByBlockNumber");oe.prototype.sign=ue("eth_sign");oe.prototype.sendTransaction=ue("eth_sendTransaction");oe.prototype.sendRawTransaction=ue("eth_sendRawTransaction");oe.prototype.estimateGas=ue("eth_estimateGas");oe.prototype.getBlockByHash=ue("eth_getBlockByHash");oe.prototype.getBlockByNumber=ue("eth_getBlockByNumber");oe.prototype.getTransactionByHash=ue("eth_getTransactionByHash");oe.prototype.getTransactionByBlockHashAndIndex=ue("eth_getTransactionByBlockHashAndIndex");oe.prototype.getTransactionByBlockNumberAndIndex=ue("eth_getTransactionByBlockNumberAndIndex");oe.prototype.getTransactionReceipt=ue("eth_getTransactionReceipt");oe.prototype.getUncleByBlockHashAndIndex=ue("eth_getUncleByBlockHashAndIndex");oe.prototype.getUncleByBlockNumberAndIndex=ue("eth_getUncleByBlockNumberAndIndex");oe.prototype.getCompilers=ue("eth_getCompilers");oe.prototype.compileLLL=ue("eth_compileLLL");oe.prototype.compileSolidity=ue("eth_compileSolidity");oe.prototype.compileSerpent=ue("eth_compileSerpent");oe.prototype.newFilter=ue("eth_newFilter");oe.prototype.newBlockFilter=ue("eth_newBlockFilter");oe.prototype.newPendingTransactionFilter=ue("eth_newPendingTransactionFilter");oe.prototype.uninstallFilter=ue("eth_uninstallFilter");oe.prototype.getFilterChanges=ue("eth_getFilterChanges");oe.prototype.getFilterLogs=ue("eth_getFilterLogs");oe.prototype.getLogs=ue("eth_getLogs");oe.prototype.getWork=ue("eth_getWork");oe.prototype.submitWork=ue("eth_submitWork");oe.prototype.submitHashrate=ue("eth_submitHashrate");oe.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(yS(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ue(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Xi(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function yS(t){return vS({id:bS(),jsonrpc:"2.0",params:[]},t)}const Xl=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...c)=>{e.errorFirst?c[0]?a(c):(c.shift(),o(c)):o(c)}):e.errorFirst?i.push((c,d)=>{c?a(c):o(d)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},eh=new WeakMap;var _S=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let l=eh.get(o);if(l||(l={},eh.set(o,l)),a in l)return l[a];const c=R=>typeof R=="string"||typeof a=="symbol"?a===R:R.test(a),d=Reflect.getOwnPropertyDescriptor(o,a),p=d===void 0||d.writable||d.configurable,E=(e.include?e.include.some(c):!e.exclude.some(c))&&p;return l[a]=E,E},i=new WeakMap,s=new Proxy(t,{apply(o,a,l){const c=i.get(o);if(c)return Reflect.apply(c,a,l);const d=e.excludeMain?o:Xl(o,e,s,o);return i.set(o,d),Reflect.apply(d,a,l)},get(o,a){const l=o[a];if(!n(o,a)||l===Function.prototype[a])return l;const c=i.get(l);if(c)return c;if(typeof l=="function"){const d=Xl(l,e,s,o);return i.set(l,d),d}return l}});return s};const wS=fn.default;let SS=class extends wS{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var rc=SS;const ES=rc;let MS=class extends ES{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var xS=MS,es={minBlockRef:RS,maxBlockRef:CS,sortBlockRefs:nc,bnToHex:IS,blockRefIsNumber:kS,hexToInt:Ps,incrementHexInt:AS,intToHex:Zd,unsafeRandomBytes:TS};function RS(...t){return nc(t)[0]}function CS(...t){const e=nc(t);return e[e.length-1]}function nc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Ps(e)-Ps(r))}function IS(t){return"0x"+t.toString(16)}function kS(t){return t&&!["earliest","latest","pending"].includes(t)}function Ps(t){return t==null?t:Number.parseInt(t,16)}function AS(t){if(t==null)return t;const e=Ps(t);return Zd(e+1)}function Zd(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function TS(t){let e="0x";for(let r=0;r<t;r++)e+=th(),e+=th();return e}function th(){return Math.floor(Math.random()*16).toString(16)}const NS=mS,OS=_S,LS=xS,{bnToHex:AR,hexToInt:vs,incrementHexInt:PS,minBlockRef:$S,blockRefIsNumber:DS}=es;let BS=class extends LS{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new NS(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=$S(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=PS(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(l=>this.matchLog(l));this.addResults(a)}async _fetchLogs(e){return await OS(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(vs(this.params.fromBlock)>=vs(e.blockNumber)||DS(this.params.toBlock)&&vs(this.params.toBlock)<=vs(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(d=>d.toLowerCase()),a.includes(o))})}};var jS=BS,ic=FS;async function FS({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=rh(e),s=rh(r)-n+1,o=Array(s).fill().map((l,c)=>n+c).map(HS);return await Promise.all(o.map(l=>VS(t,"eth_getBlockByNumber",[l,!1])))}function rh(t){return t==null?t:Number.parseInt(t,16)}function HS(t){return t==null?t:"0x"+t.toString(16)}function WS(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function VS(t,e,r){for(let n=0;n<3;n++)try{return await WS(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const zS=rc,US=ic,{incrementHexInt:qS}=es;let GS=class extends zS{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=qS(e),o=(await US({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var JS=GS;const ZS=rc,QS=ic,{incrementHexInt:KS}=es;let YS=class extends ZS{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=KS(e),i=await QS({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var XS=YS;const eE=Jd.Mutex,{createAsyncMiddleware:tE,createScaffoldMiddleware:rE}=Yu,nE=jS,iE=JS,sE=XS,{intToHex:Qd,hexToInt:Ca}=es;var oE=aE;function aE({blockTracker:t,provider:e}){let r=0,n={};const i=new eE,s=uE({mutex:i}),o=rE({eth_newFilter:s(Ia(l)),eth_newBlockFilter:s(Ia(c)),eth_newPendingTransactionFilter:s(Ia(d)),eth_uninstallFilter:s(Ms(E)),eth_getFilterChanges:s(Ms(p)),eth_getFilterLogs:s(Ms(v))}),a=async({oldBlock:T,newBlock:O})=>{if(n.length===0)return;const D=await i.acquire();try{await Promise.all(Nn(n).map(async P=>{try{await P.update({oldBlock:T,newBlock:O})}catch(j){console.error(j)}}))}catch(P){console.error(P)}D()};return o.newLogFilter=l,o.newBlockFilter=c,o.newPendingTransactionFilter=d,o.uninstallFilter=E,o.getFilterChanges=p,o.getFilterLogs=v,o.destroy=()=>{N()},o;async function l(T){const O=new nE({provider:e,params:T});return await R(O),O}async function c(){const T=new iE({provider:e});return await R(T),T}async function d(){const T=new sE({provider:e});return await R(T),T}async function p(T){const O=Ca(T),D=n[O];if(!D)throw new Error(`No filter for index "${O}"`);return D.getChangesAndClear()}async function v(T){const O=Ca(T),D=n[O];if(!D)throw new Error(`No filter for index "${O}"`);let P=[];return D.type==="log"&&(P=D.getAllResults()),P}async function E(T){const O=Ca(T),P=!!n[O];return P&&await L(O),P}async function R(T){const O=Nn(n).length,D=await t.getLatestBlock();await T.initialize({currentBlock:D}),r++,n[r]=T,T.id=r,T.idHex=Qd(r);const P=Nn(n).length;return I({prevFilterCount:O,newFilterCount:P}),r}async function L(T){const O=Nn(n).length;delete n[T];const D=Nn(n).length;I({prevFilterCount:O,newFilterCount:D})}async function N(){const T=Nn(n).length;n={},I({prevFilterCount:T,newFilterCount:0})}function I({prevFilterCount:T,newFilterCount:O}){if(T===0&&O>0){t.on("sync",a);return}if(T>0&&O===0){t.removeListener("sync",a);return}}}function Ia(t){return Ms(async(...e)=>{const r=await t(...e);return Qd(r.id)})}function Ms(t){return tE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function uE({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Nn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const cE=fn.default,{createAsyncMiddleware:nh,createScaffoldMiddleware:lE}=Yu,hE=oE,{unsafeRandomBytes:fE,incrementHexInt:dE}=es,pE=ic;var gE=vE;function vE({blockTracker:t,provider:e}){const r={},n=hE({blockTracker:t,provider:e});let i=!1;const s=new cE,o=lE({eth_subscribe:nh(a),eth_unsubscribe:nh(l)});return o.destroy=d,{events:s,middleware:o};async function a(p,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=p.params[0],R=fE(16);let L;switch(E){case"newHeads":L=N({subId:R});break;case"logs":const T=p.params[1],O=await n.newLogFilter(T);L=I({subId:R,filter:O});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${E}"`)}r[R]=L,v.result=R;return;function N({subId:T}){const O={type:E,destroy:async()=>{t.removeListener("sync",O.update)},update:async({oldBlock:D,newBlock:P})=>{const j=P,U=dE(D);(await pE({provider:e,fromBlock:U,toBlock:j})).map(bE).filter(W=>W!==null).forEach(W=>{c(T,W)})}};return t.on("sync",O.update),O}function I({subId:T,filter:O}){return O.on("update",P=>c(T,P)),{type:E,destroy:async()=>await n.uninstallFilter(O.idHex)}}}async function l(p,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const E=p.params[0],R=r[E];if(!R){v.result=!1;return}delete r[E],await R.destroy(),v.result=!0}function c(p,v){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:v}})}function d(){s.removeAllListeners();for(const p in r)r[p].destroy(),delete r[p];i=!0}}function bE(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(io,"__esModule",{value:!0});io.SubscriptionManager=void 0;const mE=ud,yE=gE,ih=()=>{};class _E{constructor(e){const r=new mE.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=yE({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,ih,ih),r}destroy(){this.subscriptionMiddleware.destroy()}}io.SubscriptionManager=_E;var sc=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Un,"__esModule",{value:!0});Un.CoinbaseWalletProvider=void 0;const wE=sc(fn),SE=sc(Js),ka=si,ye=Bi,sh=ai,oh=zt,Aa=Qs,EE=Ee,ae=Q,Ta=sc(o1),ME=Zn,de=ad,xE=io,ah="DefaultChainId",uh="DefaultJsonRpcUrl";class RE extends wE.default{constructor(e){var r,n;super(),this._filterPolyfill=new ME.FilterPolyfill(this),this._subscriptionManager=new xE.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,ae.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(oh.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(l=>(0,ae.ensureAddressString)(l)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var l;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const c=a.data.data.chainId,d=(l=a.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(d,Number(c))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ae.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(uh))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(uh,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(ah,r.toString(10)),((0,ae.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,l;if((0,ae.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),d=c.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!d&&await c.requestEthereumAccounts().promise;const p=await c.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=p.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((l=p.result)===null||l===void 0?void 0:l.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,EE.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===ye.standardErrorCodes.provider.unsupportedChain?ye.standardErrors.provider.unsupportedChain(e):ye.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?sh.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(de.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ye.serializeError)(i,e)})}catch(n){throw(0,ye.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,ye.serializeError)(n,e)})}catch(n){return Promise.reject((0,ye.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,ye.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,ye.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw ye.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw ye.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ye.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,ae.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,ye.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Aa.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,ye.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Aa.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,ye.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Aa.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ae.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(oh.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_accounts:return this._eth_accounts();case de.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case de.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case de.JSONRPCMethod.net_version:return this._net_version();case de.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case de.JSONRPCMethod.eth_sign:return this._eth_sign(n);case de.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case de.JSONRPCMethod.personal_sign:return this._personal_sign(n);case de.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case de.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case de.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case de.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case de.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case de.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case de.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case de.JSONRPCMethod.eth_signTypedData_v4:case de.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case de.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case de.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case de.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case de.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case de.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case de.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case de.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case de.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case de.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case de.JSONRPCMethod.eth_subscribe:case de.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ae.ensureAddressString)(e);return this._addresses.map(i=>(0,ae.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(ka.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ae.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ae.ensureAddressString)(e.to):null,i=e.value!=null?(0,ae.ensureBN)(e.value):new SE.default(0),s=e.data?(0,ae.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ae.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ae.ensureBN)(e.gasPrice):null,l=e.maxFeePerGas!=null?(0,ae.ensureBN)(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?(0,ae.ensureBN)(e.maxPriorityFeePerGas):null,d=e.gas!=null?(0,ae.ensureBN)(e.gas):null,p=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:d,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ye.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ye.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ae.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ah);if(!e)return(0,ae.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ae.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(ka.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?sh.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ae.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ae.ensureParsedJSONObject)(e[0]),n=(0,ae.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ta.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ta.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ta.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw ye.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw ye.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ye.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ye.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ye.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ye.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Un.CoinbaseWalletProvider=RE;var Eo={},Mo={},ts,ie,Kd,Yd,tn,ch,Xd,su,e0,Pi={},t0=[],CE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xo=Array.isArray;function pr(t,e){for(var r in e)t[r]=e[r];return t}function r0(t){var e=t.parentNode;e&&e.removeChild(t)}function ou(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ts.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Ii(t,o,n,i,null)}function Ii(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Kd,__i:-1,__u:0};return i==null&&ie.vnode!=null&&ie.vnode(s),s}function IE(){return{current:null}}function rs(t){return t.children}function ki(t,e){this.props=t,this.context=e}function Yn(t,e){if(e==null)return t.__?Yn(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Yn(t):null}function n0(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return n0(t)}}function au(t){(!t.__d&&(t.__d=!0)&&tn.push(t)&&!$s.__r++||ch!==ie.debounceRendering)&&((ch=ie.debounceRendering)||Xd)($s)}function $s(){var t,e,r,n,i,s,o,a,l;for(tn.sort(su);t=tn.shift();)t.__d&&(e=tn.length,n=void 0,s=(i=(r=t).__v).__e,a=[],l=[],(o=r.__P)&&((n=pr({},i)).__v=i.__v+1,ie.vnode&&ie.vnode(n),oc(o,n,i,r.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??Yn(i),!!(32&i.__u),l),n.__.__k[n.__i]=n,a0(a,n,l),n.__e!=s&&n0(n)),tn.length>e&&tn.sort(su));$s.__r=0}function i0(t,e,r,n,i,s,o,a,l,c,d){var p,v,E,R,L,N=n&&n.__k||t0,I=e.length;for(r.__d=l,kE(r,e,N),l=r.__d,p=0;p<I;p++)(E=r.__k[p])!=null&&typeof E!="boolean"&&typeof E!="function"&&(v=E.__i===-1?Pi:N[E.__i]||Pi,E.__i=p,oc(t,E,v,i,s,o,a,l,c,d),R=E.__e,E.ref&&v.ref!=E.ref&&(v.ref&&ac(v.ref,null,E),d.push(E.ref,E.__c||R,E)),L==null&&R!=null&&(L=R),65536&E.__u||v.__k===E.__k?l=s0(E,l,t):typeof E.type=="function"&&E.__d!==void 0?l=E.__d:R&&(l=R.nextSibling),E.__d=void 0,E.__u&=-196609);r.__d=l,r.__e=L}function kE(t,e,r){var n,i,s,o,a,l=e.length,c=r.length,d=c,p=0;for(t.__k=[],n=0;n<l;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Ii(null,i,null,null,i):xo(i)?Ii(rs,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Ii(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=AE(i,r,o=n+p,d),i.__i=a,s=null,a!==-1&&(d--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&p--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?p++:a>o?d>l-o?p+=a-o:p--:p=a<o&&a==o-1?a-o:0,a!==n+p&&(i.__u|=65536))):(s=r[n])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=Yn(s)),uu(s,s,!1),r[n]=null,d--);if(d)for(n=0;n<c;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Yn(s)),uu(s,s))}function s0(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=s0(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function o0(t,e){return e=e||[],t==null||typeof t=="boolean"||(xo(t)?t.some(function(r){o0(r,e)}):e.push(t)),e}function AE(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,l=e[r];if(l===null||l&&i==l.key&&s===l.type)return r;if(n>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function lh(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||CE.test(e)?r:r+"px"}function bs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||lh(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||lh(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?fh:hh,s)):t.removeEventListener(e,s?fh:hh,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function hh(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(ie.event?ie.event(t):t)}function fh(t){return this.l[t.type+!0](ie.event?ie.event(t):t)}function oc(t,e,r,n,i,s,o,a,l,c){var d,p,v,E,R,L,N,I,T,O,D,P,j,U,ne,H=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(d=ie.__b)&&d(e);e:if(typeof H=="function")try{if(I=e.props,T=(d=H.contextType)&&n[d.__c],O=d?T?T.props.value:d.__:n,r.__c?N=(p=e.__c=r.__c).__=p.__E:("prototype"in H&&H.prototype.render?e.__c=p=new H(I,O):(e.__c=p=new ki(I,O),p.constructor=H,p.render=NE),T&&T.sub(p),p.props=I,p.state||(p.state={}),p.context=O,p.__n=n,v=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),H.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=pr({},p.__s)),pr(p.__s,H.getDerivedStateFromProps(I,p.__s))),E=p.props,R=p.state,p.__v=e,v)H.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(H.getDerivedStateFromProps==null&&I!==E&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(I,O),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(I,p.__s,O)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(p.props=I,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(W){W&&(W.__=e)}),D=0;D<p._sb.length;D++)p.__h.push(p._sb[D]);p._sb=[],p.__h.length&&o.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(I,p.__s,O),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(E,R,L)})}if(p.context=O,p.props=I,p.__P=t,p.__e=!1,P=ie.__r,j=0,"prototype"in H&&H.prototype.render){for(p.state=p.__s,p.__d=!1,P&&P(e),d=p.render(p.props,p.state,p.context),U=0;U<p._sb.length;U++)p.__h.push(p._sb[U]);p._sb=[]}else do p.__d=!1,P&&P(e),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++j<25);p.state=p.__s,p.getChildContext!=null&&(n=pr(pr({},n),p.getChildContext())),v||p.getSnapshotBeforeUpdate==null||(L=p.getSnapshotBeforeUpdate(E,R)),i0(t,xo(ne=d!=null&&d.type===rs&&d.key==null?d.props.children:d)?ne:[ne],e,r,n,i,s,o,a,l,c),p.base=e.__e,e.__u&=-161,p.__h.length&&o.push(p),N&&(p.__E=p.__=null)}catch(W){e.__v=null,l||s!=null?(e.__e=a,e.__u|=l?160:32,s[s.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),ie.__e(W,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=TE(r.__e,e,r,n,i,s,o,l,c);(d=ie.diffed)&&d(e)}function a0(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)ac(r[n],r[++n],r[++n]);ie.__c&&ie.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){ie.__e(s,i.__v)}})}function TE(t,e,r,n,i,s,o,a,l){var c,d,p,v,E,R,L,N=r.props,I=e.props,T=e.type;if(T==="svg"&&(i=!0),s!=null){for(c=0;c<s.length;c++)if((E=s[c])&&"setAttribute"in E==!!T&&(T?E.localName===T:E.nodeType===3)){t=E,s[c]=null;break}}if(t==null){if(T===null)return document.createTextNode(I);t=i?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,I.is&&I),s=null,a=!1}if(T===null)N===I||a&&t.data===I||(t.data=I);else{if(s=s&&ts.call(t.childNodes),N=r.props||Pi,!a&&s!=null)for(N={},c=0;c<t.attributes.length;c++)N[(E=t.attributes[c]).name]=E.value;for(c in N)E=N[c],c=="children"||(c=="dangerouslySetInnerHTML"?p=E:c==="key"||c in I||bs(t,c,null,E,i));for(c in I)E=I[c],c=="children"?v=E:c=="dangerouslySetInnerHTML"?d=E:c=="value"?R=E:c=="checked"?L=E:c==="key"||a&&typeof E!="function"||N[c]===E||bs(t,c,E,N[c],i);if(d)a||p&&(d.__html===p.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(p&&(t.innerHTML=""),i0(t,xo(v)?v:[v],e,r,n,i&&T!=="foreignObject",s,o,s?s[0]:r.__k&&Yn(r,0),a,l),s!=null)for(c=s.length;c--;)s[c]!=null&&r0(s[c]);a||(c="value",R!==void 0&&(R!==t[c]||T==="progress"&&!R||T==="option"&&R!==N[c])&&bs(t,c,R,N[c],!1),c="checked",L!==void 0&&L!==t[c]&&bs(t,c,L,N[c],!1))}return t}function ac(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ie.__e(n,r)}}function uu(t,e,r){var n,i;if(ie.unmount&&ie.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||ac(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ie.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&uu(n[i],e,r||typeof t.type!="function");r||t.__e==null||r0(t.__e),t.__=t.__e=t.__d=void 0}function NE(t,e,r){return this.constructor(t,r)}function u0(t,e,r){var n,i,s,o;ie.__&&ie.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],oc(e,t=(!n&&r||e).__k=ou(rs,null,[t]),i||Pi,Pi,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?ts.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),a0(s,t,o)}function c0(t,e){u0(t,e,c0)}function OE(t,e,r){var n,i,s,o,a=pr({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?ts.call(arguments,2):r),Ii(t.type,a,n||t.key,i||t.ref,null)}function LE(t,e){var r={__c:e="__cC"+e0++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,au(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ts=t0.slice,ie={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Kd=0,Yd=function(t){return t!=null&&t.constructor==null},ki.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=pr({},this.state),typeof t=="function"&&(t=t(pr({},r),this.props)),t&&pr(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),au(this))},ki.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),au(this))},ki.prototype.render=rs,tn=[],Xd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,su=function(t,e){return t.__v.__b-e.__v.__b},$s.__r=0,e0=0;const PE=Object.freeze(Object.defineProperty({__proto__:null,Component:ki,Fragment:rs,cloneElement:OE,createContext:LE,createElement:ou,createRef:IE,h:ou,hydrate:c0,get isValidElement(){return Yd},get options(){return ie},render:u0,toChildArray:o0},Symbol.toStringTag,{value:"Module"})),Ct=ri(PE),Ro=ri(cg);var Co={};const Io=ri(U0);var mr,_e,Na,dh,Xn=0,l0=[],xs=[],ph=ie.__b,gh=ie.__r,vh=ie.diffed,bh=ie.__c,mh=ie.unmount;function mn(t,e){ie.__h&&ie.__h(_e,t,Xn||e),Xn=0;var r=_e.__H||(_e.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:xs}),r.__[t]}function h0(t){return Xn=1,f0(p0,t)}function f0(t,e,r){var n=mn(mr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):p0(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=_e,!_e.u)){var i=function(a,l,c){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(v){return v.__c});if(d.every(function(v){return!v.__N}))return!s||s.call(this,a,l,c);var p=!1;return d.forEach(function(v){if(v.__N){var E=v.__[0];v.__=v.__N,v.__N=void 0,E!==v.__[0]&&(p=!0)}}),!(!p&&n.__c.props===a)&&(!s||s.call(this,a,l,c))};_e.u=!0;var s=_e.shouldComponentUpdate,o=_e.componentWillUpdate;_e.componentWillUpdate=function(a,l,c){if(this.__e){var d=s;s=void 0,i(a,l,c),s=d}o&&o.call(this,a,l,c)},_e.shouldComponentUpdate=i}return n.__N||n.__}function $E(t,e){var r=mn(mr++,3);!ie.__s&&cc(r.__H,e)&&(r.__=t,r.i=e,_e.__H.__h.push(r))}function d0(t,e){var r=mn(mr++,4);!ie.__s&&cc(r.__H,e)&&(r.__=t,r.i=e,_e.__h.push(r))}function DE(t){return Xn=5,uc(function(){return{current:t}},[])}function BE(t,e,r){Xn=6,d0(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function uc(t,e){var r=mn(mr++,7);return cc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function jE(t,e){return Xn=8,uc(function(){return t},e)}function FE(t){var e=_e.context[t.__c],r=mn(mr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(_e)),e.props.value):t.__}function HE(t,e){ie.useDebugValue&&ie.useDebugValue(e?e(t):t)}function WE(t){var e=mn(mr++,10),r=h0();return e.__=t,_e.componentDidCatch||(_e.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function VE(){var t=mn(mr++,11);if(!t.__){for(var e=_e.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function zE(){for(var t;t=l0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Rs),t.__H.__h.forEach(cu),t.__H.__h=[]}catch(e){t.__H.__h=[],ie.__e(e,t.__v)}}ie.__b=function(t){_e=null,ph&&ph(t)},ie.__r=function(t){gh&&gh(t),mr=0;var e=(_e=t.__c).__H;e&&(Na===_e?(e.__h=[],_e.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=xs,r.__N=r.i=void 0})):(e.__h.forEach(Rs),e.__h.forEach(cu),e.__h=[],mr=0)),Na=_e},ie.diffed=function(t){vh&&vh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(l0.push(e)!==1&&dh===ie.requestAnimationFrame||((dh=ie.requestAnimationFrame)||UE)(zE)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==xs&&(r.__=r.__V),r.i=void 0,r.__V=xs})),Na=_e=null},ie.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Rs),r.__h=r.__h.filter(function(n){return!n.__||cu(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ie.__e(n,r.__v)}}),bh&&bh(t,e)},ie.unmount=function(t){mh&&mh(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Rs(n)}catch(i){e=i}}),r.__H=void 0,e&&ie.__e(e,r.__v))};var yh=typeof requestAnimationFrame=="function";function UE(t){var e,r=function(){clearTimeout(n),yh&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);yh&&(e=requestAnimationFrame(r))}function Rs(t){var e=_e,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),_e=e}function cu(t){var e=_e;t.__c=t.__(),_e=e}function cc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function p0(t,e){return typeof e=="function"?e(t):e}const qE=Object.freeze(Object.defineProperty({__proto__:null,useCallback:jE,useContext:FE,useDebugValue:HE,useEffect:$E,useErrorBoundary:WE,useId:VE,useImperativeHandle:BE,useLayoutEffect:d0,useMemo:uc,useReducer:f0,useRef:DE,useState:h0},Symbol.toStringTag,{value:"Module"})),ns=ri(qE);var ir={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.CloseIcon=void 0;const _h=Ct;function GE(t){return(0,_h.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,_h.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ko.CloseIcon=GE;var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.QRCodeIcon=void 0;const Qt=Ct;function JE(t){return(0,Qt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Qt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Qt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Qt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Qt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Qt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Qt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Qt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Qt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Qt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Ao.QRCodeIcon=JE;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});const ZE=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;fc.default=ZE;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.StatusDotIcon=void 0;const wh=Ct;function QE(t){return(0,wh.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,wh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}To.StatusDotIcon=QE;var No={};function g0(t){this.mode=Mt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}g0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function sr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}sr.prototype={addData:function(t){var e=new g0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=sr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ze.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var l=a*i,c=this.modules[s][a];c&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+i,o),n.lineTo(l+i,o+i),n.lineTo(l,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ze.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ze.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ze.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var l=!1;s<t.length&&(l=(t[s]>>>i&1)==1);var c=Ze.getMask(e,n,o-a);c&&(l=!l),this.modules[n][o-a]=l,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};sr.PAD0=236;sr.PAD1=17;sr.createData=function(t,e,r){for(var n=tr.getRSBlocks(t,e),i=new v0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ze.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(sr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(sr.PAD1,8);return sr.createBytes(i,n)};sr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,c=e[a].totalCount-l;n=Math.max(n,l),i=Math.max(i,c),s[a]=new Array(l);for(var d=0;d<s[a].length;d++)s[a][d]=255&t.buffer[d+r];r+=l;var p=Ze.getErrorCorrectPolynomial(c),v=new Hn(s[a],p.getLength()-1),E=v.mod(p);o[a]=new Array(p.getLength()-1);for(var d=0;d<o[a].length;d++){var R=d+E.getLength()-o[a].length;o[a][d]=R>=0?E.get(R):0}}for(var L=0,d=0;d<e.length;d++)L+=e[d].totalCount;for(var N=new Array(L),I=0,d=0;d<n;d++)for(var a=0;a<e.length;a++)d<s[a].length&&(N[I++]=s[a][d]);for(var d=0;d<i;d++)for(var a=0;a<e.length;a++)d<o[a].length&&(N[I++]=o[a][d]);return N};var Mt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},xr={L:1,M:0,Q:3,H:2},yr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ze={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G15)>=0;)e^=Ze.G15<<Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G15);return(t<<10|e)^Ze.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G18)>=0;)e^=Ze.G18<<Ze.getBCHDigit(e)-Ze.getBCHDigit(Ze.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ze.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case yr.PATTERN000:return(e+r)%2==0;case yr.PATTERN001:return e%2==0;case yr.PATTERN010:return r%3==0;case yr.PATTERN011:return(e+r)%3==0;case yr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case yr.PATTERN101:return e*r%2+e*r%3==0;case yr.PATTERN110:return(e*r%2+e*r%3)%2==0;case yr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Hn([1],0),r=0;r<t;r++)e=e.multiply(new Hn([1,at.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Mt.MODE_NUMBER:return 10;case Mt.MODE_ALPHA_NUM:return 9;case Mt.MODE_8BIT_BYTE:return 8;case Mt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Mt.MODE_NUMBER:return 12;case Mt.MODE_ALPHA_NUM:return 11;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Mt.MODE_NUMBER:return 14;case Mt.MODE_ALPHA_NUM:return 13;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||a==0&&l==0||o==t.isDark(n+a,i+l)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var c=0;t.isDark(n,i)&&c++,t.isDark(n+1,i)&&c++,t.isDark(n,i+1)&&c++,t.isDark(n+1,i+1)&&c++,(c==0||c==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var p=Math.abs(100*d/e/e-50)/5;return r+=p*10,r}},at={glog:function(t){if(t<1)throw new Error("glog("+t+")");return at.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return at.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ct=0;ct<8;ct++)at.EXP_TABLE[ct]=1<<ct;for(var ct=8;ct<256;ct++)at.EXP_TABLE[ct]=at.EXP_TABLE[ct-4]^at.EXP_TABLE[ct-5]^at.EXP_TABLE[ct-6]^at.EXP_TABLE[ct-8];for(var ct=0;ct<255;ct++)at.LOG_TABLE[at.EXP_TABLE[ct]]=ct;function Hn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Hn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=at.gexp(at.glog(this.get(r))+at.glog(t.get(n)));return new Hn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=at.glog(this.get(0))-at.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=at.gexp(at.glog(t.get(n))+e);return new Hn(r,0).mod(t)}};function tr(t,e){this.totalCount=t,this.dataCount=e}tr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];tr.getRSBlocks=function(t,e){var r=tr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],l=r[s*3+2],c=0;c<o;c++)i.push(new tr(a,l));return i};tr.getRsBlockTable=function(t,e){switch(e){case xr.L:return tr.RS_BLOCK_TABLE[(t-1)*4+0];case xr.M:return tr.RS_BLOCK_TABLE[(t-1)*4+1];case xr.Q:return tr.RS_BLOCK_TABLE[(t-1)*4+2];case xr.H:return tr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function v0(){this.buffer=[],this.length=0}v0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Oa=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function b0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return xr.L;case"M":return xr.M;case"Q":return xr.Q;case"H":return xr.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,c){for(var d=i(l),p=1,v=0,E=0,R=Oa.length;E<=R;E++){var L=Oa[E];if(!L)throw new Error("Content too long: expected "+v+" but got "+d);switch(c){case"L":v=L[0];break;case"M":v=L[1];break;case"Q":v=L[2];break;case"H":v=L[3];break;default:throw new Error("Unknwon error correction level: "+c)}if(d<=v)break;p++}if(p>Oa.length)throw new Error("Content too long");return p}function i(l){var c=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return c.length+(c.length!=l?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new sr(o,a),this.qrcode.addData(s),this.qrcode.make()}b0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,l=r.length,c=o/(l+2*e.padding),d=a/(l+2*e.padding),p=typeof e.join<"u"?!!e.join:!1,v=typeof e.swap<"u"?!!e.swap:!1,E=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,R=typeof e.predefined<"u"?!!e.predefined:!1,L=R?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+c+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",N=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,I="",T="",O=0;O<l;O++)for(var D=0;D<l;D++){var P=r[D][O];if(P){var j=D*c+e.padding*c,U=O*d+e.padding*d;if(v){var ne=j;j=U,U=ne}if(p){var H=c+j,W=d+U;j=Number.isInteger(j)?Number(j):j.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),T+="M"+j+","+U+" V"+W+" H"+H+" V"+U+" H"+j+" Z "}else R?I+=i+'<use x="'+j.toString()+'" y="'+U.toString()+'" href="#qrmodule" />'+s:I+=i+'<rect x="'+j.toString()+'" y="'+U.toString()+'" width="'+c+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}p&&(I=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+T+'" />');let ee="";if(this.options.image!==void 0&&this.options.image.svg){const b=o*this.options.image.width/100,u=a*this.options.image.height/100,f=o/2-b/2,g=a/2-u/2;ee+=`<svg x="${f}" y="${g}" width="${b}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ee+=this.options.image.svg+s,ee+="</svg>"}var Y="";switch(t.container){case"svg":E&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Y+=L+N+I,Y+=ee,Y+="</svg>";break;case"svg-viewbox":E&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Y+=L+N+I,Y+=ee,Y+="</svg>";break;case"g":Y+='<g width="'+o+'" height="'+a+'">'+s,Y+=L+N+I,Y+=ee,Y+="</g>";break;default:Y+=(L+N+I+ee).replace(/^\s+/,"");break}return Y};var KE=b0,YE=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});No.QRCode=void 0;const XE=Ct,Sh=ns,e3=YE(KE),t3=t=>{const[e,r]=(0,Sh.useState)("");return(0,Sh.useEffect)(()=>{var n,i;const s=new e3.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,XE.h)("img",{src:e,alt:"QR Code"}):null};No.QRCode=t3;var Oo={},pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var r3=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Spinner=void 0;const ms=Ct,n3=r3(pc),i3=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,ms.h)("div",{class:"-cbwsdk-spinner"},(0,ms.h)("style",null,n3.default),(0,ms.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,ms.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Oo.Spinner=i3;var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var pi=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ir,"__esModule",{value:!0});ir.CoinbaseAppSteps=ir.CoinbaseWalletSteps=ir.ConnectItem=ir.ConnectContent=void 0;const Lt=pi(Io),re=Ct,Eh=ns,s3=Q,o3=oi,a3=ko,u3=pi(lc),c3=pi(hc),m0=Ao,l3=pi(fc),h3=pi(dc),f3=To,d3=No,p3=Oo,g3=pi(gc),Mh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:c3.default,steps:_0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:u3.default,steps:w0}},v3=t=>{switch(t){case"coinbase-app":return l3.default;case"coinbase-wallet-app":default:return h3.default}},lu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function b3(t){const{theme:e}=t,[r,n]=(0,Eh.useState)("coinbase-wallet-app"),i=(0,Eh.useCallback)(c=>{n(c)},[]),s=(0,s3.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Mh[r];if(!r)return null;const a=o.steps,l=r==="coinbase-app";return(0,re.h)("div",{"data-testid":"connect-content",class:(0,Lt.default)("-cbwsdk-connect-content",e)},(0,re.h)("style",null,g3.default),(0,re.h)("div",{class:"-cbwsdk-connect-content-header"},(0,re.h)("h2",{class:(0,Lt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,re.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,re.h)(a3.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,re.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,re.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,re.h)("div",null,Object.entries(Mh).map(([c,d])=>(0,re.h)(y0,{key:c,title:d.title,description:d.description,icon:d.icon,selected:r===c,onClick:()=>i(c),theme:e}))),l&&(0,re.h)("div",{class:(0,Lt.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,re.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,re.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,re.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,re.h)(d3.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:v3(r),width:25,height:25}}),(0,re.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:o3.LIB_VERSION}),(0,re.h)("input",{type:"hidden",value:s})),(0,re.h)(a,{theme:e}),!t.isConnected&&(0,re.h)("div",{"data-testid":"connecting-spinner",class:(0,Lt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,re.h)(p3.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,re.h)("p",null,"Connecting...")))))}ir.ConnectContent=b3;function y0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,re.h)("div",{onClick:s,class:(0,Lt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,re.h)("div",null,(0,re.h)("img",{src:r,alt:t})),(0,re.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,re.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,re.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}ir.ConnectItem=y0;function _0({theme:t}){return(0,re.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,re.h)("li",{class:(0,Lt.default)("-cbwsdk-wallet-steps-item",t)},(0,re.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,re.h)("li",{class:(0,Lt.default)("-cbwsdk-wallet-steps-item",t)},(0,re.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,re.h)("span",null,"Tap ",(0,re.h)("strong",null,"Scan")," "),(0,re.h)("span",{class:(0,Lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,re.h)(m0.QRCodeIcon,{fill:lu(t)})))))}ir.CoinbaseWalletSteps=_0;function w0({theme:t}){return(0,re.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,re.h)("li",{class:(0,Lt.default)("-cbwsdk-wallet-steps-item",t)},(0,re.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,re.h)("li",{class:(0,Lt.default)("-cbwsdk-wallet-steps-item",t)},(0,re.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,re.h)("span",null,"Tap ",(0,re.h)("strong",null,"More")),(0,re.h)("span",{class:(0,Lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,re.h)(f3.StatusDotIcon,{fill:lu(t)})),(0,re.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,re.h)("strong",null,"Scan")),(0,re.h)("span",{class:(0,Lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,re.h)(m0.QRCodeIcon,{fill:lu(t)})))))}ir.CoinbaseAppSteps=w0;var Lo={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.ArrowLeftIcon=void 0;const xh=Ct;function m3(t){return(0,xh.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,xh.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Po.ArrowLeftIcon=m3;var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.LaptopIcon=void 0;const La=Ct;function y3(t){return(0,La.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,La.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,La.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}$o.LaptopIcon=y3;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.SafeIcon=void 0;const Rh=Ct;function _3(t){return(0,Rh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Rh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Do.SafeIcon=_3;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var S0=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.TryExtensionContent=void 0;const Jr=S0(Io),tt=Ct,Pa=ns,w3=Po,S3=$o,E3=Do,M3=S0(vc);function x3({theme:t}){const[e,r]=(0,Pa.useState)(!1),n=(0,Pa.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Pa.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,tt.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension",t)},(0,tt.h)("style",null,M3.default),(0,tt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,tt.h)("h3",{class:(0,Jr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,tt.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,tt.h)("button",{class:(0,Jr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,tt.h)("div",null,!e&&(0,tt.h)(w3.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,tt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,tt.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,tt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,tt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,tt.h)("span",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,tt.h)(S3.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,tt.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,tt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,tt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,tt.h)("span",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,tt.h)(E3.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,tt.h)("div",{class:(0,Jr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Lo.TryExtensionContent=x3;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var E0=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Co,"__esModule",{value:!0});Co.ConnectDialog=void 0;const $a=E0(Io),Zr=Ct,Da=ns,R3=ir,C3=Lo,I3=E0(bc),k3=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Da.useState)(!e),[s,o]=(0,Da.useState)(!e);(0,Da.useEffect)(()=>{const l=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):l.push(window.setTimeout(()=>{i(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Zr.h)("div",{class:(0,$a.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Zr.h)("style",null,I3.default),(0,Zr.h)("div",{class:(0,$a.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Zr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Zr.h)("div",{class:(0,$a.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Zr.h)(R3.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Zr.h)(C3.TryExtensionContent,{theme:a}))))};Co.ConnectDialog=k3;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.LinkFlow=void 0;const Ba=Ct,Ch=Ro,A3=Co;class T3{constructor(e){this.extensionUI$=new Ch.BehaviorSubject({}),this.subscriptions=new Ch.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Ba.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Ba.render)((0,Ba.h)(A3.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Mo.LinkFlow=T3;var M0={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=K&&K.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Io),n=Ct,i=ns,s=e(mc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(p){switch(p){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class l{constructor(v){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=v.darkMode}attach(v){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",v.appendChild(this.root),this.render()}presentItem(v){const E=this.nextItemKey++;return this.items.set(E,v),this.render(),()=>{this.items.delete(E),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([v,E])=>(0,n.h)(t.SnackbarInstance,Object.assign({},E,{key:v}))))),this.root)}}t.Snackbar=l;const c=p=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},p.children));t.SnackbarContainer=c;const d=({autoExpand:p,message:v,menuItems:E,appSrc:R})=>{const[L,N]=(0,i.useState)(!0),[I,T]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const D=[window.setTimeout(()=>{N(!1)},1),window.setTimeout(()=>{T(!0)},1e4)];return()=>{D.forEach(window.clearTimeout)}});const O=()=>{T(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",L&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:O},(0,n.h)("img",{src:a(R),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},v),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),E&&E.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},E.map((D,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",D.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:D.onClick,key:P},(0,n.h)("svg",{width:D.svgWidth,height:D.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":D.defaultFillRule,"clip-rule":D.defaultClipRule,d:D.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",D.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},D.info)))))};t.SnackbarInstance=d})(M0);var Bo={},yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var N3=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.injectCssReset=void 0;const O3=N3(yc);function L3(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(O3.default)),document.documentElement.appendChild(t)}Bo.injectCssReset=L3;Object.defineProperty(Eo,"__esModule",{value:!0});Eo.WalletSDKUI=void 0;const P3=Mo,$3=M0,D3=Bo;class B3{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new $3.Snackbar({darkMode:e.darkMode}),this.linkFlow=new P3.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,D3.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Eo.WalletSDKUI=B3;var jo={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});var $n;(function(t){t.typeOfFunction="function",t.boolTrue=!0})($n||($n={}));function x0(t,e,r){if(!r||typeof r.value!==$n.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:$n.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:$n.boolTrue,writable:$n.boolTrue}),n}}}Fo.bind=x0;Fo.default=x0;function R0(t){return function(r){return r.lift(new j3(t))}}var j3=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new F3(e,this.durationSelector))},t}(),F3=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Ke(n,new Ye(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Xe);function H3(t,e){return e===void 0&&(e=wt),R0(function(){return $h(t,e)})}function W3(t){return function(r){return r.lift(new V3(t))}}var V3=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new z3(e,this.closingNotifier))},t}(),z3=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Ke(n,new Ye(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Xe);function U3(t,e){return e===void 0&&(e=null),function(n){return n.lift(new q3(t,e))}}var q3=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=G3:this.subscriberClass=J3}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),G3=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(se),J3=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var l=o.length;l--;){var c=o[l];c.push(r),c.length===i&&(o.splice(l,1),this.destination.next(c))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(se);function Z3(t){var e=arguments.length,r=wt;or(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Q3(t,n,i,r))}}var Q3=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Y3(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),K3=function(){function t(){this.buffer=[]}return t}(),Y3=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var l=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var c={subscriber:a,context:l,bufferTimeSpan:n};a.add(l.closeAction=o.schedule(Ih,n,c))}else{var d={subscriber:a,context:l},p={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(l.closeAction=o.schedule(C0,n,d)),a.add(o.schedule(X3,i,p))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],l=a.buffer;l.push(r),l.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Ih,i,s))}},e.prototype.openContext=function(){var r=new K3;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(se);function Ih(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function X3(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(C0,r,{subscriber:n,context:s})),o.schedule(t,e))}function C0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function e4(t,e){return function(n){return n.lift(new t4(t,e))}}var t4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new r4(e,this.openings,this.closingSelector))},t}(),r4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(vr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Rt,o={buffer:i,subscription:s};n.push(o);var a=vr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(hn);function n4(t){return function(e){return e.lift(new i4(t))}}var i4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.closingSelector))},t}(),s4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Rt,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Ke(i,new Ye(this))),this.subscribing=!1},e}(Xe);function o4(t){return function(r){var n=new a4(t),i=r.lift(n);return n.caught=i}}var a4=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new u4(e,this.selector,this.caught))},t}(),u4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Ye(this);this.add(i);var s=Ke(n,i);s!==i&&this.add(s)}},e}(Xe);function c4(t){return function(e){return e.lift(new mu(t))}}function l4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Dt(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Tr([n].concat(t)),new mu(r))}}function h4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Ai.apply(void 0,[r].concat(t)))}}function I0(t,e){return ks(t,e,1)}function f4(t,e){return I0(function(){return t},e)}function d4(t){return function(e){return e.lift(new p4(t,e))}}var p4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new g4(e,this.predicate,this.source))},t}(),g4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(se);function v4(t){return function(e){return e.lift(new b4(t))}}var b4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new m4(e,this.durationSelector))},t}(),m4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ke(n,new Ye(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Xe);function y4(t,e){return e===void 0&&(e=wt),function(r){return r.lift(new _4(t,e))}}var _4=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new w4(e,this.dueTime,this.scheduler))},t}(),w4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S4,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(se);function S4(t){t.debouncedNext()}function is(t){return t===void 0&&(t=null),function(e){return e.lift(new E4(t))}}var E4=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new M4(e,this.defaultValue))},t}(),M4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(se);function k0(t){return t instanceof Date&&!isNaN(+t)}function x4(t,e){e===void 0&&(e=wt);var r=k0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new R4(n,e))}}var R4=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new C4(e,this.delay,this.scheduler))},t}(),C4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new I4(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(gr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(gr.createComplete()),this.unsubscribe()},e}(se),I4=function(){function t(e,r){this.time=e,this.notification=r}return t}();function k4(t,e){return e?function(r){return new T4(r,e).lift(new kh(t))}:function(r){return r.lift(new kh(t))}}var kh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new A4(e,this.delayDurationSelector))},t}(),A4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=vr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(hn),T4=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new N4(r,this.source))},e}(Me),N4=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(se);function O4(){return function(e){return e.lift(new L4)}}var L4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new P4(e))},t}(),P4=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(se);function $4(t,e){return function(r){return r.lift(new D4(t,e))}}var D4=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new B4(e,this.keySelector,this.flushes))},t}(),B4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Ke(i,new Ye(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Xe);function A0(t,e){return function(r){return r.lift(new j4(t,e))}}var j4=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new F4(e,this.compare,this.keySelector))},t}(),F4=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(se);function H4(t,e){return A0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Ho(t){return t===void 0&&(t=z4),function(e){return e.lift(new W4(t))}}var W4=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new V4(e,this.errorFactory))},t}(),V4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(se);function z4(){return new Di}function _c(t){return function(e){return t===0?ni():e.lift(new U4(t))}}var U4=function(){function t(e){if(this.total=e,this.total<0)throw new zn}return t.prototype.call=function(e,r){return r.subscribe(new q4(e,this.total))},t}(),q4=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(se);function G4(t,e){if(t<0)throw new zn;var r=arguments.length>=2;return function(n){return n.pipe(Rr(function(i,s){return s===t}),_c(1),r?is(e):Ho(function(){return new zn}))}}function J4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Ai(r,zs.apply(void 0,t))}}function Z4(t,e){return function(r){return r.lift(new Q4(t,e,r))}}var Q4=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new K4(e,this.predicate,this.thisArg,this.source))},t}(),K4=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function Y4(){return function(t){return t.lift(new X4)}}var X4=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new e5(e))},t}(),e5=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Ke(r,new Ye(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Xe);function T0(t,e){return e?function(r){return r.pipe(T0(function(n,i){return Tr(t(n,i)).pipe(ar(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new t5(t))}}var t5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new r5(e,this.project))},t}(),r5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Ye(this),i=this.destination;i.add(n);var s=Ke(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Xe);function n5(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new i5(t,e,r))}}var i5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new s5(e,this.project,this.concurrent,this.scheduler))},t}(),s5=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},l=this.destination;l.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(c){n.error(c)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Ke(r,new Ye(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Xe);function o5(t){return function(e){return e.lift(new a5(t))}}var a5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new u5(e,this.callback))},t}(),u5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Rt(n)),i}return e}(se);function c5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new N0(t,r,!1,e))}}var N0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new l5(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),l5=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(l){this.destination.error(l)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(se);function h5(t,e){return function(r){return r.lift(new N0(t,r,!0,e))}}function f5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rr(function(i,s){return t(i,s,n)}):Wn,_c(1),r?is(e):Ho(function(){return new Di}))}}function d5(){return function(e){return e.lift(new p5)}}var p5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new g5(e))},t}(),g5=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(se);function v5(){return function(t){return t.lift(new b5)}}var b5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new m5(e))},t}(),m5=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function Ds(t){return function(r){return t===0?ni():r.lift(new y5(t))}}var y5=function(){function t(e){if(this.total=e,this.total<0)throw new zn}return t.prototype.call=function(e,r){return r.subscribe(new _5(e,this.total))},t}(),_5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(se);function w5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rr(function(i,s){return t(i,s,n)}):Wn,Ds(1),r?is(e):Ho(function(){return new Di}))}}function S5(t){return function(e){return e.lift(new E5(t))}}var E5=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new M5(e,this.value))},t}(),M5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(se);function x5(){return function(e){return e.lift(new R5)}}var R5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new C5(e))},t}(),C5=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(gr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(gr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(gr.createComplete()),r.complete()},e}(se);function Bs(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new I5(t,e,r))}}var I5=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new k5(e,this.accumulator,this.seed,this.hasSeed))},t}(),k5=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(se);function Wo(t,e){return arguments.length>=2?function(n){return Ha(Bs(t,e),Ds(1),is(e))(n)}:function(n){return Ha(Bs(function(i,s,o){return t(i,s,o+1)}),Ds(1))(n)}}function A5(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Wo(e)}function T5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Ph.apply(void 0,[r].concat(t)))}}function N5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?ks(function(){return t},e,r):(typeof e=="number"&&(r=e),ks(function(){return t},r))}function O5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new L5(t,e,r))}}var L5=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new P5(e,this.accumulator,this.seed,this.concurrent))},t}(),P5=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Ye(this),i=this.destination;i.add(n);var s=Ke(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Xe);function $5(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Wo(e)}function cn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new D5(i,e));var s=Object.create(n,up);return s.source=n,s.subjectFactory=i,s}}var D5=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function B5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Dt(t[0])&&(t=t[0]),function(r){return r.lift(new j5(t))}}var j5=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new F5(e,this.nextSources))},t}(),F5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Ye(this),i=this.destination;i.add(n);var s=Ke(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Xe);function H5(){return function(t){return t.lift(new W5)}}var W5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new V5(e))},t}(),V5=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(se);function z5(t,e){return function(r){return[Rr(t,e)(r),Rr(Kh(t,e))(r)]}}function U5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ar(q5(t,r))(n)}}function q5(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function G5(t){return t?cn(function(){return new ht},t):cn(new ht)}function J5(t){return function(e){return cn(new Bh(t))(e)}}function Z5(){return function(t){return cn(new ii)(t)}}function Q5(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new bu(t,e,n);return function(o){return cn(function(){return s},i)(o)}}function K5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Dt(t[0])&&(t=t[0]),n.lift.call(Yh.apply(void 0,[n].concat(t)))}}function Y5(t){return t===void 0&&(t=-1),function(e){return t===0?ni():t<0?e.lift(new Ah(-1,e)):e.lift(new Ah(t-1,e))}}var Ah=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new X5(e,this.count,this.source))},t}(),X5=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(se);function eM(t){return function(e){return e.lift(new tM(t))}}var tM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new rM(e,this.notifier,r))},t}(),rM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ht;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Ke(r,new Ye(this))},e}(Xe);function nM(t){return t===void 0&&(t=-1),function(e){return e.lift(new iM(t,e))}}var iM=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new sM(e,this.count,this.source))},t}(),sM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(se);function oM(t){return function(e){return e.lift(new aM(t,e))}}var aM=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new uM(e,this.notifier,this.source))},t}(),uM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ht;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Ke(i,new Ye(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Xe);function cM(t){return function(e){return e.lift(new lM(t))}}var lM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new hM(e),i=r.subscribe(n);return i.add(Ke(this.notifier,new Ye(n))),i},t}(),hM=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Xe);function fM(t,e){return e===void 0&&(e=wt),function(r){return r.lift(new dM(t,e))}}var dM=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new pM(e,this.period,this.scheduler))},t}(),pM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(gM,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(se);function gM(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function vM(t,e){return function(r){return r.lift(new bM(t,e))}}var bM=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new mM(e,this.compareTo,this.comparator))},t}(),mM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new yM(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),l=!1;try{l=s?s(o,a):o===a}catch(c){this.destination.error(c)}l||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(se),yM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(se);function _M(){return new ht}function wM(){return function(t){return gu()(cn(_M)(t))}}function SM(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(EM(n))}}function EM(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,l=0,c,d=!1,p=!1;return function(E){l++;var R;!a||d?(d=!1,a=new bu(r,i,o),R=a.subscribe(this),c=E.subscribe({next:function(L){a.next(L)},error:function(L){d=!0,a.error(L)},complete:function(){p=!0,c=void 0,a.complete()}}),p&&(c=void 0)):R=a.subscribe(this),this.add(function(){l--,R.unsubscribe(),R=void 0,c&&!p&&s&&l===0&&(c.unsubscribe(),c=void 0,a=void 0)})}}function MM(t){return function(e){return e.lift(new xM(t,e))}}var xM=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new RM(e,this.predicate,this.source))},t}(),RM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Di)},e}(se);function CM(t){return function(e){return e.lift(new IM(t))}}var IM=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new kM(e,this.total))},t}(),kM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(se);function AM(t){return function(e){return e.lift(new TM(t))}}var TM=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new zn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new se(e)):r.subscribe(new NM(e,this._skipCount))},t}(),NM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(se);function OM(t){return function(e){return e.lift(new LM(t))}}var LM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new PM(e,this.notifier))},t}(),PM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Ye(i);i.add(s),i.innerSubscription=s;var o=Ke(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Xe);function $M(t){return function(e){return e.lift(new DM(t))}}var DM=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new BM(e,this.predicate))},t}(),BM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(se);function jM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return or(r)?(t.pop(),function(n){return Ai(t,n,r)}):function(n){return Ai(t,n)}}var FM=function(t){F(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ws);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Cs(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ws),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ws),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(Me);function HM(t,e){return e===void 0&&(e=0),function(n){return n.lift(new WM(t,e))}}var WM=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new FM(r,this.delay,this.scheduler).subscribe(e)},t}();function $i(t,e){return typeof e=="function"?function(r){return r.pipe($i(function(n,i){return Tr(t(n,i)).pipe(ar(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new VM(t))}}var VM=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new zM(e,this.project))},t}(),zM=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Ye(this),s=this.destination;s.add(i),this.innerSubscription=Ke(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Xe);function UM(){return $i(Wn)}function qM(t,e){return e?$i(function(){return t},e):$i(function(){return t})}function GM(t){return function(e){return e.lift(new JM(t))}}var JM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new ZM(e),i=Ke(this.notifier,new Ye(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),ZM=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Xe);function QM(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new KM(t,e))}}var KM=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new YM(e,this.predicate,this.inclusive))},t}(),YM=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(se);function XM(t,e,r){return function(i){return i.lift(new ex(t,e,r))}}var ex=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new tx(e,this.nextOrObserver,this.error,this.complete))},t}(),tx=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Yt,o._tapError=Yt,o._tapComplete=Yt,o._tapError=i||Yt,o._tapComplete=s||Yt,Lh(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Yt,o._tapError=n.error||Yt,o._tapComplete=n.complete||Yt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(se),O0={leading:!0,trailing:!1};function rx(t,e){return e===void 0&&(e=O0),function(r){return r.lift(new nx(t,!!e.leading,!!e.trailing))}}var nx=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new ix(e,this.durationSelector,this.leading,this.trailing))},t}(),ix=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Ke(n,new Ye(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Xe);function sx(t,e,r){return e===void 0&&(e=wt),r===void 0&&(r=O0),function(n){return n.lift(new ox(t,e,r.leading,r.trailing))}}var ox=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new ax(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),ax=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ux,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(se);function ux(t){var e=t.subscriber;e.clearThrottle()}function cx(t){return t===void 0&&(t=wt),function(e){return yu(function(){return e.pipe(Bs(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ar(function(r){var n=r.current,i=r.last,s=r.value;return new lx(s,n-i)}))})}}var lx=function(){function t(e,r){this.value=e,this.interval=r}return t}();function L0(t,e,r){return r===void 0&&(r=wt),function(n){var i=k0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new hx(s,i,e,r))}}var hx=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new fx(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),fx=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Ke(n,new Ye(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Xe);function dx(t,e){return e===void 0&&(e=wt),L0(t,vu(new Uh),e)}function px(t){return t===void 0&&(t=wt),ar(function(e){return new gx(e,t.now())})}var gx=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function vx(t,e,r){return r===0?[e]:(t.push(e),t)}function bx(){return Wo(vx,[])}function mx(t){return function(r){return r.lift(new yx(t))}}var yx=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new _x(e),i=r.subscribe(n);return i.closed||n.add(Ke(this.windowBoundaries,new Ye(n))),i},t}(),_x=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ht,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ht;n.next(i)},e}(Xe);function wx(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Sx(t,e))}}var Sx=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Ex(e,this.windowSize,this.startWindowEvery))},t}(),Ex=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ht],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,l=0;l<a&&!this.closed;l++)o[l].next(r);var c=this.count-s+1;if(c>=0&&c%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var d=new ht;o.push(d),i.next(d)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(se);function Mx(t){var e=wt,r=null,n=Number.POSITIVE_INFINITY;return or(arguments[3])&&(e=arguments[3]),or(arguments[2])?e=arguments[2]:Cs(arguments[2])&&(n=Number(arguments[2])),or(arguments[1])?e=arguments[1]:Cs(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new xx(t,r,n,e))}}var xx=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Cx(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Rx=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ht),Cx=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var l=a.openWindow();if(i!==null&&i>=0){var c={subscriber:a,window:l,context:null},d={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(P0,n,c)),a.add(o.schedule(kx,i,d))}else{var p={subscriber:a,window:l,windowTimeSpan:n};a.add(o.schedule(Ix,n,p))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Rx;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(se);function Ix(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function kx(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},l={subscriber:r,window:s,context:a};a.subscription=n.schedule(P0,e,l),o.add(a.subscription),o.schedule(t,i)}function P0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Ax(t,e){return function(r){return r.lift(new Tx(t,e))}}var Tx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Nx(e,this.openings,this.closingSelector))},t}(),Nx=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=vr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var l=this.closingSelector;a=l(n)}catch(E){return this.error(E)}var c=new ht,d=new Rt,p={window:c,subscription:d};this.contexts.push(p);var v=vr(this,a,p);v.closed?this.closeWindow(this.contexts.length-1):(v.context=p,d.add(v)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(hn);function Ox(t){return function(r){return r.lift(new Lx(t))}}var Lx=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Px(e,this.closingSelector))},t}(),Px=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ht;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=vr(this,s))},e}(hn);function $x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Dx(i,n))}}var Dx=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Bx(e,this.observables,this.project))},t}(),Bx=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var l=n[a];s.add(vr(s,l,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(hn);function jx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Xh.apply(void 0,[n].concat(t)))}}function Fx(t){return function(e){return e.lift(new ef(t))}}const Hx=Object.freeze(Object.defineProperty({__proto__:null,audit:R0,auditTime:H3,buffer:W3,bufferCount:U3,bufferTime:Z3,bufferToggle:e4,bufferWhen:n4,catchError:o4,combineAll:c4,combineLatest:l4,concat:h4,concatAll:Jh,concatMap:I0,concatMapTo:f4,count:d4,debounce:v4,debounceTime:y4,defaultIfEmpty:is,delay:x4,delayWhen:k4,dematerialize:O4,distinct:$4,distinctUntilChanged:A0,distinctUntilKeyChanged:H4,elementAt:G4,endWith:J4,every:Z4,exhaust:Y4,exhaustMap:T0,expand:n5,filter:Rr,finalize:o5,find:c5,findIndex:h5,first:f5,flatMap:ip,groupBy:lp,ignoreElements:d5,isEmpty:v5,last:w5,map:ar,mapTo:S5,materialize:x5,max:A5,merge:T5,mergeAll:Oh,mergeMap:ks,mergeMapTo:N5,mergeScan:O5,min:$5,multicast:cn,observeOn:yp,onErrorResumeNext:B5,pairwise:H5,partition:z5,pluck:U5,publish:G5,publishBehavior:J5,publishLast:Z5,publishReplay:Q5,race:K5,reduce:Wo,refCount:gu,repeat:Y5,repeatWhen:eM,retry:nM,retryWhen:oM,sample:cM,sampleTime:fM,scan:Bs,sequenceEqual:vM,share:wM,shareReplay:SM,single:MM,skip:CM,skipLast:AM,skipUntil:OM,skipWhile:$M,startWith:jM,subscribeOn:HM,switchAll:UM,switchMap:$i,switchMapTo:qM,take:_c,takeLast:Ds,takeUntil:GM,takeWhile:QM,tap:XM,throttle:rx,throttleTime:sx,throwIfEmpty:Ho,timeInterval:cx,timeout:dx,timeoutWith:L0,timestamp:px,toArray:bx,window:mx,windowCount:wx,windowTime:Mx,windowToggle:Ax,windowWhen:Ox,withLatestFrom:$x,zip:jx,zipAll:Fx},Symbol.toStringTag,{value:"Module"})),wc=ri(Hx);var Vo={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.ClientMessagePublishEvent=Ot.ClientMessageSetSessionConfig=Ot.ClientMessageGetSessionConfig=Ot.ClientMessageIsLinked=Ot.ClientMessageHostSession=void 0;function Wx(t){return Object.assign({type:"HostSession"},t)}Ot.ClientMessageHostSession=Wx;function Vx(t){return Object.assign({type:"IsLinked"},t)}Ot.ClientMessageIsLinked=Vx;function zx(t){return Object.assign({type:"GetSessionConfig"},t)}Ot.ClientMessageGetSessionConfig=zx;function Ux(t){return Object.assign({type:"SetSessionConfig"},t)}Ot.ClientMessageSetSessionConfig=Ux;function qx(t){return Object.assign({type:"PublishEvent"},t)}Ot.ClientMessagePublishEvent=qx;var $0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ro,r=wc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(l){o.error(l);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=l=>{this.clearWebSocket(),o.error(new Error(`websocket error ${l.code}: ${l.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=l=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=l=>{this.incomingDataSubject.next(l.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})($0);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.isServerMessageFail=void 0;function Gx(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}zo.isServerMessageFail=Gx;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.WalletSDKConnection=void 0;const Ft=Ro,ce=wc,_i=ai,On=Vi,wi=Ot,Si=si,ys=$0,ja=zo,Th=1e4,Jx=6e4;class Zx{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ft.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,On.IntNumber)(1),this.connectedSubject=new Ft.BehaviorSubject(!1),this.linkedSubject=new Ft.BehaviorSubject(!1),this.sessionConfigSubject=new Ft.ReplaySubject(1);const o=new ys.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ce.tap)(a=>{var l;return(l=this.diagnostic)===null||l===void 0?void 0:l.log(Si.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:_i.Session.hash(e)})}),(0,ce.skip)(1),(0,ce.filter)(a=>a===ys.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ce.delay)(5e3),(0,ce.filter)(a=>!this.destroyed),(0,ce.flatMap)(a=>o.connect()),(0,ce.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ce.skip)(2),(0,ce.switchMap)(a=>(0,Ft.iif)(()=>a===ys.ConnectionState.CONNECTED,this.authenticate().pipe((0,ce.tap)(l=>this.sendIsLinked()),(0,ce.tap)(l=>this.sendGetSessionConfig()),(0,ce.map)(l=>!0)),(0,Ft.of)(!1))),(0,ce.distinctUntilChanged)(),(0,ce.catchError)(a=>(0,Ft.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ce.skip)(1),(0,ce.switchMap)(a=>(0,Ft.iif)(()=>a===ys.ConnectionState.CONNECTED,(0,Ft.timer)(0,Th)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ce.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ce.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var l;const c=a;(l=this.diagnostic)===null||l===void 0||l.log(Si.EVENTS.LINKED,{sessionIdHash:_i.Session.hash(e),linked:c.linked,type:a.type,onlineGuests:c.onlineGuests}),this.linkedSubject.next(c.linked||c.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ce.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var l;const c=a;(l=this.diagnostic)===null||l===void 0||l.log(Si.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:_i.Session.hash(e),metadata_keys:c&&c.metadata?Object.keys(c.metadata):void 0}),this.sessionConfigSubject.next({webhookId:c.webhookId,webhookUrl:c.webhookUrl,metadata:c.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Si.EVENTS.STARTED_CONNECTING,{sessionIdHash:_i.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Si.EVENTS.DISCONNECTED,{sessionIdHash:_i.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ce.filter)(e=>e),(0,ce.take)(1),(0,ce.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ce.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ce.map)(e=>e))}setSessionMetadata(e,r){const n=(0,wi.ClientMessageSetSessionConfig)({id:(0,On.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ce.flatMap)(i=>this.makeRequest(n)),(0,ce.map)(i=>{if((0,ja.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,wi.ClientMessagePublishEvent)({id:(0,On.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ce.flatMap)(s=>this.makeRequest(i)),(0,ce.map)(s=>{if((0,ja.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Th*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=Jx){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ft.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ce.timeoutWith)(r,(0,Ft.throwError)(new Error(`request ${n} timed out`))),(0,ce.filter)(i=>i.id===n),(0,ce.take)(1))}authenticate(){const e=(0,wi.ClientMessageHostSession)({id:(0,On.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ce.map)(r=>{if((0,ja.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,wi.ClientMessageIsLinked)({id:(0,On.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,wi.ClientMessageGetSessionConfig)({id:(0,On.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Vo.WalletSDKConnection=Zx;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.decrypt=ei.encrypt=void 0;const js=Q;async function Qx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,js.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),l=s.slice(0,s.byteLength-o),c=new Uint8Array(a),d=new Uint8Array(l),p=new Uint8Array([...r,...c,...d]);return(0,js.uint8ArrayToHex)(p)}ei.encrypt=Qx;function Kx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,js.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,js.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),l=s.slice(28),c=new Uint8Array([...l,...a]),d={name:"AES-GCM",iv:new Uint8Array(o)};try{const p=await window.crypto.subtle.decrypt(d,i,c),v=new TextDecoder;r(v.decode(p))}catch(p){n(p)}})()})}ei.decrypt=Kx;var Uo={},qo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(qo);Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Web3RequestCanceledMessage=void 0;const Yx=qo;function Xx(t){return{type:Yx.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Uo.Web3RequestCanceledMessage=Xx;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.Web3RequestMessage=void 0;const eR=qo;function tR(t){return Object.assign({type:eR.RelayMessageType.WEB3_REQUEST},t)}Go.Web3RequestMessage=tR;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.isWeb3ResponseMessage=ti.Web3ResponseMessage=void 0;const D0=qo;function rR(t){return Object.assign({type:D0.RelayMessageType.WEB3_RESPONSE},t)}ti.Web3ResponseMessage=rR;function nR(t){return t&&t.type===D0.RelayMessageType.WEB3_RESPONSE}ti.isWeb3ResponseMessage=nR;var iR=K&&K.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sR=K&&K.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B0=K&&K.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},oR=K&&K.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iR(e,t,r);return sR(e,t),e},aR=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jo,"__esModule",{value:!0});jo.WalletSDKRelay=void 0;const j0=aR(Fo),Qr=Ro,rt=wc,pt=si,uR=Vo,Ln=Bi,cR=Vi,Je=Q,_r=oR(ei),wr=ai,_s=zt,ut=Qs,lR=Uo,hR=Go,Nt=Ee,_t=ti;class Vt extends _s.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Qr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Qr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=wr.Session.load(this.storage)||new wr.Session(this.storage).save(),r=new uR.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,rt.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,rt.skip)(1),(0,rt.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(_s.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!l){this.isUnlinkedErrorState=!0;const c=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(pt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:c})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,rt.mergeMap)(i=>_r.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(_s.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,rt.mergeMap)(i=>_r.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(_s.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,rt.mergeMap)(i=>(0,Qr.zip)(_r.decrypt(i.metadata.ChainId,e.secret),_r.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,rt.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,rt.mergeMap)(i=>_r.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Vt.accountRequestCallbackIds.size>0&&(Array.from(Vt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,_t.Web3ResponseMessage)({id:s,response:(0,Nt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Vt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,rt.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,rt.mergeMap)(i=>_r.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,rt.timeout)(1e3),(0,rt.catchError)(e=>(0,Qr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(pt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=wr.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:wr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Qr.Subscription;const{session:a,ui:l,connection:c}=this.subscribe();this._session=a,this.connection=c,this.ui=l,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ut.Web3Method.signEthereumMessage,params:{message:(0,Je.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ut.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Je.hexStringFromBuffer)(e,!0),signature:(0,Je.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ut.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Je.bigIntStringFromBN)(e.weiValue),data:(0,Je.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Je.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ut.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Je.bigIntStringFromBN)(e.weiValue),data:(0,Je.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Je.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Je.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Je.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Je.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ut.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Je.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ut.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Je.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ut.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Je.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r==null||r(),l.errorMessage)return a(new Error(l.errorMessage));o(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,hR.Web3RequestMessage)({id:e,request:r}),s=wr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(pt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?wr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(pt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?wr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,lR.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Qr.Observable(s=>{_r.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,rt.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Qr.from)(_r.decrypt(e.data,this.session.secret)).pipe((0,rt.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,_t.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Nt.isRequestEthereumAccountsResponse)(n)){Vt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Vt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Ln.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ut.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Je.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,c=>{if(this.ui.hideRequestEthereumAccounts(),c.errorMessage)return o(new Error(c.errorMessage));s(c)});const l=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l)){let c;try{(0,Je.isInIFrame)()&&window.top?c=window.top.location:c=window.location}catch{c=window.location}c.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(c.href)}`;return}if(this.ui.inlineAccountsResponse()){const c=d=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:r,response:(0,Nt.RequestEthereumAccountsResponse)(d)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:c})}else{const c=Ln.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(c)})}Vt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ut.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Je.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,d=>{if(d.errorMessage)return a(new Error(d.errorMessage));o(d)});const l=d=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:n,response:(0,Nt.SelectProviderResponse)(cR.ProviderType.Unselected)}))},c=d=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:n,response:(0,Nt.SelectProviderResponse)(d)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:c,onCancel:l,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ut.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const c=(0,Je.randomBytesHex)(8),d=v=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,v),l==null||l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const p=new Promise((v,E)=>{this.relayEventManager.callbacks.set(c,N=>{if(l==null||l(),N.errorMessage)return E(new Error(N.errorMessage));v(N)});const R=N=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:c,response:(0,Nt.WatchAssetReponse)(!1)}))},L=()=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:c,response:(0,Nt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:L,onCancel:R,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)});return{cancel:d,promise:p}}addEthereumChain(e,r,n,i,s,o){const a={method:ut.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const c=(0,Je.randomBytesHex)(8),d=v=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,v),l==null||l()};return this.ui.inlineAddEthereumChain(e)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((v,E)=>{this.relayEventManager.callbacks.set(c,N=>{if(l==null||l(),N.errorMessage)return E(new Error(N.errorMessage));v(N)});const R=N=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:c,response:(0,Nt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},L=N=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:c,response:(0,Nt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:N})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:R,onApprove:L,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(c,a)}),cancel:d}}switchEthereumChain(e,r){const n={method:ut.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Je.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,l)=>{this.relayEventManager.callbacks.set(i,p=>{if((0,Nt.isErrorResponse)(p)&&p.errorCode)return l(Ln.standardErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(p.errorMessage)return l(new Error(p.errorMessage));a(p)});const c=p=>{var v;if(p){const E=(v=(0,Ln.getErrorCode)(p))!==null&&v!==void 0?v:Ln.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ut.Web3Method.switchEthereumChain,p instanceof Error?p:Ln.standardErrors.provider.unsupportedChain(e),E)}else this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i,response:(0,Nt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},d=p=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:i,response:(0,Nt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:p})}))};this.ui.switchEthereumChain({onCancel:c,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return wr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,_t.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ut.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ut.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Vt.accountRequestCallbackIds=new Set;B0([j0.default],Vt.prototype,"resetAndReload",null);B0([j0.default],Vt.prototype,"handleIncomingEvent",null);jo.WalletSDKRelay=Vt;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.WalletSDKRelayEventManager=void 0;const fR=Q;class dR{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,fR.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Jo.WalletSDKRelayEventManager=dR;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.CoinbaseWalletSDK=void 0;const pR=Us,gR=qs,vR=Gs,bR=Un,mR=Eo,yR=jo,_R=Jo,wR=Q,F0=oi;class Zo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||gR.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=c=>new mR.WalletSDKUI(c),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),l=`${a.protocol}//${a.host}`;this._storage=new vR.ScopedLocalStorage(`-walletlink:${l}`),this._storage.setItem("version",Zo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new _R.WalletSDKRelayEventManager,this._relay=new yR.WalletSDKRelay({linkAPIUrl:s,version:F0.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new bR.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,wR.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,pR.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Ti.CoinbaseWalletSDK=Zo;Zo.VERSION=F0.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Ti,r=Un;var n=Ti;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Un;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(_u);const SR=q0(_u),LR=sp({__proto__:null,default:SR},[_u]);export{LR as i};
